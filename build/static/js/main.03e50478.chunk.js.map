{"version":3,"sources":["assets/img/login-logo.png","assets/img/sb-pin-logo.png","assets/img/product-image-default.png","components/Sidebar/Sidebar.jsx","config/session.js","reducers/user-reducer.js","reducers/index.js","reducers/types.js","config/api.js","config/store.js","layouts/User/UserActions.js","layouts/Admin/actions/ProductCategoryActions.js","layouts/User/Login.jsx","layouts/Admin/actions/PageActions.js","layouts/User/Register.js","components/Navbars/AdminNavbar.jsx","components/Footer/Footer.jsx","components/FixedPlugin/FixedPlugin.jsx","views/NotFound.js","layouts/Admin/actions/ProductActions.js","reducers/products/types.js","components/Products/ProductList.js","components/Products/Add.js","components/Products/Edit.js","components/Tours/TourList.js","components/TourDates/TourDateList.js","components/Tours/AddTour.js","components/Tours/EditTour.js","components/Products/ImportProducts.js","components/Products/ImportProductsJson.js","components/Products/ImportProductsExcel.js","components/ProductCategory/ProductCategory.js","components/ProductCategory/AddProductCategory.js","components/ProductCategory/EditProductCategory.js","views/Map.js","layouts/Admin/Admin.jsx","views/AddPage.js","views/EditPage.js","views/Settings.js","views/ChangePassword.js","components/Reports/SalesReports.js","components/Reports/OrderReports.js","components/Reports/ProductReports.js","components/Orders/OrdersList.js","layouts/Admin/actions/OrderActions.js","components/Products/UploadProductImages.js","components/ProductCategory/ImportCategoriesExcel.js","components/ProductCategory/SyncProductCategories.js","views/Activate.js","views/Agreement.js","components/Products/ProductVouchers.js","routes.js","app.js","index.js","assets/img/sb-pin-logo-blu.png"],"names":["module","exports","__webpack_require__","p","ps","getSession","key","localStorage","getItem","setSession","data","setItem","initialState","currentUser","combineReducers","global","state","arguments","length","undefined","action","type","Object","objectSpread","payload","instance","token","axios","create","baseURL","timeout","headers","Content-Type","Authorization","concat","middleware","thunk","withExtraArgument","api","store","createStore","rootReducer","compose","applyMiddleware","apply","getProviderPlaces","cb","dispatch","getState","_ref4","get","then","response","catch","error","console","getProviderInfo","_ref5","updateProfile","providerInfo","_ref6","body","patch","getProductCategoriesAll","query","params","getProductCategoriesAllV2","placeId","getProductCategories","getProductCategoriesV2","updateProductCategory","category","categoryId","deleteProductCategory","delete","uploadPhoto","post","removePhoto","photoId","Login","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","e","_e$target","target","name","value","setState","defineProperty","resetPasswordText","handleSubmit","preventDefault","submitted","_this$state","email","password","loggingIn","login","result","sessionToken","JSON","parse","defaultPage","pageInfo","places","Array","defaultPlace","find","item","isDefault","_id","stringify","toString","log","history","push","window","location","reload","isLoading","status","statusText","message","setLoading","toggleResetPasswordModal","prevState","modal","resettingPassword","emailReset","handleResetPassword","sendResetPasswordRequest","alert","loggedIn","loading","_this$state2","react_default","a","createElement","LoadingOverlay_default","active","spinner","text","className","style","margin","width","top","alt","src","logo","onSubmit","onChange","placeholder","reactstrap_es","lg","md","sm","lineHeight","NavLink","to","onClick","isOpen","toggle","backdrop","aria-label","color","aria-hidden","htmlFor","id","React","Component","connect","_ref2","userData","info","userId","objectId","isGuest","isAdmin","isSBTours","createdAt","_ref3","getPageById","addPage","page","updatePage","place","getPageTypes","getPageCategories","getAmenities","Register","cities","selectedCity","coordinates","latVal","Number","lngVal","lat","lng","showNotificationError","firstName","lastName","phone","confirmPassword","storeName","address","pageType","city","postalCode","numberOfEmployees","validPhoneNumber","user","contactNumber","addressLine1","signingUp","register","resultPage","String","showNotification","country","province","bankaccount","isVerified","isActive","photos","useCreatedProductCategory","hideTutorials","productUploadXLSEnabled","productVouchersEnabled","setTimeout","handlePhoneNumber","reg","exec","onDismiss","visible","alertText","alertColor","pageTypes","_this2","filter","map","index","fade","bsSize","renderCities","renderPageTypes","_ref","statusCode","AdminNavbar","updateColor","innerWidth","collapseOpen","toggleCollapse","toggleModalSearch","modalSearch","onLogout","confirm","clear","isSwitching","changeDefaultPage","bind","assertThisInitialized","addEventListener","removeEventListener","_this3","Fragment","divider","tag","data-id","Link","thumb","logoBlu","title","_this4","defaultPageNew","currentTarget","dataset","resp","primaryPhoto","photoThumb","isCover","classNames","expand","fluid","toggled","sidebarOpened","toggleSidebar","href","brandText","aria-expanded","data-target","data-toggle","navbar","nav","display","fontWeight","fontSize","caret","right","renderPageSwitch","index_es","icon","modalClassName","data-dismiss","Footer","Date","getFullYear","Sidebar","linkOnClick","document","documentElement","classList","remove","activeRoute","isGrocery","routeName","pathname","indexOf","navigator","platform","PerfectScrollbar","refs","sidebar","suppressScrollX","suppressScrollY","destroy","_this$props","bgColor","routes","rtlActive","sidebarRoutes","showOnSidebar","logoImg","logoText","outterLink","imgSrc","innerLink","ref","prop","redirect","path","pro","activeClassName","rtlName","defaultProps","FixedPlugin","handleClick","classes","activateMode","mode","add","hidden","data-color","handleBgClick","block","outline","disabled","Settings","getProductsByPageId","pageId","getProductsGroceryByPageId","getProductsByProviderId","getProductById","productId","addProduct","product","updateProduct","deleteProduct","getProductTypes","merchantApiLogin","endpoint","username","importProductsFromApi","apiKey","syncProductsFromAPI","Products","onHideTutorials","isSaving","handleChangeKeyword","keyword","handleEnter","activePage","url","search","queryString","trim","queryStr","refreshProductList","handleDelete","handleChangeAvailability","availability","selectedAvailability","handleChangeProductCategory","productCategoriesAll","productCategoriesSub","subCategory","parent","selectedProductCategorySub","selectedProductCategory","handleChangeProductCategorySub","handleChangeProductStatus","handlePageChange","pageNumber","handleChangePerPage","size","handleCheckAll","isChecked","checked","checkboxes","querySelectorAll","checkboxesArr","from","forEach","checkbox","handleCheck","toConsumableArray","handleDeleteChecked","items","deletedItems","hasError","isProcessing","array","getElementById","handlePublishChecked","updatedItems","products","list","checkedItems","handleUnpublishChecked","sortCreated","sort","sortBy","sortUpdated","sortPrice","sortName","sortItemCode","copyToClipboard","clipboard","writeText","err","exportProducts","checkAll","isGeneratingXls","filename","fileName","open","productTypes","productCategories","pagination","selectedPage","pageName","getCategories","_isMount","colSpan","react_spinners","sizeUnit","productsArr","position","renderImage","format","updatedAt","itemCode","barcode","renderCategories","categories","align","price","numberWithCommas","data-item","cursor","switch_min_default","nextStatus","forSale","toggleSwitchForSale","on","toggleSwitchIsActive","isLocked","toggleSwitchIsLocked","cat","defaultProductImage","left","middle","object","data-src","_this5","_this6","notification","autoDismiss","notify","notificationAlert","_this7","total","_this8","categoriesAll","productCategoriesMain","label","dist_default","_this9","hasCategories","hasProducts","onKeyPress","textAlign","react_select_esm","styles","options","isClearable","responsive","whiteSpace","renderRows","Pagination_default","innerClass","itemsCountPerPage","limit","totalItemsCount","pageRangeDisplayed","Math","ceil","numberWithCommasOnly","marginBottom","renderPageNotVerified","renderNoPageAdded","x","priceRound","replace","dec","isNaN","Error","parseFloat","round","toFixed","AddProduct","handleChangeSection","_e$target2","section","productType","tags","DineIn","PickUp","Delivery","containerFee","supportedOrderOption","pickup","delivery","amount","description","unit","autofullfill","comparePrice","expanded","submittedHighlight","activeStep","steps","productInfo","vertical","float","renderProductTypes","height","categoriesTree","parentCategories","childCategories","sublist","children1","category1","children","renderVerticalNavBar","renderProductInfoStep","renderPageDisabled","delimiters","divStyle","justifyContent","alignItems","borderWidth","borderColor","borderStyle","borderRadius","EditProduct","i","newTags","tags2d","handleAddition","handleDrag","currPos","newPos","slice","splice","handleChangeDesc","handleDisableBarcode","disableBarcode","handleDisableItemcode","disableItemcode","handleFileUpload","files","isUploading","images","formData","FormData","append","photo","removeImage","imgId","deleted","newImages","onAlertDismiss","messageOpen","tagsMapped","categoriesArr","newCategories","parentArr","categoryObj","slug","parentArrUnique","Set","includes","forDinein","forPickup","forDelivery","containerFeePickup","containerFeeDelivery","containerFeeAmt","dateAdded","lastUpdated","substr","generateVoucherCodes","vouchers","isGenerating","number","added","match","productExist","productSettings","productCategory","subC","productObj","tagsList","tagsArray","listItem","categoriesIdArray","catId","summary","isFeatured","cost","amenitites","amenity","autoComplete","ReactTags","autofocus","check","defaultChecked","readOnly","icons","index_browser_default","nodes","onCheck","onExpand","showNodeIcon","nativeCheckboxes","border","backgroundColor","original","padding","lib_default","code","fontFamily","isUsed","childCategoriesMain","provider","uncheck","halfCheck","expandClose","expandOpen","expandAll","collapseAll","parentClose","parentOpen","leaf","cancelLink","renderPriceStep","renderProductSettings","renderProductCategory","renderImages","renderVouchers","Tours","cloneItem","tourId","tour","tourData","isSuperGuide","tourDetails","about","numberOfPax","numberOfGroups","minNumber","maxNumber","highlights","activities","sections","addons","tours","toursArr","paddingRight","tourNew","_response$data","TourDates","refreshTourDates","handleChangeTourDate","tourDate","handleChangeStartDate","date","dateStart","handleChangeEndDate","dateEnd","tourDateId","handleChangeTour","toggleAddTourDateModal","addTourDateModalOpen","placeName","promotionalText","handleAddTourDate","addingTourDate","submittedTourDate","submittedAddon","handleEditTourDate","editingTourDate","submittedTourDateEdit","editTourDateModalOpen","editTourDate","submittedHighlightEdit","toggleEditTourDateModal","tourDates","edingTourDate","today","tourDatesArr","imageComming","tourDateNew","react_datepicker_min_default","selectsStart","startDate","endDate","minDate","selected","defaultValue","renderTours","renderAddTourDateModal","renderEditTourDateModal","AddTour","handleChangeHighlight","highlight","handleChangeDateTime","dateTime","_e$target3","handleChangeSectionIcon","iconName","handleChangeAddon","_e$target4","addon","handleAddHighlight","highlightsLength","addingHighlight","isAdded","order","day","image","addHighlightModalOpen","handleAddSection","sectionsLength","submittedSection","addingSection","sectionData","route","iconType","toggleAddSectionModal","handleAddAddon","addingAddon","toggleAddAddonModal","addTour","toggleAddHighlightModal","removeHighlight","itemIndex","newHighlights","addSectionModalOpen","removeSection","newSections","addAddonModalOpen","removeAddon","newAddons","dateNow","tourTypes","showTimeSelect","timeFormat","timeIntervals","timeCaption","dateFormat","renderTourHighlights","renderTourSections","renderTourAddons","renderAddHighlightModal","renderAddSectionModal","renderAddTourAddonModal","handleChangeHighlightEdit","highlightEdit","handleChangeDateTimeEdit","handleChangeSectionEdit","_e$target5","sectionEdit","handleChangeSectionIconEdit","handleChangeCheckbox","_e$target6","handleChangeAddonEdit","_e$target7","addonEdit","handleEditHighlight","editingHighlight","editHighlightModalOpen","handleEditSection","submittedSectionEdit","editingSection","editSectionModalOpen","handleEditAddon","submittedAddonEdit","editingAddon","toggleEditAddonModal","handleFileUploadHighlight","isUploadingHighlight","handleFileUploadHighlightEdit","handleFileUploadSection","isUploadingSection","handleFileUploadSectionEdit","handleFileUploadAddon","isUploadingAddon","handleFileUploadAddonEdit","mediaId","removeImageHighlight","removeImageHighlightEdit","removeImageSection","removeImageSectionEdit","removeImageAddon","removeImageAddonEdit","editHighlight","toggleEditHighlightModal","toggleEditSectionModal","editSection","editAddon","editAddonModalOpen","renderEditHighlightModal","renderEditSectionModal","renderEditTourAddonModal","ImportProducts","handleImport","loginUrl","apiUsername","apiPassword","productsUrl","isFetching","res","userExist","pageObj","pageExists","privateApiInfo","invalidJsonText","totalItems","validatePayload","arr","_this$setState","syncProductsFromJSON","maxHeight","rows","handleFileSelect","file","fileReader","FileReader","onload","event","workbook","XLSX","read","SheetNames","sheet","rowObject","utils","sheet_to_row_object_array","Sheets","jsonObject","readAsBinaryString","accept","opacity","ProductCategory","refreshProductCategoryList","handleChangeParent","categoryType","handleChangeStatus","handleChangeParentChild","sortSlug","sortCode","renderProductCategoriesMain","AddProductCategory","slugName","slugify","toLowerCase","parentCategory","ancestors","addProductCategory","EditProductCategory","categoryExist","getProductCategoryById","onKeyUp","Geocode","setApiKey","enableDebug","Map","getCity","addressArray","types","long_name","getArea","j","onInfoWindowClose","onMarkerDragEnd","newLat","latLng","newLng","onDragMarkerEnd","fromLatLng","results","formatted_address","address_components","area","onPlaceSelected","latValue","geometry","lngValue","markerPosition","mapPosition","center","nextProps","nextState","AsyncMap","withScriptjs","withGoogleMap","react_google_maps_lib","google","defaultZoom","zoom","defaultCenter","onClose","draggable","onDragEnd","googleMapURL","loadingElement","containerElement","mapElement","AddPage","nextBtnToAddress","nextBtnToPageCategory","pageCategories","submitBtnDisabled","handleNextToAddress","handleNextToPageCategory","pageCategory","handleNextToOtherSettings","otherSettings","pagecategories","pageAmenities","allFeatures","features","checkedAmty","amty","amenityObj","isTop","amenities","updateCoordinates","addressLine2","streetby","commission","userDiscount","showCreatedProductSubCategory","productsViewGrid","expandedAmty","nextBtnToOtherSettings","minHeight","views_Map","amenitiesTree","marginTop","noCascade","onlyLeafCheckboxes","feature1","subItem","feature","renderVerticalNav","renderPageInfo","renderAddress","renderPageCategory","renderOtherSettings","handleSubmitButton","EditPage","productsNotificationText","notificationText","notificationType","bankName","accountName","accountNumber","pageInfoUpdated","bankInfo","warnings","amenitiesArray","itemId","destinations","contactName","defaultContactNumber","v","callContactNumber","landlineNumber","mobileNumber","website","priceCategory","hasLowestPrice","lowestPrice","businessHours","paymentMethod","renderBankInfo","userInfo","phoneNumber","homeAddress","ChangePassword","oldPassword","newPassword","oldPasswordReqText","newPasswordReqText","confirmPasswordReqText","changePassword","_ref7","OrderReports","datesStr","startDateStr","endDateStr","handleChangePaymentMethod","selectedPaymentMethod","handleToggleShowTests","showTests","generateList","generateTxnsList","exportList","getSalesListGroceryXls","getSalesListXls","transactions","_result$page","balances","getSalesListGrocery","txns","getSalesList","bookedForDate","datePaid","lastSixDigits","selectedPaymentOption","toUpperCase","grossSales","pointsAmountUsed","walletAmountUsed","discount","promosAmountStreetby","promosAmountMerchant","merchantNet","capitalizeFirstLetter","bookingOption","customer","customerLocation","netCustomerPayout","streetbyFees","extraFees","selectsEnd","renderNoProductsAdded","str","join","Reports","toISOString","handleChangeDebugMode","debugMode","getOrderListXls","getOrdersListGrocery","getOrdersList","orderId","itemName","quantity","productsTotal","string","ProductReports","handleChangeFilterDate","filterDate","handleChangeSortBy","getProductOrdersGroceryXls","getProductOrdersXls","startOfDay","endOfDay","getProductOrdersGrocery","getProductOrders","productName","substring","quantitySold","totalSales","Orders","toggleConfirm","modalConfirm","reason","subReason","toggleDrop","dropdownOpen","toggleNested","nestedModal","closeAll","toggleAll","togglePickupModal","showPickUpModal","dateStartStr","isLoadingOrderDetail","dateEndStr","refreshOrders","handleChangeDate","timeStart","timeEnd","addHours","subSeconds","handleChangeDeliveryTime","time","dateStartNew","dateEndNew","deliveryTime","prevStatus","handleChangeShopper","shopper","singleDetails","newShopper","shoppers","handleSearch","_this$state3","_this$state4","datesStartStr","datesEndStr","orders","canPickUp","showPaymentModal","providerNote","shopperOptions","flexDirection","flex","paddingLeft","paddingTop","mobileNumbers","diningOption","paymongoDetail","commissionPercentage","renderOrderStatus","requestedForVoid","findIndex","renderDeliveryStatusBadge","orderStatus","proceed","lastOrderStatus","deployedStatus","pickedupStatus","paidStatus","completedStatus","lastStatus","printMinDetails","printDetails","borderless","renderProducts","renderAddedProducts","renderPaymentInfo","renderOrderInfo","renderCustomerInfo","renderShopperInfo","isDelivery","renderDeliveryStatus","markupRate","markup","serviceCharge","addedProducts","newProducts","unavailable","grandTotal","itemsTotal","convenienceFee","deliveryFee","fee","cargoFee","promos","orderPromoDiscount","productPromos","days","promo","promoType","calculation","promoValue","gatewayFees","totalCustomer","commissionRate","paynamicsDetail","commissionType","commissionFixed","commissionFixedCondition","customerPayout","fontStyle","borderLeft","paddingBottom","isFinalData","deliveryStatusParser","renderVerticalLine","latestDeliveryInfo","pickupDate","deliveryEstimateDescription","consumerNotes","notes","resize","prod","productPhoto","medium","maxWidth","checkProductPhotos","heading","totalProducts","deliveryData","payloadData","fromMerchant","requestType","deliveryStatus","pickUp","detailId","selectedOrderIndex","eachOne","selectedOrder","mostRecentDeliveryStatus","newStatus","_this10","saveNewStatus","messages","cancelAction","_this11","wnd","htmlProducts","shopperInfo","shopperName","shopperEmail","shopperPhone","deliveryAddress","landmark","gMapAddress","googleAddress","cashPrepared","invoiceDetails","customerCash","receiverName","receiverPhone","rowClass","available","lastSixDigit","groceryFees","groceryFeesHeader","foodAndDrinkFees","foodAndDrinkFeesHeader","html","timeSelected","write","_this12","defaultPhoto","pp","_this13","pill","details","method","billingAddress","billing_name","address1","address2","state_province","postal","selectId","_this14","ordersArr","showDetails","_this15","docs","overflowY","striped","renderDetails","receivePayment","paymentData","totalPaid","invoiceId","confirmationCode","checkIfMine","fetchSingleOrderData","UploadProductImages","filesArr","totalImages","itemsProcessed","split","uploadPhotoByProductName","multiple","ImportCategories","File","handleSync","updated","_resp$data","categoriesUpdated","categoriesAdded","nModified","handleSyncParent","Activate","handleCheckActivate","activateAccount","hasMissingInfo","renderChecklist","renderPageActive","renderActivatePage","Agreement","handleCheckAgree","iAgree","dateAgreed","renderStep0","renderStep1","renderStep2","renderStep3","renderStep4","renderStep5","renderStep6","renderStep7","renderStep8","renderStep9","renderStep10","renderStep11","renderStep12","renderStep13","renderStep14","borderTop","renderPageVerified","ProductVouchers","vouchersArr","refreshProductVouchers","filterStatus","handleSelectProduct","filterProduct","voucherCodes","statusList","productList","offset","rel","dateUsed","claimedFrom","component","layout","ProductCategories","collapse","TourList","EditTour","OrdersList","ImportProductsExcel","SalesReports","ImportProductsJson","ImportCategoriesExcel","SyncProductCategories","Admin","getRoutes","Route","exact","getBrandText","mainPanel","tables","scrollTop","scrollingElement","components_Sidebar_Sidebar","assign","Navbars_AdminNavbar","Switch","NotFound","components_Footer_Footer","components_FixedPlugin_FixedPlugin","library","faIgloo","faEdit","faAdjust","faCog","faCopy","faPlus","faSquare","faCheckSquare","faPlusSquare","faMinusSquare","faTrash","faTrashAlt","faTimes","faFolder","faFolderOpen","faFile","faFileAlt","faFilePdf","faPrint","faArchive","faTimesCircle","faEyeSlash","faEye","faImage","faImages","faArrowUp","faArrowDown","faChevronUp","faChevronDown","faChevronLeft","faChevronRight","faMap","faMapPin","faCube","faExclamationTriangle","faQuestionCircle","faCalendar","faCalendarAlt","faEnvelope","faMobileAlt","faPhoneSquare","faFileExcel","faMapMarkerAlt","faHome","faFlag","faMonument","faMapMarked","faLock","faCheckCircle","hist","createBrowserHistory","App","es","Router","BrowserRouter","render","layouts_Admin_Admin","ReactDOM","app_App"],"mappings":"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","file":"static/js/main.03e50478.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/login-logo.a0b701b0.png\";","module.exports = __webpack_public_path__ + \"static/media/sb-pin-logo.f6f7f8f2.png\";","module.exports = \"data:image/png;base64,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\"","/*eslint-disable*/\nimport React from \"react\";\nimport { NavLink, Link } from \"react-router-dom\";\n// nodejs library to set properties for components\nimport { PropTypes } from \"prop-types\";\n// javascript plugin used to create scrollbars on windows\nimport { connect } from \"react-redux\";\nimport PerfectScrollbar from \"perfect-scrollbar\"\nimport { getSession } from '../../config/session';\nimport { getProviderPlaces } from \"../../layouts/User/UserActions\";\n\n// reactstrap components\nimport { Badge, Nav } from \"reactstrap\";\n\nvar ps;\n\nclass Sidebar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.activeRoute.bind(this);\n    this.state = {\n      isGrocery: false,\n      pageType: 'food-drink',\n    };\n  }\n  // verifies if routeName is the one active (in browser input)\n  activeRoute(routeName) {\n    return this.props.location.pathname.indexOf(routeName) > -1 ? \"active\" : \"\";\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession('userData'));\n    const sessionToken = userData.sessionToken;\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    \n    if(userData && userData.isSBTours) {\n      this.setState({pageType:'sb-tours'});\n    } else {\n      if(pageInfo) { // If pageType Grocery\n        if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') { // If pageType Grocery\n          this.setState({isGrocery:true});\n          this.setState({pageType:'grocery'});\n        }\n      } else {\n        this.props.getProviderPlaces(sessionToken,(error, result) => {\n          if (!error && result) {\n            if(result.places && result.places instanceof Array && result.places.length > 0 ) {\n              const defaultPlace = result.places.find(item => item.isDefault);\n              if(defaultPlace && defaultPlace.place && defaultPlace.place._id) {\n                pageInfo = defaultPlace.place;\n              } else {\n                pageInfo = result.places[0].place;\n              }\n              if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') {\n                this.setState({isGrocery:true});\n                this.setState({pageType:'grocery'});\n              }\n            }\n          }\n        });\n      }\n    }\n    if (navigator.platform.indexOf(\"Win\") > -1) {\n      ps = new PerfectScrollbar(this.refs.sidebar, {\n        suppressScrollX: true,\n        suppressScrollY: false\n      });\n    }\n  }\n  componentWillUnmount() {\n    if (navigator.platform.indexOf(\"Win\") > -1) {\n      ps.destroy();\n    }\n  }\n  linkOnClick = () => {\n    document.documentElement.classList.remove(\"nav-open\");\n  };\n  // onLogout = () => {\n  //   if (window.confirm(\"Are you sure you want to logout?\")){\n  //     localStorage.clear();\n  //     if(getSession('userData') === null) {\n  //       this.props.history.push('/login');\n  //       window.location.reload();\n  //       return this.setState({ loggedIn: false });\n  //     }\n  //     return true;\n  //   } else {\n  //     return false;\n  //   }\n  // };\n  render() {\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let userData = JSON.parse(getSession(\"userData\"));\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    const { bgColor, routes, rtlActive, logo } = this.props;\n    const sidebarRoutes = routes.filter(item => item.showOnSidebar );\n    let logoImg = null;\n    let logoText = null;\n    if (logo !== undefined) {\n      if (logo.outterLink !== undefined) {\n        logoImg = (\n          <a\n            href={logo.outterLink}\n            className=\"simple-text logo-mini\"\n            target=\"_blank\"\n            onClick={this.props.toggleSidebar}\n          >\n            <div className=\"logo-img\">\n              <img src={logo.imgSrc} alt=\"react-logo\" />\n            </div>\n          </a>\n        );\n        logoText = (\n          <a\n            href={logo.outterLink}\n            className=\"simple-text logo-normal\"\n            target=\"_blank\"\n            onClick={this.props.toggleSidebar}\n          >\n            {logo.text}\n          </a>\n        );\n      } else {\n        logoImg = (\n          <Link\n            to={logo.innerLink}\n            className=\"simple-text logo-mini\"\n            onClick={this.props.toggleSidebar}\n          >\n            <div className=\"logo-img\">\n              <img src={logo.imgSrc} alt=\"react-logo\" />\n            </div>\n          </Link>\n        );\n        logoText = (\n          <Link\n            to={logo.innerLink}\n            className=\"simple-text logo-normal\"\n            onClick={this.props.toggleSidebar}\n          >\n            {logo.text}\n          </Link>\n        );\n      }\n    }\n    return (\n      <div className=\"sidebar\" data={bgColor}>\n        <div className=\"sidebar-wrapper\" ref=\"sidebar\">\n          {logoImg !== null || logoText !== null ? (\n            <div className=\"logo\">\n              {logoImg}\n              {logoText}\n            </div>\n          ) : null}\n          <Nav>\n            {sidebarRoutes.map((prop, key) => {\n              if (prop.redirect) return null;\n              if (pageInfo) {\n                const productVouchersEnabled = pageInfo && pageInfo.productVouchersEnabled ? true : false\n                const productUploadXLSEnabled = pageInfo && pageInfo.productUploadXLSEnabled ? true : false\n                if (userData.isSBTours === 'sb-tours') {\n                  if(prop.path === '/import-products') return null;\n                  if(prop.path === '/page') return null;\n                  if(prop.path === '/product-categories') return null;\n                  if(prop.path === '/products') return null;\n                  if(prop.path === '/reports/order') return null;\n                  if(prop.path === '/reports/product') return null;\n                } else {\n                  if(pageInfo.isVerified !== true || pageInfo.isActive !== true) {\n                    if(prop.path === '/order-list') return null;\n                    if(prop.path === '/reports/sales') return null;\n                    if(prop.path === '/reports/order') return null;\n                    if(prop.path === '/reports/product') return null;\n                  }\n                  //if(prop.path === '/import-products') return null;\n                  if(prop.path === '/orders') return null;\n                  if(prop.path === '/tours') return null;\n                  if(prop.path === '/tour-dates') return null;\n                  if(defaultPage) {\n                    if(defaultPage !== '5ccfe6aeb99ae3280fd246dc') {\n                      if(prop.path === '/import-products') return null;\n                    }\n                    if(defaultPage !== '5ccfe6aeb99ae3280fd246dc' && defaultPage !== '5ea5519c91aec75b7a387d4b' && !productUploadXLSEnabled) {\n                      if(prop.path === '/import-products-excel') return null;\n                    }\n                    if(!productVouchersEnabled) {\n                      if(prop.path === '/product-vouchers') return null\n                    }\n                  }\n                }\n              } else {\n                if(prop.path === '/import-products') return null;\n                if(prop.path === '/orders') return null;\n                if(prop.path === '/tours') return null;\n                if(prop.path === '/tour-dates') return null;\n                if(prop.path === '/order-list') return null;\n                if(prop.path === '/reports/sales') return null;\n                if(prop.path === '/reports/order') return null;\n                if(prop.path === '/reports/product') return null;\n              }\n\n              return (\n                <li\n                  className={\n                    this.activeRoute(prop.path) +\n                    (prop.pro ? \" active-pro\" : \"\")\n                  }\n                  key={key}\n                >\n                  <NavLink\n                    to={prop.path}\n                    className=\"nav-link\"\n                    activeClassName=\"active\"\n                    onClick={this.props.toggleSidebar}\n                  >\n                    <i className={prop.icon} />\n                <p>{rtlActive ? prop.rtlName : prop.name}</p>\n                  </NavLink>\n                </li>\n              );\n            })}\n            {/* <li key=\"1911\">\n              <NavLink to=\"\" onClick={this.onLogout} className=\"nav-link\" href=\"#\"><i className=\"tim-icons icon-button-power\"></i><p>Logout</p></NavLink>\n            </li> */}\n          </Nav>\n        </div>\n      </div>\n    );\n  }\n}\n\nSidebar.defaultProps = {\n  rtlActive: false,\n  bgColor: \"blue\",\n  routes: [{}]\n};\n\nSidebar.propTypes = {\n  // if true, then instead of the routes[i].name, routes[i].rtlName will be rendered\n  // insde the links of this component\n  rtlActive: PropTypes.bool,\n  bgColor: PropTypes.oneOf([\"primary\", \"blue\", \"green\"]),\n  routes: PropTypes.arrayOf(PropTypes.object),\n  logo: PropTypes.shape({\n    // innerLink is for links that will direct the user within the app\n    // it will be rendered as <Link to=\"...\">...</Link> tag\n    innerLink: PropTypes.string,\n    // outterLink is for links that will direct the user outside the app\n    // it will be rendered as simple <a href=\"...\">...</a> tag\n    outterLink: PropTypes.string,\n    // the text of the logo\n    text: PropTypes.node,\n    // the image src of the logo\n    imgSrc: PropTypes.string\n  })\n};\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps, { getProviderPlaces }\n)(Sidebar);\n","export const getSession = (key) => localStorage.getItem(key);\nexport const setSession = (key, data) => localStorage.setItem(key, data);","import { getSession } from '../config/session';\n\nimport {\n  SET_USER,\n} from './types';\n\nconst initialState = {\n  currentUser: getSession('userData') || null,\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case SET_USER: {\n      return {\n        ...state,\n        currentUser: action.payload,\n      };\n    }\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\n\nimport global from './user-reducer';\n\nexport default combineReducers({\n  global,\n});\n","export const SET_USER = 'SET_USER';\nexport const GET_PROVIDER_PLACES = 'GET_PROVIDER_PLACES';","import axios from 'axios';\nconst url = process.env.NODE_ENV === 'production' ? 'https://www.streetby.com' : 'http://localhost:5000';\n\nconst instance = token => {\n  const api = axios.create({\n    baseURL: url,\n    timeout: 10000,\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    },\n  });\n  return api;\n};\n\nexport default instance;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from '../reducers';\nimport api from './api';\n\nconst initialState = {};\n\nconst middleware = [thunk.withExtraArgument({ api })];\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  compose(\n    applyMiddleware(...middleware),\n    // window.__REDUX_DEVTOOLS_EXTENSION__ &&\n    //   window.__REDUX_DEVTOOLS_EXTENSION__(),\n  ),\n);\n\nexport default store;\n","import { SET_USER, GET_PROVIDER_PLACES } from '../../reducers/types';\nimport { setSession } from '../../config/session';\n\nexport const register = (body, cb) => (dispatch, getState, { api }) => {\n  api().post('/provider/register', body)\n    .then(response => {\n      if(response && response.data) {\n        const { data } = response;\n        if(response.status ===200) {\n          if(data.status === 'error') {\n            cb(data, null);\n          } else if (data.statusCode === 201) {\n            dispatch({\n              type: SET_USER,\n              payload: response.data\n            });\n            const userData = {\n              info: data.info,\n              email: data.email,\n              userId: data.objectId,\n              isGuest: data.isGuest,\n              isAdmin: data.isAdmin,\n              isSBTours: data.isSBTours,\n              sessionToken: data.sessionToken,\n              createdAt: data.createdAt,\n            }\n            cb(null, userData)\n          }\n        }\n      }\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\nexport const login = (email, password, cb) => (dispatch, getState, { api }) => {\n  const body = { email, password };\n  api().post('/provider/login', body)\n    .then(response => {\n      if(response && response.data) {\n        dispatch({\n          type: SET_USER,\n          payload: response.data\n        });\n        const data = response.data;\n        const userData = {\n          info: data.info,\n          email: data.email,\n          userId: data.objectId,\n          isGuest: data.isGuest,\n          isAdmin: data.isAdmin,\n          isSBTours: data.isSBTours,\n          sessionToken: data.sessionToken,\n          createdAt: data.createdAt,\n        }\n        const defaultPage = data.defaultPage ? data.defaultPage : \"\";\n        setSession('userData',JSON.stringify(userData));\n        setSession('defaultPage',JSON.stringify(defaultPage));\n        return cb(null, true);\n      }\n      cb(true, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\nexport const sendResetPasswordRequest = (email, cb) => (dispatch, getState, { api }) => {\n  const body = { email };\n  api().post('/provider/resetPasswordRequest', body)\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, true);\n      }\n      cb(true, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n}; \n\nexport const getProviderPlaces = (token,cb) => (dispatch, getState, {api}) => {\n  api(token).get('/provider/places')\n    .then(response => {\n      if(response && response.data) {\n        dispatch({\n          type: GET_PROVIDER_PLACES,\n          payload: response.data\n        });\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      console.error({error});\n      cb(error, null);\n    })\n};\n\nexport const getProviderInfo = (token,cb) => (dispatch, getState, {api}) => {\n  api(token).get('/provider/places')\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\nexport const updateProfile = (providerInfo, token, cb) => (dispatch, getState, {api}) => {\n  const body = providerInfo;\n  api(token)\n    .patch(`/provider/update-profile`, body)\n    .then(response => {\n      if (response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const changePassword = (place, token, cb) => (dispatch, getState, {api}) => {\n  const body = place;\n  api(token).patch('/provider/change-password',body)\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\n","import api from '../../../config/api';\n\n// Get Product Categories (productcategories)\nexport const getProductCategoriesAll = (query, token, cb) => () => {\n  api(token).get(`/product-categories/all`, { params: query })\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\n// Get Product Categories (placeproductcategories)\nexport const getProductCategoriesAllV2 = (query, placeId, token, cb) => () => {\n  api(token).get(`/places/${placeId}/product-categories/all`, { params: query })\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\n// Get Product Categories (productcategories)\nexport const getProductCategories = (query, token, cb) => () => { \n  api(token).get(`/provider/product-categories`, { params: query })\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\n// Get Product Categories (productcategories)\nexport const getProductCategoriesV2 = (query, placeId, token, cb) => () => { \n  api(token).get(`/places/${placeId}/product-categories`, { params: query })\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\n// Get Main/Parent Product Categories (productcategories)\nexport const getProductCategoriesMain = (cb) => () => { \n  api().get('/product-categories')\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\nexport const addProductCategory = (category, placeId, token, cb) => () => {\n  const body = category;\n  api(token).post(`/places/${placeId}/product-categories`,body)\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\nexport const updateProductCategory = (category, categoryId, token, cb) => (dispatch, getState) => {\n  const body = category;\n  api(token).patch('/places/product-categories/'+categoryId,body)\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\nexport const deleteProductCategory = (categoryId, token, cb) => () => {\n  api(token)\n    .delete(`/places/product-categories/${categoryId}`)\n    .then(response => {\n      if (response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const getProductCategoryById = (categoryId, token, cb) => () => {\n  api(token).get('places/product-categories/'+categoryId)\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\nexport const uploadPhoto = (categoryId, data, token, cb) => (dispatch, getState) => {\n  api(token).post(`places/product-categories/${categoryId}/media`, data)\n    .then(response => {\n      if(response && response.data)\n      return cb(null, response.data);\n    })\n    .catch(error => {\n      cb(error,null);\n    })\n};\n\nexport const removePhoto = (categoryId, photoId, token, cb) => (dispatch, getState) => {\n  api(token).delete(`places/product-categories/${categoryId}/media/${photoId}`)\n    .then(response => {\n      if(response && response.data)\n      return cb(null, response.data);\n    })\n    .catch(error => {\n      cb(error,null);\n    })\n};","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { NavLink } from 'react-router-dom';\nimport { login, sendResetPasswordRequest } from \"./UserActions\";\nimport { setSession, getSession } from \"../../config/session\";\nimport { getProviderPlaces } from \"../../layouts/User/UserActions\";\nimport { getProductCategoriesAllV2 } from \"../../layouts/Admin/actions/ProductCategoryActions\";\nimport LoadingOverlay from 'react-loading-overlay';\n\nimport logo from \"assets/img/login-logo.png\";\n\nimport { \n  Button,\n  Col,\n  Modal,\n  ModalBody,\n  ModalFooter,\n  FormGroup,\n  Input,\n  Row\n} from \"reactstrap\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      loggedIn: false,\n      email: \"\",\n      emailReset: \"\",\n      password: \"\",\n      submitted: false,\n      isLoading: true,\n      loggingIn: false,\n      resettingPassword: false,\n      resetPasswordText: '',\n      modal: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({isLoading: false});\n    if (getSession(\"userData\") !== null) {\n      const userData = JSON.parse(getSession('userData'));\n      const sessionToken = userData.sessionToken;\n      const defaultPage = JSON.parse(getSession('defaultPage'));\n      if(defaultPage===\"\") {\n        this.props.getProviderPlaces(sessionToken,(error, result) => {\n          if (!error && result) {\n            let defaultPage = ''\n            if(result.places && result.places instanceof Array && result.places.length > 0 ) {\n              const defaultPlace = result.places.find(item => item.isDefault);\n              if(defaultPlace && defaultPlace._id) {\n                defaultPage = defaultPlace._id\n              } else {\n                defaultPage = result.places[0]._id\n              }\n            }\n            setSession('defaultPage',JSON.stringify(defaultPage));\n          }\n        });\n      }\n      return this.setState({ loggedIn: true });\n    } else {\n      return this.setState({ loggedIn: false });\n    }\n  }\n\n  handleChange = (e) => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n    if(name===\"emailReset\" && value.length > 0) {\n      this.setState({ resetPasswordText: \"\" });\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.setState({ submitted: true });\n    const { email, password } = this.state;\n    if (email && password) {\n      this.setState({ loggingIn: true });\n      this.props.login(email, password, (error, result) => {\n        if (!error && result) {\n          const userData = JSON.parse(getSession('userData'));\n          const sessionToken = userData.sessionToken;\n          let defaultPage = JSON.parse(getSession('defaultPage'));\n          this.props.getProviderPlaces(sessionToken,(error, result) => {\n            if (!error && result) {\n              let pageInfo = {};\n              if(result.places && result.places instanceof Array && result.places.length > 0 ) {\n                if(defaultPage===\"\") {\n                  const defaultPlace = result.places.find(item => item.isDefault);\n                  if(defaultPlace && defaultPlace._id) {\n                    defaultPage = defaultPlace._id;\n                    pageInfo = defaultPlace;\n                  } else {\n                    defaultPage = result.places[0]._id;\n                    pageInfo = result.places[0];\n                  }\n                  setSession('defaultPage',JSON.stringify(defaultPage));\n                } else {\n                  pageInfo = result.places.find(item => item._id.toString() === defaultPage);\n                }\n              }\n              if(pageInfo && pageInfo._id) {\n                setSession('pageInfo',JSON.stringify(pageInfo));\n                this.props.getProductCategoriesAllV2(\n                  {},\n                  defaultPage,\n                  sessionToken,\n                  (error, result) => {\n                    if(error) {\n                      console.log({error});\n                    }\n                    if (result) {\n                      setSession('hasCategories',true);\n                      this.props.history.push(\"/products\");\n                      window.location.reload();\n                    } else  {\n                      setSession('hasCategories',false);\n                      this.props.history.push(\"/products\");\n                      window.location.reload();\n                    }\n                    this.setState({ isLoading: false });\n                  }\n                );\n              } else {\n                this.props.history.push(\"/products\");\n                window.location.reload();\n              }\n            } else {\n              this.props.history.push(\"/products\");\n              window.location.reload();\n            }\n          });\n        } else {\n          if (error) {\n            if(error.response && error.response.status) {\n              const status = error.response.status;\n              const statusText = error.response.statusText;\n              if (status === 401) {\n                this.setState({ statusText: \"Invalid username or password.\", submitted: false, password: \"\" });\n              } else {\n                this.setState({ statusText: statusText });\n              }\n            } else {\n              if(error.message===\"Network Error\") {\n                this.setState({ statusText: \"Network Error. Please check your connection.\" });\n              }\n            }\n            this.setLoading();\n          }\n        }\n      });\n    }\n  }\n\n  toggleResetPasswordModal = () => {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n    this.setState({\n      resettingPassword: false,\n      emailReset: '',\n      resetPasswordText: ''\n    });\n  }\n\n  handleResetPassword = (e) => {\n    e.preventDefault();\n    this.setState({ resettingPassword: true });\n    const { emailReset } = this.state;\n    if(emailReset) {\n      this.props.sendResetPasswordRequest(emailReset, (error, result) => {\n        if (!error && result) {\n          alert('A password reset link has been sent to your email');\n          this.toggleResetPasswordModal();\n        } else {\n          if (error) {\n            if(error.response && error.response.status) {\n              const statusText = error.response.statusText;\n              this.setState({ resetPasswordText: statusText });\n            } else {\n              if(error.message===\"Network Error\") {\n                this.setState({ resetPasswordText: \"Network Error. Please check your connection.\" });\n              }\n            }\n          }\n          this.toggleResetPasswordModal();\n        }\n      });\n      this.setState({ resettingPassword: false });\n    } else {\n      this.setState({ \n        resetPasswordText: 'Please enter an email address', \n        resettingPassword: false \n      });\n    }\n  }\n\n  setLoading() {\n    this.setState(prevState => ({ loading: !prevState.loading }));\n  }\n\n  render() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    if(userData) {\n      this.props.history.push(\"/products\");\n      window.location.reload();\n    } else {\n      const {\n        email,\n        password,\n        submitted,\n        loggingIn,\n        statusText\n      } = this.state;\n      \n      if(this.state.isLoading) {\n        return(\n          <LoadingOverlay\n            active={true}\n            spinner\n            text='Loading...'\n            >\n          </LoadingOverlay>\n        )\n      } else {\n        return (\n          <div className=\"app\">\n            <div className=\"app-left\">\n              <div className=\"col-sm-12 col-lg-6\" style={{margin:'0 auto', width:'300px', top:'25%'}}>\n                <img className=\"login-logo\" alt=\"Streetby\" src={logo}\n              /></div>\n            </div>\n            <div className=\"app-right\">\n              <div className=\"login-container\">\n                <div className=\"col-sm-12\">\n                  <h2 className=\"page-title\">LOGIN</h2>\n                  {!statusText ? (\n                    <p className=\"welcome-text\">\n                      Welcome back! Please login to your account\n                    </p>\n                  ) : (\n                    <p className=\"welcome-text text-danger\">{statusText}</p>\n                  )}\n                  <form name=\"form\" onSubmit={this.handleSubmit}>\n                    <div\n                      className={\n                        \"form-field-group\" +\n                        (submitted && !email ? \" has-error text-danger\" : \"\")\n                      }\n                    >\n                      <input\n                        type=\"text\"\n                        className={\n                          \"login-input\" + (submitted && !email ? \" has-error\" : \"\")\n                        }\n                        name=\"email\"\n                        value={email}\n                        onChange={this.handleChange}\n                        placeholder=\"Email\"\n                      />\n                      {submitted && !email && (\n                        <div className=\"help-block\">Username is required</div>\n                      )}\n                    </div>\n                    <div\n                      className={\n                        \"form-field-group\" +\n                        (submitted && !password ? \" has-error text-danger\" : \"\")\n                      }\n                    >\n                      <input\n                        type=\"password\"\n                        className={\n                          \"login-input\" +\n                          (submitted && !password ? \" has-error\" : \"\")\n                        }\n                        name=\"password\"\n                        value={password}\n                        onChange={this.handleChange}\n                        placeholder=\"Password\"\n                      />\n                      {submitted && !password && (\n                        <div className=\"help-block\">Password is required</div>\n                      )}\n                    </div>\n                    <Row>\n                      <Col className=\"pr-md-1\" lg=\"4\" md=\"6\" sm=\"6\">\n                        <FormGroup>\n                          <button className=\"btn btn-round btn-primary-v2\">\n                            Login\n                          </button>\n                          {loggingIn && !statusText && (\n                            <img\n                              loading=\"lazy\"\n                              alt=\"loading\"\n                              src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n                            />\n                          )}\n                        </FormGroup>\n                      </Col>\n                      <Col className=\"pl-md-1\" lg=\"8\" md=\"6\" sm=\"6\">\n                        <FormGroup style={{lineHeight:\"3rem\"}}>\n                          <div className=\"forgot-password\">\n                            <NavLink to=\"#\" onClick={this.toggleResetPasswordModal}>Forgot Password</NavLink>\n                          </div>\n                        </FormGroup>\n                      </Col>\n                      <Col className=\"p4-md-1\" sm=\"12\">\n                        <FormGroup style={{lineHeight:\"3rem\"}}>\n                          <div className=\"register\">\n                            Don't have an account? <NavLink to=\"/register\" onClick={this.toggleResetPasswordModal}>Register</NavLink>\n                          </div>\n                        </FormGroup>\n                      </Col>\n                    </Row>\n                  </form>\n                </div>\n              </div>\n            </div>\n            <div>\n              <Modal isOpen={this.state.modal} toggle={this.toggleResetPasswordModal} backdrop=\"static\" className={this.props.className}>\n                <div className=\"modal-header\">\n                  <h4 className=\"modal-title\">Forgot Password</h4>\n                  <button type=\"button\" className=\"close\" onClick={this.toggleResetPasswordModal} aria-label=\"Close\" style={{color:\"rgba(0, 0, 0, 0.6)\"}}><span aria-hidden=\"true\">×</span></button>\n                </div>\n                <ModalBody>\n                  <form action=\"\">\n                      <FormGroup>\n                        <label htmlFor=\"emailReset\">A reset link will be sent to your email address</label>\n                        <p className=\"text-danger\">{this.state.resetPasswordText}</p>\n                        <Input type=\"text\" name=\"emailReset\" id=\"emailReset\" placeholder=\"Email Address\" onChange={this.handleChange} />\n                      </FormGroup>\n                  </form>\n                </ModalBody>\n                <ModalFooter>\n                  <Button color=\"info\" onClick={this.handleResetPassword}>Reset Password</Button>{' '}\n                  {this.state.resettingPassword && (\n                    <img\n                      alt=\"loading\"\n                      src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n                    />\n                  )}\n                  <Button color=\"secondary\" onClick={this.toggleResetPasswordModal}>Cancel</Button>\n                </ModalFooter>\n              </Modal>\n            </div>\n          </div>\n        );\n      }\n    }\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    login,\n    sendResetPasswordRequest,\n    getProviderPlaces,\n    getProductCategoriesAllV2\n  }\n)(Login);\n","import api from '../../../config/api';\n\nexport const getPageById = (placeId, token, cb) => () => {\n  api(token).get('/provider/places/'+placeId)\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\nexport const addPage = (page, token, cb) => () => {\n  const body = page;\n  api(token).post('/provider/places',body)\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\nexport const updatePage = (place, placeId, token, cb) => (dispatch, getState) => {\n  const body = place;\n  api(token).patch('/provider/places/'+placeId,body)\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\nexport const uploadPhoto = (placeId, data, token, cb) => (dispatch, getState) => {\n  api(token).post(`/business/places/${placeId}/media`, data)\n    .then(response => {\n      if(response && response.data)\n      return cb(null, response.data);\n    })\n    .catch(error => {\n      cb(error,null);\n    })\n};\n\nexport const removePhoto = (placeId, photoId, token, cb) => (dispatch, getState) => {\n  api(token).delete(`business/places/${placeId}/media/${photoId}`)\n    .then(response => {\n      if(response && response.data)\n      return cb(null, response.data);\n    })\n    .catch(error => {\n      cb(error,null);\n    })\n};\n\nexport const getPageTypes = (cb) => () => {\n  api().get('/provider/page-types')\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\nexport const getPageCategories = (cb) => () => { // Get New Page Categories (pagecategories)\n  api().get('/page-categories/all')\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\nexport const getAmenities = (cb) => () => { // Get New Amenities (amenities)\n  api().get('/provider/amenities')\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\nexport const getOrders = (cb) => () => {\n  api().post('/provider/fetchOrders')\n    .then(response => {\n      if(response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\nexport const addTour = (tour, token, cb) => (dispatch, getState) => {\n  const body = tour;\n  api(token)\n    .post(\"/provider/tours\", body)\n    .then(response => {\n      if (response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { NavLink } from 'react-router-dom';\nimport { register } from \"./UserActions\";\nimport { addPage, getPageTypes} from \"../Admin/actions/PageActions\";\nimport { setSession, getSession } from \"../../config/session\";\nimport api from \"../../config/api\";\nimport LoadingOverlay from 'react-loading-overlay';\n\nimport logo from \"assets/img/login-logo.png\";\n\nimport { \n  Alert,\n  Button,\n  Col,\n  Form,\n  FormGroup,\n  Input,\n  Row\n} from \"reactstrap\";\n\nclass Register extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      loggedIn: false,\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      phone: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n      storeName: \"\",\n      address: \"\",\n      city: \"\",\n      postalCode: \"\",\n      numberOfEmployees: \"\",\n      pageType: \"\",\n      validPhoneNumber: false,\n      submitted: false,\n      isLoading: true,\n      signingUp: false,\n      pageTypes: [],\n      cities: [],\n      visible: false,\n      alertText: \"\",\n      alertColor: \"primary\",\n      lat: 8.48479728734788,\n      lng: 124.65104731086728,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({isLoading: false});\n    if (getSession(\"userData\") !== null) {\n      const userData = JSON.parse(getSession('userData'));\n      const sessionToken = userData.sessionToken;\n      const defaultPage = JSON.parse(getSession('defaultPage'));\n      if(defaultPage===\"\") {\n        this.props.getProviderPlaces(sessionToken,(error, result) => {\n          if (!error && result) {\n            let defaultPage = ''\n            if(result.places && result.places instanceof Array && result.places.length > 0 ) {\n              const defaultPlace = result.places.find(item => item.isDefault);\n              if(defaultPlace && defaultPlace._id) {\n                defaultPage = defaultPlace._id\n              } else {\n                defaultPage = result.places[0]._id\n              }\n            }\n            setSession('defaultPage',JSON.stringify(defaultPage));\n          }\n        });\n      }\n      return this.setState({ loggedIn: true });\n    } else {\n      this.props.getPageTypes((error, result) => {\n        if (!error && result) {\n          this.setState({ pageTypes: result });\n        }\n      });\n      api().get('/provider/supported-cities')\n        .then(response => {\n          if(response && response.data) {\n              const cities = response.data;\n              this.setState({cities});\n            this.setState({isLoading:false});\n          } else {\n            this.setState({isLoading:false});\n          }\n        })\n        .catch(error => {\n          this.setState({isLoading:false});\n        })\n      return this.setState({ loggedIn: false });\n    }\n  }\n\n  handleChange = (e) => {\n    const { name, value } = e.target;\n    if(name === 'city' && value) {\n      const { cities } = this.state;\n      const selectedCity = cities && cities.length > 0 ? cities.find(item => item.name === value) : {};\n      const { location: { coordinates } } = selectedCity && selectedCity.location ? selectedCity : {};\n      if(coordinates && coordinates.length > 0 ) {\n        const latVal = Number(coordinates[1]);\n        const lngVal = Number(coordinates[0]);\n        if(latVal > 0 && lngVal > 0) {\n          this.setState({\n            lat: latVal,\n            lng: lngVal\n          });\n        } else {\n          this.setState({\n            lat: 8.48479728734788,\n            lng: 124.65104731086728,\n          });\n          this.showNotificationError('Map coordinates values are invalid!');\n        }\n      }\n    }\n    this.setState({ [name]: value });\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.setState({ submitted: true, statusText: \"\" });\n    const {\n      firstName,\n      lastName,\n      email,\n      phone,\n      password,\n      confirmPassword,\n      storeName,\n      address,\n      pageType,\n      city,\n      postalCode,\n      numberOfEmployees,\n      validPhoneNumber\n    } = this.state;\n\n    const user = {\n      firstName,\n      lastName,\n      email,\n      contactNumber: phone,\n      password,\n    }\n\n    const place = {\n      name: storeName, \n      addressLine1: address,\n      pageType,\n      city,\n      postalCode,\n      location: {\n        coordinates: [this.state.lng,this.state.lat],\n      },\n      numberOfEmployees\n    }\n\n    if (firstName && lastName && email && phone && password && confirmPassword && storeName && address && pageType && numberOfEmployees && city && postalCode  && validPhoneNumber) {\n      if(password !== confirmPassword) {\n        this.setState({ statusText: \"Your password confirmation did not match passwords did not match.\" });\n      } else {\n        this.setState({ signingUp: true });\n        this.props.register(user, (error, result) => {\n          if (!error && result) {\n            if(result.sessionToken && result.userId && result.email) {\n              if (storeName && address && pageType && city && postalCode) {\n                this.props.addPage(place, result.sessionToken, (error, resultPage) => {\n                  if (error) {\n                    console.error({error});\n                    this.setState({ submitted:false, signingUp:false });\n                    if(error instanceof String) {\n                      this.showNotificationError(error);\n                    } else if(error.response && error.response instanceof String) {\n                      this.showNotificationError(error.response);\n                    } else {\n                      this.showNotificationError('There is an problem saving the page. Please try again!');\n                    }\n                  } else {\n                    this.setState({ \n                      submitted:false, \n                      signingUp:false,\n                      loggedIn: false,\n                      firstName: \"\",\n                      lastName: \"\",\n                      email: \"\",\n                      phone: \"\",\n                      password: \"\",\n                      confirmPassword: \"\",\n                      storeName: \"\",\n                      address: \"\",\n                      city: \"\",\n                      postalCode: \"\",\n                      numberOfEmployees: \"\",\n                      pageType: \"\",\n                      validPhoneNumber: false\n                    });\n                    this.showNotification('You successfully created your merchant account. You will be redirected to activation.');\n                    const userData = {\n                      info: result.info,\n                      email: result.email,\n                      userId: result.userId,\n                      isGuest: result.isGuest ? result.isGuest : false,\n                      isAdmin: result.isAdmin ? result.isAdmin : false,\n                      isSBTours: result.isSBTours ? result.isSBTours : false,\n                      sessionToken: result.sessionToken,\n                      createdAt: result.createdAt,\n                    }\n                    if(resultPage && resultPage.place) {\n                      const { place } = resultPage;\n                      const pageInfo = {\n                        _id: place._id,\n                        name: place.name,\n                        addressLine1: place.addressLine1,\n                        city: place.city,\n                        country: \"\",\n                        province: \"\",\n                        postalCode: place.postalCode,\n                        pageType: place.pageType,\n                        bankaccount: {},\n                        isVerified: false,\n                        isActive: false,\n                        photos: {},\n                        useCreatedProductCategory: false,\n                        hideTutorials: true,\n                        productUploadXLSEnabled: place.productUploadXLSEnabled ? true : false,\n                        productVouchersEnabled: place.productVouchersEnabled ? true : false\n                      }\n                      setSession('pageInfo',JSON.stringify(pageInfo));\n                      setSession('defaultPage',JSON.stringify(place._id));\n                    }\n                    setSession('userData',JSON.stringify(userData));\n                    setSession('hasCategories',false);\n                    setSession('hasProducts',false);\n                    setTimeout(() => {\n                      this.props.history.push(\"/statement-of-agreement\");\n                      window.location.reload();\n                    }, 3000);\n                  }\n                });\n              } else {\n                this.setState({ submitted:true, signingUp:false  });\n                this.showNotificationError('Some field are required! Please fill the missing fields.');\n              }\n            }\n          } else {\n            if (error) {\n              this.setState({ submitted:false, signingUp:false });\n              if(error.status==='error') {\n                if(error.message===\"Network Error\") {\n                  this.showNotificationError('Network Error. Please check your connection.');\n                } else {\n                  this.showNotificationError(error.message);\n                }\n              } else if (error.response && error.response.data && error.response.data.message) {\n                const message = error.response.data.message;\n                if(message && typeof message === 'string') {\n                  this.showNotificationError(message);\n                } else {\n                  this.showNotificationError('There is an error in signing up. Please try again.');\n                }\n              }\n              this.setLoading();\n            }\n          }\n        });\n      }\n    } else {\n      this.showNotificationError('Some fields are missing. Please complete the form to continue.');\n    }\n  }\n\n  handlePhoneNumber = (e) => {\n    const { value } = e.target;\n    this.setState({ phone: value });\n    const OK = reg.exec(value);\n    if (OK)  {\n      this.setState({ validPhoneNumber: true });\n    } else {\n      this.setState({ validPhoneNumber: false });\n    } \n  }  \n\n  setLoading() {\n    this.setState(prevState => ({ loading: !prevState.loading }));\n  }\n\n  onDismiss = () => {\n    this.setState({ visible: false, alertText: \"\", alertColor: \"primary\" });\n  }\n\n  showNotification = (text) => {\n    this.setState({ visible: true, alertText: text , alertColor: \"success\" });\n  }\n\n  showNotificationError = (text) => {\n    this.setState({ visible: true, alertText: text, alertColor: \"danger\"  });\n  }\n\n  renderPageTypes() {\n    if (this.state.pageTypes !== undefined || this.state.pageTypes !== null) {\n      const activePageTypes = this.state.pageTypes.filter(\n        item => (item.isActive = !false)\n      );\n\n      return activePageTypes.map((item, index) => (\n        <option key={index} value={item._id}>\n          {item.name}\n        </option>\n      ));\n    }\n  }\n\n  renderCities(cities) {\n    if (cities && cities.length > 0) {\n      const activePageTypes = cities.filter(\n        item => (item.isActive = !false)\n      );\n      return activePageTypes.map((item, index) => (\n        <option key={index} value={item.name}>\n          {item.name}\n        </option>\n      ));\n    }\n  }\n\n  render() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    if(userData) {\n      this.props.history.push(\"/products\");\n      window.location.reload();\n    } else {\n      const {\n        firstName,\n        lastName,\n        email,\n        phone,\n        password,\n        confirmPassword,\n        storeName,\n        address,\n        city,\n        postalCode,\n        numberOfEmployees,\n        pageType,\n        submitted,\n        statusText,\n        validPhoneNumber\n      } = this.state;\n      \n      if(this.state.isLoading) {\n        return(\n          <LoadingOverlay\n            active={true}\n            spinner\n            text='Loading...'\n            >\n          </LoadingOverlay>\n        )\n      } else {\n        return (\n          <div className=\"app\">\n            <div className=\"app-left\">\n              <div className=\"col-sm-12 col-lg-6\" style={{margin:'0 auto', width:'300px', top:'25%'}}>\n                <img className=\"login-logo\" alt=\"Streetby\" src={logo}\n              /></div>\n            </div>\n            <div className=\"app-right\">\n              <div className=\"register-container\">\n                <div className=\"col-lg-12\">\n                  <h2 className=\"page-title\">Sign Up as New Merchant</h2>\n                  {!statusText ? (\n                    <p className=\"welcome-text\">&nbsp;</p>\n                  ) : (\n                    <p className=\"welcome-text text-danger\">{statusText}</p>\n                  )}\n                  <Alert color={this.state.alertColor} isOpen={this.state.visible} toggle={this.onDismiss} fade={false}>\n                    {this.state.alertText}\n                  </Alert>\n                  <Form name=\"form\" onSubmit={this.handleSubmit}>\n                    <Row>\n                      <div\n                        className={\"form-field-group col-md-6 col-sm-6\" + (submitted && !firstName ? \" has-error text-danger\" : \"\")}\n                      >\n                        <Input\n                          type=\"text\"\n                          bsSize=\"lr\"\n                          className={(submitted && !firstName ? \" has-error \" : \"\")}\n                          name=\"firstName\"\n                          value={firstName}\n                          onChange={this.handleChange}\n                          placeholder=\"First Name\"\n                        />\n                        {submitted && !firstName && (<div className=\"help-block\">First Name is required</div>)}\n                      </div>\n                      <div\n                        className={\"form-field-group col-md-6 col-sm-6\" + (submitted && !lastName ? \" has-error text-danger\" : \"\")}\n                      >\n                        <Input\n                          type=\"text\"\n                          bsSize=\"lr\"\n                          className={(submitted && !lastName ? \" has-error\" : \"\")}\n                          name=\"lastName\"\n                          value={lastName}\n                          onChange={this.handleChange}\n                          placeholder=\"Last Name\"\n                        />\n                        {submitted && !lastName && (\n                          <div className=\"help-block\">Last Name is required</div>\n                        )}\n                      </div>\n                    </Row>\n                    <Row>\n                      <div\n                        className={\"form-field-group col-sm-12\" + (submitted && !storeName ? \" has-error text-danger\" : \"\")}\n                      >\n                        <Input\n                          type=\"text\"\n                          bsSize=\"lr\"\n                          className={(submitted && !storeName ? \" has-error \" : \"\")}\n                          name=\"storeName\"\n                          value={storeName}\n                          onChange={this.handleChange}\n                          placeholder=\"Store Name\"\n                        />\n                        {submitted && !storeName && (<div className=\"help-block\">Store Name is required</div>)}\n                      </div>\n                    </Row>\n                    <Row>\n                      <div\n                        className={\"form-field-group col-md-6 col-sm-6\" + (submitted && !email ? \" has-error text-danger\" : \"\")}\n                      >\n                        <Input\n                          type=\"text\"\n                          bsSize=\"lr\"\n                          className={(submitted && !email ? \" has-error \" : \"\")}\n                          name=\"email\"\n                          value={email}\n                          onChange={this.handleChange}\n                          placeholder=\"Email\"\n                        />\n                        {submitted && !email && (<div className=\"help-block\">Email is required</div>)}\n                      </div>\n                      <div\n                        className={\"form-field-group col-md-6 col-sm-6\" + (submitted && (!phone || !validPhoneNumber) ? \" has-error text-danger\" : \"\")}\n                      >\n                        <Input\n                          type=\"text\"\n                          bsSize=\"lr\"\n                          className={(submitted && !phone && !validPhoneNumber ? \" has-error\" : \"\")}\n                          name=\"phone\"\n                          value={phone}\n                          onChange={this.handlePhoneNumber}\n                          placeholder=\"Phone\"\n                        />\n                        {submitted && !phone && (\n                          <div className=\"help-block\">Phone No. is required</div>\n                        )}\n                        {submitted && !validPhoneNumber && (\n                          <div className=\"help-block\">Phone No. is not valid</div>\n                        )}\n                        \n                      </div>\n                    </Row>\n                    <Row>\n                      <FormGroup\n                        className={\"form-field-group col-sm-12\" + (submitted && !address ? \" has-error text-danger\" : \"\")}\n                      >\n                        <Input\n                          type=\"text\"\n                          bsSize=\"lr\"\n                          className={(submitted && !address ? \" has-error \" : \"\")}\n                          name=\"address\"\n                          value={address}\n                          onChange={this.handleChange}\n                          placeholder=\"Address\"\n                        />\n                        {submitted && !address && (<div className=\"help-block\">Address is required</div>)}\n                      </FormGroup>\n                    </Row>\n                    <Row>\n                      <Col md=\"6\">\n                        <FormGroup\n                          className={\"form-field-group\" + (submitted && !city ? \" has-error text-danger\" : \"\")}\n                        >\n                          <Input\n                            id=\"city\"\n                            bsSize=\"lr\"\n                            name=\"city\"\n                            placeholder=\"City/Town\"\n                            type=\"select\"\n                            value={city}\n                            onChange={this.handleChange}\n                          >\n                            <option value=\"\">City/Town</option>\n                            {this.renderCities(this.state.cities)}\n                          </Input>\n                          {submitted && !city && (<div className=\"help-block\">City/Town is required</div>)}\n                        </FormGroup>\n                      </Col>\n                      <Col md=\"6\">\n                        <FormGroup\n                          className={\"form-field-group\" + (submitted && !postalCode ? \" has-error text-danger\" : \"\")}\n                        >\n                          <Input\n                            bsSize=\"lr\"\n                            name=\"postalCode\"\n                            placeholder=\"Postal Code\"\n                            type=\"text\"\n                            value={postalCode}\n                            onChange={this.handleChange}\n                          />\n                          {submitted && !postalCode && (<div className=\"help-block\">Postal Code is required</div>)}\n                        </FormGroup>\n                      </Col>\n                    </Row>\n                    <Row>\n                      <Col sm=\"12\" md=\"6\">\n                        <FormGroup\n                          className={\"form-field-group\" + (this.state.submitted && !pageType ? \" has-error text-danger\" : \"\")}\n                        >\n                          <Input\n                            id=\"pageType\"\n                            bsSize=\"lr\"\n                            name=\"pageType\"\n                            placeholder=\"Select Industry\"\n                            type=\"select\"\n                            value={pageType}\n                            onChange={this.handleChange}\n                          >\n                            <option value=\"\">Select Industry</option>\n                            {this.renderPageTypes()}\n                          </Input>\n                          {submitted && !pageType && (<div className=\"help-block\">Industry is required</div>)}\n                        </FormGroup>\n                      </Col>\n                      <Col sm=\"12\" md=\"6\">\n                        <FormGroup\n                          className={\"form-field-group\" + (submitted && !numberOfEmployees ? \" has-error text-danger\" : \"\")}\n                        >\n                          <Input\n                            bsSize=\"lr\"\n                            name=\"numberOfEmployees\"\n                            placeholder=\"No. of Employees\"\n                            type=\"number\"\n                            value={numberOfEmployees}\n                            onChange={this.handleChange}\n                          />\n                          {submitted && !numberOfEmployees && (<div className=\"help-block\">No. of Employees is required</div>)}\n                        </FormGroup>\n                      </Col>\n                    </Row>\n                    <Row>  \n                      <div\n                        className={\"form-field-group col-md-6 col-sm-6\" + (submitted && !password ? \" has-error text-danger\" : \"\")}\n                      >\n                        <Input\n                          type=\"password\"\n                          bsSize=\"lr\"\n                          className={(submitted && !password ? \" has-error \" : \"\")}\n                          name=\"password\"\n                          value={password}\n                          onChange={this.handleChange}\n                          placeholder=\"Password\"\n                        />\n                        {submitted && !password && (\n                          <div className=\"help-block\">Password is required</div>\n                        )}\n                      </div>\n                      <div\n                        className={\"form-field-group col-md-6 col-sm-6\" + (submitted && !confirmPassword ? \" has-error text-danger\" : submitted && password !== \"\" && password !== confirmPassword ? \" has-error text-danger\" : \"\")}\n                      >\n                      <Input\n                        type=\"password\"\n                        bsSize=\"lr\"\n                        className={(submitted && !confirmPassword ? \" has-error\" : submitted && password !== confirmPassword ? \" has-error\" : \"\")}\n                        name=\"confirmPassword\"\n                        value={confirmPassword}\n                        onChange={this.handleChange}\n                        placeholder=\"Confirm Password\"\n                      />\n                      {submitted && !confirmPassword && (<div className=\"help-block\">Please confirm password</div>)}\n                      {submitted && password !== \"\" && password !== confirmPassword && (<div className=\"help-block\">Confirm Password did not match</div>)}\n                    </div>\n                    </Row>\n                    <Row>\n                      <Col className=\"pr-md-1\" lg=\"4\" md=\"6\" sm=\"6\">\n                        <FormGroup>\n                          <Button className=\"btn-lg btn-round btn-primary-v2\">\n                            Sign Up\n                          </Button>\n                        </FormGroup>\n                      </Col>\n                      <Col className=\"p4-md-1\" sm=\"12\">\n                        <FormGroup style={{lineHeight:\"3rem\"}}>\n                          <div className=\"login\">\n                            Have an account?  <NavLink to=\"/login\">Log in</NavLink>\n                          </div>\n                        </FormGroup>\n                      </Col>\n                    </Row>\n                  </Form>\n                </div>\n              </div>\n            </div>\n            <LoadingOverlay\n              active={this.state.signingUp}\n              spinner\n              text='Saving...'\n              >\n            </LoadingOverlay>\n          </div>\n        );\n      }\n    }\n  }\n}\n\nconst reg = /^\\(?([0-9]{11})$/;\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    register,\n    addPage,\n    getPageTypes\n  }\n)(Register);\n","import React from \"react\";\n// nodejs library that concatenates classes\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport classNames from \"classnames\";\nimport api from \"../../config/api\";\nimport { getSession, setSession } from \"../../config/session\";\nimport { getProviderPlaces } from \"../../layouts/User/UserActions\";\nimport { getPageById } from \"../../layouts/Admin/actions/PageActions\";\nimport { FontAwesomeIcon as Fa } from \"@fortawesome/react-fontawesome\";\nimport LoadingOverlay from 'react-loading-overlay';\n\nimport logoBlu from \"assets/img/sb-pin-logo-blu.png\";\n\n// reactstrap components\nimport {\n  Collapse,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  UncontrolledDropdown,\n  Input,\n  NavbarBrand,\n  Navbar,\n  NavLink,\n  Nav,\n  Container,\n  Modal,\n} from \"reactstrap\";\n\nclass AdminNavbar extends React.Component {\n  constructor(props) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    \n    super(props);\n    this.state = {\n      collapseOpen: false,\n      modalSearch: false,\n      color: \"navbar-transparent\",\n      userData: userData,\n      places: [],\n      defaultPage: \"\",\n      isSwitching: false,\n    };\n    this.changeDefaultPage = this.changeDefaultPage.bind(this);\n  }\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    this.setState({ defaultPage: defaultPage });\n    window.addEventListener(\"resize\", this.updateColor);\n    this.props.getProviderPlaces(sessionToken,(error, result) => {\n      if (!error && result) {\n        this.setState({ places: result.places });\n      }\n    });\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateColor);\n  }\n  // function that adds color white/transparent to the navbar on resize (this is for the collapse)\n  updateColor = () => {\n    if (window.innerWidth < 993 && this.state.collapseOpen) {\n      this.setState({\n        color: \"bg-white\"\n      });\n    } else {\n      this.setState({\n        color: \"navbar-transparent\"\n      });\n    }\n  };\n  // this function opens and closes the collapse on small devices\n  toggleCollapse = () => {\n    if (this.state.collapseOpen) {\n      this.setState({\n        color: \"navbar-transparent\"\n      });\n    } else {\n      this.setState({\n        color: \"bg-white\"\n      });\n    }\n    this.setState({\n      collapseOpen: !this.state.collapseOpen\n    });\n  };\n  // this function is to open the Search modal\n  toggleModalSearch = () => {\n    this.setState({\n      modalSearch: !this.state.modalSearch\n    });\n  };\n  onLogout = () => {\n    if (!window.confirm(\"Are you sure you want to logout?\")) {\n      return false;\n    }\n    localStorage.clear();\n    setTimeout(() => { \n      if(getSession('userData') === null) {\n        this.props.history.push('/login');\n        window.location.reload();\n        return this.setState({ loggedIn: false });\n      }\n    },1000);\n  };\n  \n  renderPageSwitch(places) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    let defaultPage = JSON.parse(getSession('defaultPage'));\n    let pageInfo = JSON.parse(getSession('pageInfo'));\n    if(userData) {\n      if(!pageInfo) {\n        const sessionToken = userData.sessionToken;\n        this.props.getProviderPlaces(sessionToken,(error, result) => {\n          if (!error && result) {\n            if(result.places && result.places instanceof Array && result.places.length > 0 ) {\n              if(defaultPage===\"\") {\n                const defaultPlace = result.places.find(item => item.isDefault);\n                if(defaultPlace && defaultPlace._id) {\n                  defaultPage = defaultPlace._id;\n                  pageInfo = defaultPlace;\n                  setSession('pageInfo',JSON.stringify(pageInfo));\n                } else {\n                  defaultPage = result.places[0]._id;\n                  pageInfo = result.places[0];\n                  setSession('pageInfo',JSON.stringify(pageInfo));\n                }\n                setSession('defaultPage',JSON.stringify(defaultPage));\n              } else {\n                pageInfo = result.places.find(item => item._id.toString() === defaultPage);\n                setSession('pageInfo',JSON.stringify(pageInfo));\n              }\n            }\n          }\n        });\n      }\n\n      if(places) {\n        return places.map((item, index) => (\n          <React.Fragment key={item._id}>\n            <DropdownItem divider tag=\"li\" className=\"page-switch-list\"/>\n            <NavLink tag=\"li\" className={ defaultPage === item._id ? 'default-page page-switch-list' : 'page-switch-list' }>\n              <DropdownItem onClick={this.changeDefaultPage} data-id={item._id}>\n                <div className=\"page-switch\">\n                  <Link to=\"#\" className=\"page-photos\">\n                    <img\n                      src={(item.photos && item.photos.length > 0 && item.photos[0].thumb) ? item.photos[0].thumb : logoBlu }\n                      alt={item.name}\n                      title={item.name}\n                    />\n                  </Link>\n                  <p>{item.name}</p>\n                </div>\n              </DropdownItem>\n            </NavLink>\n          </React.Fragment>\n        ));\n      }\n    }\n  }\n\n  changeDefaultPage(e) {\n    const defaultPage = JSON.parse(getSession('defaultPage'));\n    const defaultPageNew = e.currentTarget.dataset.id;\n    if(defaultPage!==defaultPageNew) {\n      this.setState({ isSwitching: true });\n      const userData = JSON.parse(getSession('userData'));\n      const sessionToken = userData.sessionToken;\n      setSession('defaultPage',JSON.stringify(defaultPageNew));\n      this.props.getPageById(defaultPageNew, sessionToken, (error, result) => {\n        if (error) {\n          console.error(error);\n        } \n        if(result && result.page) {\n          const { page } = result;\n          const pageInfo = {\n            _id: page._id,\n            name: page.name,\n            addressLine1: page.addressLine1,\n            city: page.city,\n            country: page.country,\n            province: page.province,\n            postalCode: page.postalCode,\n            pageType: page.pageType,\n            bankaccount: page.bankaccount,\n            isVerified: page.isVerified,\n            isActive: page.isActive,\n            photos: page.photos,\n            useCreatedProductCategory: page.useCreatedProductCategory,\n            productUploadXLSEnabled: page.productUploadXLSEnabled ? true : false,\n            productVouchersEnabled: page.productVouchersEnabled ? true : false\n          }\n          setSession('pageInfo',JSON.stringify(pageInfo));\n        }\n      });\n      api(sessionToken).get(`/places/${defaultPage}/product-categories/get-one`)\n        .then(resp => {\n          if(resp) {\n            setSession('hasCategories',true);\n          } else {\n            setSession('hasCategories',false);\n          }\n        })\n      .catch(error => {\n        setSession('hasCategories',false);\n      })\n      this.setState({ defaultPage: defaultPageNew });\n      setTimeout(() => { \n        this.setState({ isSwitching: false });\n        this.props.history.push(\"/products\");\n        window.location.reload();\n      }, 3000);\n    }\n  }\n\n  render() {\n    let primaryPhoto = {};\n    let photoThumb = \"\";\n    if (\n      this.state.userData.info.photos &&\n      this.state.userData.info.photos.length > 0\n    ) {\n      primaryPhoto = this.state.userData.info.photos.find(\n        item => item.isCover\n      );\n      photoThumb = primaryPhoto ? primaryPhoto.thumb : logoBlu\n    } else {\n      photoThumb = logoBlu;\n    }\n    \n    return (\n      <>\n        <Navbar\n          className={classNames(\"navbar-absolute\", this.state.color)}\n          expand=\"lg\"\n        >\n          <Container fluid>\n            <div className=\"navbar-wrapper\">\n              <div\n                className={classNames(\"navbar-toggle d-inline\", {\n                  toggled: this.props.sidebarOpened\n                })}\n              >\n                <button\n                  className=\"navbar-toggler\"\n                  type=\"button\"\n                  onClick={this.props.toggleSidebar}\n                >\n                  <span className=\"navbar-toggler-bar bar1\" />\n                  <span className=\"navbar-toggler-bar bar2\" />\n                  <span className=\"navbar-toggler-bar bar3\" />\n                </button>\n              </div>\n              <NavbarBrand href=\"#\" onClick={e => e.preventDefault()}>\n                {this.props.brandText}\n              </NavbarBrand>\n            </div>\n            <button\n              aria-expanded={false}\n              aria-label=\"Toggle navigation\"\n              className=\"navbar-toggler\"\n              data-target=\"#navigation\"\n              data-toggle=\"collapse\"\n              id=\"navigation\"\n              type=\"button\"\n              onClick={this.toggleCollapse}\n            >\n              <span className=\"navbar-toggler-bar navbar-kebab\" />\n              <span className=\"navbar-toggler-bar navbar-kebab\" />\n              <span className=\"navbar-toggler-bar navbar-kebab\" />\n            </button>\n            <Collapse navbar isOpen={this.state.collapseOpen}>\n              <Nav className=\"ml-auto\" navbar>\n                <UncontrolledDropdown nav style={{ display: \"block\" }}>\n                  <p\n                    style={{\n                      fontWeight: \"600\",\n                      fontSize: \"12px\",\n                      lineHeight: \"45px\"\n                    }}\n                  >\n                    {this.state.userData &&\n                      this.state.userData.info &&\n                      this.state.userData.info.name &&\n                      this.state.userData.info.name}\n                  </p>\n                </UncontrolledDropdown>\n                <UncontrolledDropdown nav>\n                  <DropdownToggle\n                    caret\n                    color=\"default\"\n                    data-toggle=\"dropdown\"\n                    nav\n                    onClick={e => e.preventDefault()}\n                  >\n                    <b className=\"caret d-none d-lg-block d-xl-block\" />\n                    <div className=\"photo\">\n                      <img\n                        alt={ this.state.userData && this.state.userData.info && this.state.userData.info.name && this.state.userData.info.name }\n                        src={ photoThumb && photoThumb } \n                      />\n                    </div>\n                  </DropdownToggle>\n                  <DropdownMenu className=\"dropdown-navbar dropdown-page-switch\" right tag=\"ul\">\n                    {this.renderPageSwitch(this.state.places)}\n                    <NavLink tag=\"li\">\n                      <DropdownItem className=\"nav-item\"><Fa icon=\"plus\" /> <Link to=\"/add-page\">Add New Page</Link></DropdownItem>\n                    </NavLink>\n                    <DropdownItem divider tag=\"li\" />\n                    <NavLink tag=\"li\">\n                      <DropdownItem className=\"nav-item\"><Link to=\"/page\" style={{display:'block'}}>Edit Page</Link></DropdownItem>\n                    </NavLink>\n                    <NavLink tag=\"li\">\n                      <DropdownItem className=\"nav-item\"><Link to=\"/settings\" style={{display:'block'}}>Settings</Link></DropdownItem>\n                    </NavLink>\n                    <DropdownItem divider tag=\"li\" />\n                    <NavLink tag=\"li\">\n                      <DropdownItem\n                        className=\"nav-item\"\n                        onClick={this.onLogout}\n                      >\n                        Log out\n                      </DropdownItem>\n                    </NavLink>\n                  </DropdownMenu>\n                </UncontrolledDropdown>\n                <li className=\"separator d-lg-none\" />\n              </Nav>\n            </Collapse>\n          </Container>\n        </Navbar>\n        <Modal\n          modalClassName=\"modal-search\"\n          isOpen={this.state.modalSearch}\n          toggle={this.toggleModalSearch}\n        >\n          <div className=\"modal-header\">\n            <Input id=\"inlineFormInputGroup\" placeholder=\"SEARCH\" type=\"text\" />\n            <button\n              aria-label=\"Close\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n              onClick={this.toggleModalSearch}\n            >\n              <i className=\"tim-icons icon-simple-remove\" />\n            </button>\n          </div>\n        </Modal>\n        <LoadingOverlay\n          active={this.state.isSwitching}\n          spinner\n          text='Switching...'\n          >\n        </LoadingOverlay>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps, { getProviderPlaces, getPageById }\n)(AdminNavbar);\n","/*eslint-disable*/\nimport React from \"react\";\n// used for making the prop types of this component\nimport PropTypes from \"prop-types\";\n\n// reactstrap components\nimport { Container, Row, Nav, NavItem, NavLink } from \"reactstrap\";\n\nclass Footer extends React.Component {\n  render() {\n    return (\n      <footer className=\"footer\">\n        <Container fluid>\n          <Nav>\n            <NavItem>\n              <NavLink href=\"https://www.streetby.com\">StreetBy</NavLink>\n            </NavItem>\n            <NavItem>\n              <NavLink href=\"https://www.streetby.com/contact-us\">Contact Us</NavLink>\n            </NavItem>\n          </Nav>\n          <div className=\"copyright\">\n            &copy; {new Date().getFullYear()} Agila Innovations Inc.\n          </div>\n        </Container>\n      </footer>\n    );\n  }\n}\n\nexport default Footer;\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\n// reactstrap components\nimport { Button } from \"reactstrap\";\n\nclass FixedPlugin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      classes: \"dropdown show-dropdown\"\n    };\n  }\n  handleClick = () => {\n    if (this.state.classes === \"dropdown show-dropdown\") {\n      this.setState({ classes: \"dropdown show-dropdown show\" });\n    } else {\n      this.setState({ classes: \"dropdown show-dropdown\" });\n    }\n  };\n  activateMode = mode => {\n    switch (mode) {\n      case \"light\":\n        document.body.classList.add(\"white-content\");\n        break;\n      default:\n        document.body.classList.remove(\"white-content\");\n        break;\n    }\n  };\n  render() {\n    return (\n      <div className=\"fixed-plugin\" hidden={true}>\n        <div className={this.state.classes}>\n          <div onClick={this.handleClick}>\n            <FontAwesomeIcon className=\"fa-3x\" icon=\"cog\" />\n          </div>\n          <ul className=\"dropdown-menu show\">\n            <li className=\"header-title\">SIDEBAR BACKGROUND</li>\n            <li className=\"adjustments-line\">\n              <div className=\"badge-colors text-center\">\n                <span\n                  className={\n                    this.props.bgColor === \"primary\"\n                      ? \"badge filter badge-primary active\"\n                      : \"badge filter badge-primary\"\n                  }\n                  data-color=\"primary\"\n                  onClick={() => {\n                    this.props.handleBgClick(\"primary\");\n                  }}\n                />{\" \"}\n                <span\n                  className={\n                    this.props.bgColor === \"blue\"\n                      ? \"badge filter badge-info active\"\n                      : \"badge filter badge-info\"\n                  }\n                  data-color=\"blue\"\n                  onClick={() => {\n                    this.props.handleBgClick(\"blue\");\n                  }}\n                />{\" \"}\n                <span\n                  className={\n                    this.props.bgColor === \"green\"\n                      ? \"badge filter badge-success active\"\n                      : \"badge filter badge-success\"\n                  }\n                  data-color=\"green\"\n                  onClick={() => {\n                    this.props.handleBgClick(\"green\");\n                  }}\n                />{\" \"}\n              </div>\n            </li>\n            <li className=\"adjustments-line text-center color-change\">\n              <span className=\"color-label\">LIGHT MODE</span>{\" \"}\n              <span\n                className=\"badge light-badge mr-2\"\n                onClick={() => this.activateMode(\"light\")}\n              />{\" \"}\n              <span\n                className=\"badge dark-badge ml-2\"\n                onClick={() => this.activateMode(\"dark\")}\n              />{\" \"}\n              <span className=\"color-label\">DARK MODE</span>{\" \"}\n            </li>\n            <li className=\"button-container\">\n              <Button\n                href=\"https://www.creative-tim.com/product/black-dashboard-react\"\n                color=\"primary\"\n                block\n                className=\"btn-round\"\n              >\n                Download Now\n              </Button>\n              <Button\n                color=\"default\"\n                block\n                className=\"btn-round\"\n                outline\n                href=\"https://demos.creative-tim.com/black-dashboard-react/#/documentation/tutorial\"\n              >\n                Documentation\n              </Button>\n            </li>\n            <li className=\"header-title\">Want more components?</li>\n            <li className=\"button-container\">\n              <Button\n                href=\"https://www.creative-tim.com/product/black-dashboard-pro-react\"\n                className=\"btn-round\"\n                disabled\n                block\n                color=\"danger\"\n              >\n                Get pro version\n              </Button>\n            </li>\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default FixedPlugin;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";  \nimport { getProviderInfo, updateProfile } from \"../layouts/User/UserActions\";\n\nimport {\n  Alert,\n  Card,\n  CardBody,\n  Row,\n  Col\n} from \"reactstrap\";\n\nclass Settings extends React.Component {\n  render() {\n    return (\n      <>\n        <div className=\"content\">\n          <Row>\n            <Col sm=\"12\" md=\"12\" lg=\"12\">\n              <Card>\n                <CardBody>\n                  <Alert color=\"danger\">\n                    <h4 className=\"alert-heading\">Page Not Found</h4>\n                    <hr />\n                    <p className=\"mb-0\">\n                      We are sorry, the page you requested could not be found . Click {\" \"} <Link to=\"/products\">here</Link> {\" \"} go back to the homepage.\n                    </p>\n                  </Alert>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = () => ({});\n\n//export default UserProfile;\nexport default connect(mapStateToProps,{getProviderInfo, updateProfile})(Settings);\n","import { GET_PRODUCTS } from \"../../../reducers/products/types\";\nimport { GET_PRODUCT } from \"../../../reducers/products/types\";\nimport { GET_PRODUCT_TYPES } from \"../../../reducers/products/types\";\n\nimport api from \"../../../config/api\";\n\nexport const getProductsByPageId = (pageId, query, token, cb) => (\n  dispatch,\n  getState\n) => {\n  api(token)\n    .get(\"provider/places/\" + pageId + \"/products\", { params: query })\n    .then(response => {\n      if (response && response.data) {\n        dispatch({\n          type: GET_PRODUCTS,\n          payload: response.data\n        });\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const getProductsGroceryByPageId = (pageId, query, token, cb) => (\n  dispatch,\n  getState\n) => {\n  api(token)\n    .get(\"provider/places/\" + pageId + \"/grocery-products\", { params: query })\n    .then(response => {\n      if (response && response.data) {\n        dispatch({\n          type: GET_PRODUCTS,\n          payload: response.data\n        });\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const getProductsByProviderId = (query, token, cb) => (\n  dispatch,\n  getState\n) => {\n  api(token)\n    .get(\"/provider/products\", { params: query })\n    .then(response => {\n      if (response && response.data) {\n        dispatch({\n          type: GET_PRODUCTS,\n          payload: response.data\n        });\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const getProductById = (productId, token, cb) => (\n  dispatch,\n  getState\n) => {\n  api(token)\n    .get(\"/provider/products/\" + productId)\n    .then(response => {\n      if (response && response.data) {\n        dispatch({\n          type: GET_PRODUCT,\n          payload: response.data\n        });\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const addProduct = (product, token, cb) => (dispatch, getState) => {\n  const body = product;\n  api(token)\n    .post(\"/business/products\", body)\n    .then(response => {\n      if (response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const updateProduct = (product, productId, token, cb) => (\n  dispatch,\n  getState\n) => {\n  const body = product;\n  api(token)\n    .patch(`/business/products/${productId}`, body)\n    .then(response => {\n      if (response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const deleteProduct = (productId, token, cb) => (\n  dispatch,\n  getState\n) => {\n  api(token)\n    .delete(`/business/products/${productId}`)\n    .then(response => {\n      if (response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const getProductTypes = cb => (dispatch, getState) => {\n  api()\n    .get(\"/provider/product-types\")\n    .then(response => {\n      if (response && response.data) {\n        dispatch({\n          type: GET_PRODUCT_TYPES,\n          payload: response.data\n        });\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\n// Get Page Categories (productcategories)\nexport const getProductCategories = (token, cb) => () => {\n  api(token)\n    .get(`/product-categories/all`)\n    .then(response => {\n      if (response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\n// Get NEW Page Categories (placeproductcategories)\nexport const getProductCategoriesV2 = (placeId, query, token, cb) => () => {\n  api(token)\n    .get(`/places/${placeId}/product-categories/all`,{ params: query })\n    .then(response => {\n      if (response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const uploadPhoto = (productId, data, token, cb) => (\n  dispatch,\n  getState\n) => {\n  api(token)\n    .post(`/business/products/${productId}/media`, data)\n    .then(response => {\n      if (response && response.data) return cb(null, response.data);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const removePhoto = (productId, photoId, token, cb) => (\n  dispatch,\n  getState\n) => {\n  api(token)\n    .delete(`business/products/${productId}/media/${photoId}`)\n    .then(response => {\n      if (response && response.data) return cb(null, response.data);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const getOrdersList = (query, token, cb) => () => {\n  api(token)\n    .get(\"/provider/orders\", { params: query })\n    .then(response => {\n      if (response) {\n        return cb(null, response);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const getProductOrders = (query, token, cb) => () => {\n  api(token)\n    .get(\"/provider/product-orders\", { params: query })\n    .then(response => {\n      if (response) {\n        return cb(null, response);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const uploadPhotoByProductName = (productName, data, token, cb) => (\n  dispatch,\n  getState\n) => {\n  api(token)\n    .post(`/business/products/uploadPhotoByProductName/${productName}`, data)\n    .then(response => {\n      if (response && response.data) return cb(null, response.data);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const getSalesList = (query, token, cb) => () => {\n  api(token)\n    .get(\"/provider/salesV2\", { params: query })\n    .then(response => {\n      if (response) {\n        return cb(null, response);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const getProductOrdersGrocery = (query, token, cb) => () => {\n  api(token)\n    .get(\"/provider/grocery/product-orders\", { params: query })\n    .then(response => {\n      if (response) {\n        return cb(null, response);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const getOrdersListGrocery = (query, token, cb) => () => {\n  api(token)\n    .get(\"/provider/grocery/orders\", { params: query })\n    .then(response => {\n      if (response) {\n        return cb(null, response);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const getSalesListGrocery = (query, token, cb) => () => {\n  api(token)\n    .get(\"/provider/grocery/sales\", { params: query })\n    .then(response => {\n      if (response) {\n        return cb(null, response);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const getSalesListXls = (query, token, cb) => () => {\n  api(token)\n    .get(\"/provider/sales-list-xls\", { params: query })\n    .then(response => {\n      if (response) {\n        return cb(null, response);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const getSalesListGroceryXls = (query, token, cb) => () => {\n  api(token)\n    .get(\"/provider/sales-list-grocery-xls\", { params: query })\n    .then(response => {\n      if (response) {\n        return cb(null, response);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const getOrderListXls = (query, token, cb) => () => {\n  api(token)\n    .get(\"/provider/orders-list-xls\", { params: query })\n    .then(response => {\n      if (response) {\n        return cb(null, response);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const getProductOrdersXls = (query, token, cb) => () => {\n  api(token)\n    .get(\"/provider/product-orders-xls\", { params: query })\n    .then(response => {\n      if (response) {\n        return cb(null, response);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const getProductOrdersGroceryXls = (query, token, cb) => () => {\n  api(token)\n    .get(\"/provider/product-orders-grocery-xls\", { params: query })\n    .then(response => {\n      if (response) {\n        return cb(null, response);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const merchantApiLogin = (endpoint, username, password, token, cb) => () => {\n  \n  const body = {\n    endpoint: endpoint,\n    username: username,\n    password: password\n  };\n\n  api(token)\n    .post(\"/business/merchant-api-login\", body)\n    .then(response => {\n      if (response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n}\n\nexport const importProductsFromApi = (endpoint, apiKey, placeId, token, cb) => () => {\n  const body = {\n    endpoint: endpoint, \n    apiKey: apiKey,\n    placeId: placeId,\n  };\n\n  api(token)\n    .post(\"/business/import-products-from-api\", body)\n    .then(response => {\n      if (response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const syncProductsFromAPI = (endpoint, apiKey, placeId, token, cb) => () => {\n  const body = {\n    endpoint: endpoint, \n    apiKey: apiKey,\n    placeId: placeId,\n  };\n\n  api(token)\n    .post(\"/business/sync-products-from-api\", body)\n    .then(response => {\n      if (response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n\nexport const syncProductsFromJSON = (products, placeId, token, cb) => () => {\n  const body = {\n    products,\n    placeId\n  };\n\n  api(token)\n    .post(\"/business/sync-products-from-json\", body)\n    .then(response => {\n      if (response && response.data) {\n        return cb(null, response.data);\n      }\n      cb(response, null);\n    })\n    .catch(error => {\n      cb(error, null);\n    });\n};\n","export const GET_PRODUCTS = 'GET_PRODUCTS';\nexport const GET_PRODUCT = 'GET_PRODUCT';\nexport const GET_PRODUCT_TYPES = 'GET_PRODUCT_TYPES';","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { getSession, setSession } from \"../../config/session\";\nimport api from \"../../config/api\";\nimport {\n  getProductsByPageId,\n  getProductsGroceryByPageId,\n  getProductsByProviderId,\n  updateProduct,\n  deleteProduct\n} from \"../../layouts/Admin/actions/ProductActions\";\nimport { getProductCategoriesAll, getProductCategoriesAllV2 } from \"../../layouts/Admin/actions/ProductCategoryActions\";\nimport { getProviderPlaces } from \"../../layouts/User/UserActions\";\nimport queryString from \"query-string\";\nimport Switch from \"react-toggle-switch\";\nimport { FontAwesomeIcon as Fa } from \"@fortawesome/react-fontawesome\";\nimport Pagination from \"react-js-pagination\";\nimport { PulseLoader } from \"react-spinners\";\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\nimport Select from 'react-select'\nimport { format } from 'date-fns'\n\nimport defaultProductImage from \"assets/img/product-image-default.png\";\n\nimport {\n  Alert,\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  Table,\n  Row,\n  Col,\n  Media,\n  FormGroup,\n  Input,\n} from \"reactstrap\";\n\nclass Products extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n      places: [],\n      productTypes: [],\n      productCategoriesAll: [],\n      productCategories: [],\n      productCategoriesSub: [],\n      checked: [],\n      defaultPage: \"\",\n      pagination: {},\n      activePage: 1,\n      selectedPage: \"\",\n      selectedAvailability: \"\",\n      selectedProductCategory: \"\",\n      selectedProductCategorySub: \"\",\n      pageName: \"\",\n      sortBy: \"\",\n      sort: \"\",\n      status: \"\",\n      keyword: \"\",\n      size: 25,\n      isLoading: true,\n      isProcessing: false,\n      isGeneratingXls: false,\n      isGrocery: false,\n      hideTutorials: false\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') {\n      this.setState({isGrocery:true});\n    }\n\n    if (userData !== null) {\n      let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n      const sessionToken = userData.sessionToken;\n    \n      if (defaultPage) {\n        if (defaultPage !== \"\") {\n          let url = this.props.location.search;\n          let query = queryString.parse(url);\n          let activePage = query.page ? Number(query.page) : 1;\n          let status = query.status ? query.status : \"\";\n          let sortBy = query.sortBy ? query.sortBy : \"created\";\n          let sort = query.sort ? query.sort : \"desc\";\n          let keyword = query.keyword ? query.keyword : \"\";\n          let size = query.size ? query.size : 25;\n          let category = query.category ? query.category : \"\";\n          let subCategory = \"\";\n          if(query.category) {\n            subCategory = query.subCategory ? query.subCategory : \"\";\n          } else {\n            delete query.subCategory;\n          }\n          let queryStr = \"?\" + queryString.stringify(query);\n          this.setState({\n            activePage: activePage,\n            selectedPage: defaultPage,\n            status: status,\n            sort: sort,\n            sortBy: sortBy,\n            keyword: keyword,\n            size: size,\n            selectedProductCategory: category,\n            selectedProductCategorySub: subCategory,\n            pageName: pageInfo && pageInfo.name ? pageInfo.name : '',\n            hideTutorials: (pageInfo && pageInfo.hideTutorials && pageInfo.hideTutorials === true) ? true : false\n          });\n          if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') {\n            this.setState({isGrocery:true});\n          }\n          this.refreshProductList(queryStr, defaultPage);\n          this.getCategories(pageInfo, defaultPage, sessionToken);\n        } else {\n          this.props.getProviderPlaces(sessionToken, (error, result) => {\n            if (!error && result) {\n              if(result.places && result.places instanceof Array && result.places.length > 0 ) {\n                const defaultPlace = result.places.find(item => item.isDefault);\n                if(defaultPlace && defaultPlace._id) {\n                  defaultPage = defaultPlace._id;\n                  pageInfo = defaultPlace;\n                } else {\n                  defaultPage = result.places[0]._id;\n                  pageInfo = result.places[0];\n                }\n              }\n              setSession('pageInfo',JSON.stringify(pageInfo));\n              let url = this.props.location.search;\n              let query = queryString.parse(url);\n              let activePage = query.page ? Number(query.page) : 1;\n              let status = query.status ? query.status : \"\";\n              let sortBy = query.sortBy ? query.sortBy : \"created\";\n              let sort = query.sort ? query.sort : \"desc\";\n              let keyword = query.keyword ? query.keyword : \"\";\n              let size = query.size ? query.size : 25;\n              let category = query.category ? query.category : \"\";\n              let subCategory = \"\";\n              if(query.category) {\n                subCategory = query.subCategory ? query.subCategory : \"\";\n              } else {\n                delete query.subCategory;\n              }\n              let queryStr = \"?\" + queryString.stringify(query);\n              this.setState({\n                activePage: activePage,\n                selectedPage: defaultPage,\n                status: status,\n                sort: sort,\n                sortBy: sortBy,\n                keyword: keyword,\n                size: size,\n                selectedProductCategory: category,\n                selectedProductCategorySub: subCategory,\n                pageName: pageInfo && pageInfo.name ? pageInfo.name : ''\n              });\n              if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') {\n                this.setState({isGrocery:true});\n              }\n              this.refreshProductList(queryStr, defaultPage);\n              this.getCategories(pageInfo, defaultPage, sessionToken);\n            } else {\n              this.setState({ isLoading: false });\n            }\n          });\n        }\n      } else {\n        this.props.getProviderPlaces(sessionToken, (error, result) => {\n          if (!error && result) {\n            if(result.places && result.places instanceof Array && result.places.length > 0 ) {\n              const defaultPlace = result.places.find(item => item.isDefault);\n              if(defaultPlace && defaultPlace._id) {\n                defaultPage = defaultPlace._id;\n                pageInfo = defaultPlace;\n              } else {\n                defaultPage = result.places[0]._id;\n                pageInfo = result.places[0];\n              }\n              setSession('pageInfo',JSON.stringify(pageInfo));\n              let url = this.props.location.search;\n              let query = queryString.parse(url);\n              let activePage = query.page ? Number(query.page) : 1;\n              let status = query.status ? query.status : \"\";\n              let sortBy = query.sortBy ? query.sortBy : \"created\";\n              let sort = query.sort ? query.sort : \"desc\";\n              let keyword = query.keyword ? query.keyword : \"\";\n              let size = query.size ? query.size : 25;\n              let category = query.category ? query.category : \"\";\n              let subCategory = \"\";\n              if(query.category) {\n                subCategory = query.subCategory ? query.subCategory : \"\";\n              } else {\n                delete query.subCategory;\n              }\n              let queryStr = \"?\" + queryString.stringify(query);\n              this.setState({\n                activePage: activePage,\n                selectedPage: defaultPage,\n                status: status,\n                sort: sort,\n                sortBy: sortBy,\n                keyword: keyword,\n                size: size,\n                selectedProductCategory: category,\n                selectedProductCategorySub: subCategory,\n                pageName: pageInfo.name\n              });\n              if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') {\n                this.setState({isGrocery:true});\n              }\n              this.refreshProductList(queryStr, defaultPage);\n              this.getCategories(pageInfo, defaultPage, sessionToken);\n            } else {\n              this.setState({ isLoading: false });\n            }\n          } else {\n            this.setState({ isLoading: false });\n          }\n        });\n      }\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n    this._isMount = true;\n  }\n\n  componentWillUnmount() {\n    this._isMount = false;\n  }\n\n  renderRows(products) {\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let colSpan = 12;\n    if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') {\n      colSpan = 13;\n    }\n    if(this.state.isLoading) {\n      return (\n        <tr>\n          <td colSpan={colSpan}>\n            <PulseLoader\n              sizeUnit={\"px\"}\n              size={15}\n              color={'#1d8cf8'}\n              loading={this.state.isLoading}\n            />\n          </td>\n        </tr>\n      );\n    } else {\n      if (\n        products instanceof Array &&\n        products.length > 0\n      ) {\n        return products.map((item, index, productsArr) => (\n          <tr key={index}>\n            <td>\n              <Input\n                style={{position: 'inherit', margin: '0'}}\n                className=\"form-control\"\n                type=\"checkbox\"\n                name=\"product\"\n                value={item._id}\n                onClick={this.handleCheck}\n              />\n            </td>\n            <td width=\"50\">{this.renderImage(item)}</td>\n            <td width=\"500\">\n              <Link \n                to={ \"/products/\" + item._id + \"/edit\" +\n                  ((this.state.activePage > 0 ||\n                    this.state.keyword !== '' ||\n                    this.state.status !== '' ||\n                    this.state.keyword !== '' ||\n                    this.state.selectedAvailability !== '' ||\n                    this.state.selectedProductCategory !== '' ||\n                    this.state.selectedProductCategorySub !== '')\n                    ? '?' : '') +\n                    (this.state.activePage > 0 ? '&page=' + this.state.activePage : '') +\n                    (this.state.keyword !== '' ? '&keyword=' + this.state.keyword : '') +\n                    (this.state.status !== ''  ? '&status=' + this.state.status : '') +\n                    (this.state.selectedAvailability !== '' ? '&availability=' + this.state.selectedAvailability : '') +\n                    (this.state.selectedProductCategory !== '' ? '&category=' + this.state.selectedProductCategory : '') +\n                    (this.state.selectedProductCategorySub !== '' ? '&subCategory=' + this.state.selectedProductCategorySub : '')\n                  }\n                alt={item.name}\n                title={item.name}\n              >\n                {item.name}\n              </Link>\n            </td>\n            <td width=\"150\">{format(new Date(item.createdAt),'MMM/dd/yyyy hh:mm a')}</td>\n            <td width=\"150\">{format(new Date(item.updatedAt),'MMM/dd/yyyy hh:mm a')}</td>\n            <td width=\"150\">{item.itemCode}</td>\n            <td width=\"150\">{item.barcode}</td>\n            { pageInfo && pageInfo.useCreatedProductCategory \n              ? <td width=\"150\">{this.renderCategories(item.productCategories)}</td>\n              : <td width=\"150\">{this.renderCategories(item.categories)}</td>\n            }\n            <td align=\"right\">&#8369;{item.price ? numberWithCommas(item.price) : \"0.00\"}</td>\n            <td align=\"center\">\n              <Link to={ \"/products/\" + item._id + \"/edit\" +\n                ((this.state.activePage > 0 ||\n                  this.state.keyword !== '' ||\n                  this.state.status !== '' ||\n                  this.state.keyword !== '' ||\n                  this.state.selectedAvailability !== '' ||\n                  this.state.selectedProductCategory !== '' ||\n                  this.state.selectedProductCategorySub !== '')\n                  ? '?' : '') +\n                (this.state.activePage > 0 ? '&page=' + this.state.activePage : '') +\n                (this.state.keyword !== '' ? '&keyword=' + this.state.keyword : '') +\n                (this.state.status !== ''  ? '&status=' + this.state.status : '') +\n                (this.state.selectedAvailability !== '' ? '&availability=' + this.state.selectedAvailability : '') +\n                (this.state.selectedProductCategory !== '' ? '&category=' + this.state.selectedProductCategory : '') +\n                (this.state.selectedProductCategorySub !== '' ? '&subCategory=' + this.state.selectedProductCategorySub : '')\n              }>\n                <Fa icon=\"edit\" />\n              </Link>\n              <Link to=\"#\" className=\"text-danger\" onClick={this.handleDelete} data-item={item._id}>\n                <Fa icon=\"trash-alt\"/>\n              </Link>\n              <Link to=\"#\" data-id={item._id} onClick={this.copyToClipboard} style={{cursor:\"pointer\"}} alt=\"Copy Product ID\" title=\"Copy Product ID\">\n                <Fa icon=\"copy\" />\n              </Link>\n            </td>\n            <td>\n              <Switch\n                onClick={() => {\n                  const nextStatus = !item.forSale;\n                  this.toggleSwitchForSale(item);\n                  productsArr[index].forSale = nextStatus;\n                  this.setState({\n                    products: productsArr\n                  });\n                }}\n                on={item.forSale}\n              />\n            </td>\n            <td>\n              <Switch\n                onClick={() => {\n                  const nextStatus = !item.isActive;\n                  this.toggleSwitchIsActive(item);\n                  productsArr[index].isActive = nextStatus;\n                  this.setState({\n                    products: productsArr\n                  });\n                }}\n                on={item.isActive}\n              />\n            </td>\n            { pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb' &&\n              <td>\n                <Switch\n                  onClick={() => {\n                    const nextStatus = !item.isLocked;\n                    this.toggleSwitchIsLocked(item);\n                    productsArr[index].isLocked = nextStatus;\n                    this.setState({\n                      products: productsArr\n                    });\n                  }}\n                  on={item.isLocked ? item.isLocked : false}\n                />\n              </td>\n            }\n          </tr>\n        ));\n      } else {\n        return (\n          <tr>\n            <td colSpan={colSpan}>\n              <h5 className=\"text-danger\">\n                <em>No products found.</em>\n              </h5>\n            </td>\n          </tr>\n        );\n      }\n    }\n  }\n\n  renderCategories(categories) {\n    if(categories instanceof Array && categories.length > 0) {\n      if(categories.length === 1) {\n        return categories.map(cat => cat.name);\n      } else {\n        return categories.map(cat => cat.name + \", \");\n      }\n    }\n  }\n\n  renderImage(item) {\n    const {\n      name,\n      photos,\n    } = item;\n\n    let primaryPhoto;\n    if (photos[0] !== undefined || photos[0] != null) {\n      primaryPhoto = photos[0];\n    } else {\n      primaryPhoto = {\n        thumb: defaultProductImage,\n      }\n    }\n    return (\n      <Media className=\"mt-1\">\n        { primaryPhoto && primaryPhoto.thumb &&\n          <Media left middle>\n            <Media\n              object\n              data-src={primaryPhoto.thumb}\n              src={primaryPhoto.thumb}\n              alt={name}\n              title={name}\n            />\n          </Media>\n        }\n      </Media>\n    );\n  }\n\n  renderPlaces() {\n    if (this.state.places !== undefined || this.state.places != null) {\n      return this.state.places.map((item, index) => (\n        <option key={index} value={item._id.toString()}>\n          {item.name}\n        </option>\n      ));\n    }\n  }\n\n  toggleSwitchIsActive(product) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const productId = product._id;\n    if (product) {\n      this.props.updateProduct(\n        product,\n        productId,\n        sessionToken,\n        (error, result) => {\n          if (result) {\n            this.showNotification('Product successfully updated.');\n          } else {\n            if (error) {\n              this.showNotificationError(error.response);\n            } else {\n              this.showNotificationError('Product not updated.');\n            }\n          }\n        }\n      );\n    }\n  }\n\n  toggleSwitchIsLocked(product) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const productId = product._id;\n    if (product) {\n      this.props.updateProduct(\n        product,\n        productId,\n        sessionToken,\n        (error, result) => {\n          if (result) {\n            this.showNotification('Product successfully updated.');\n          } else {\n            if (error) {\n              this.showNotificationError(error.response);\n            }\n          }\n        }\n      );\n    }\n  }\n\n  toggleSwitchForSale(product) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const productId = product._id;\n    if (product) {\n      this.props.updateProduct(\n        product,\n        productId,\n        sessionToken,\n        (error, result) => {\n          if (result) {\n            this.showNotification('Product successfully updated.');\n          } else {\n            if (error) {\n              this.showNotificationError(error.response);\n            }\n          }\n        }\n      );\n    }\n  }\n\n  onDismiss = () => {\n    this.setState({ hideTutorials: true });\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    pageInfo.hideTutorials = true;\n    setSession('pageInfo',JSON.stringify(pageInfo));\n  }\n\n  onHideTutorials = () => {\n    if (!window.confirm(\"Are you sure you want to hide this section permanently?\")) {\n      return false;\n    }\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const place = { \n      hideTutorials: true\n    }\n    api(sessionToken).patch(`/provider/places/${pageInfo._id}`, place)\n      .then(response => {\n        if (response && response.data && response.data.status === 'ok') {\n          this.setState({ hideTutorials: true });\n          pageInfo.hideTutorials = true;\n          setSession('pageInfo',JSON.stringify(pageInfo));\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      })\n      .catch(error => {\n        this.setState({ submitted: false, isSaving: false });\n        if(error.response && typeof error.response === 'string' ) {\n          this.showNotificationError(error.response);\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      });\n  }\n\n  showNotification(message) {\n    if(message && typeof message === 'string') {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 2\n      }\n      if(notification && this.refs.notify && this.refs.notify.notificationAlert) {\n        this.refs.notify.notificationAlert(notification);\n      }\n    }\n  }\n\n  showNotificationError(message) {\n    if(message && typeof message === 'string') {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 2\n      }\n      if(notification && this.refs.notify && this.refs.notify.notificationAlert) {\n        this.refs.notify.notificationAlert(notification);\n      }\n    }\n  }\n\n  handleChangeKeyword = (e) => {\n    let { value } = e.target;\n    this.setState({keyword: value});\n  }\n\n  handleEnter = (e) => {\n    let { key } = e;\n    if (key === 'Enter') {\n      this.setState({ isLoading:true, activePage:1 });\n      let { keyword } = this.state;\n\n      let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n      let url = this.props.location.search;\n      let query = queryString.parse(url);\n      delete query.message;\n      delete query.page;\n      if (keyword !== \"\") {\n        query.keyword = keyword.trim();\n      } else {\n        delete query.keyword;\n      }\n      let queryStr = \"?\" + queryString.stringify(query);\n      this.refreshProductList(queryStr, defaultPage);\n    }\n  }\n\n  handleDelete = (e) => {\n    if (!window.confirm(\"Do you want to delete this product?\")){\n      return false;\n    }\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    const message = \"Product has been deleted successfully.\";\n    let queryStr = \"?\" + queryString.stringify(query);\n    const productId = e.currentTarget.dataset.item;\n    if(productId) {\n      const userData = JSON.parse(getSession(\"userData\"));\n      if(userData) {\n        const sessionToken = userData.sessionToken;\n        this.props.deleteProduct(\n          productId,\n          sessionToken,\n          (error, result) => {\n            if (!error && result) {\n              if(result.status===\"Deleted\") {\n                this.showNotification(message);\n                this.refreshProductList(queryStr, defaultPage);\n              }\n            } else {\n              if (error) {\n                if(error.response && error.response.status && error.response.status === 403) {\n                  setTimeout(() => { \n                    this.setState({isLoading:true});\n                    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n                    let url = this.props.location.search;\n                    let query = queryString.parse(url);\n                    delete query.message;\n                    delete query.page;\n                    let queryStr = \"?\" + queryString.stringify(query);\n                    this.setState({ activePage: 1 });\n                    this.refreshProductList(queryStr, defaultPage);\n                  }, 1000);\n                  this.showNotificationError('You are not allowed to delete this product.');\n                } else {\n                  this.showNotificationError(error.response);\n                }\n              }\n            }\n          }\n        );\n      } else {\n        this.props.history.push(\"/login\");\n        window.location.reload();\n      }\n    }\n  }\n\n  handleChangeAvailability = (e) => {\n    this.setState({isLoading:true});\n    let { value } = e.target;\n\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    delete query.page;\n    if (value !== \"\") {\n      query.availability = value;\n    } else {\n      delete query.availability;\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ selectedAvailability: value, activePage: 1 });\n    this.refreshProductList(queryStr, defaultPage);\n  }\n\n  handleChangeProductCategory = (e) => {\n    this.setState({isLoading:true});\n    let value = \"\";\n    const productCategoriesAll = this.state.productCategoriesAll;\n    let productCategoriesSub = [];\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    delete query.page;\n    delete query.subCategory;\n    if (e && e.value) {\n      value = e.value;\n      productCategoriesSub = productCategoriesAll.filter(item => item.parent && item.parent.id.toString() === value);\n      query.category = value;\n    } else {\n      delete query.category;\n      this.setState({ selectedProductCategorySub: \"\" });\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({ selectedProductCategory: value, productCategoriesSub: productCategoriesSub, activePage: 1 });\n    this.refreshProductList(queryStr, defaultPage);\n  }\n\n  handleChangeProductCategorySub = (e) => {\n    this.setState({isLoading:true});\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    delete query.page;\n    let value = \"\";\n    if (e && e.value) {\n      value = e.value;\n      query.subCategory = value;\n    } else {\n      delete query.subCategory;\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ selectedProductCategorySub: value , activePage: 1});\n    this.refreshProductList(queryStr, defaultPage);\n  }\n\n  handleChangeProductStatus = (e) => {\n    this.setState({isLoading:true});\n    let { value } = e.target;\n\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    delete query.page;\n    if (value !== \"\") {\n      query.status = value;\n    } else {\n      delete query.status;\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ status: value, activePage: 1 });\n    this.refreshProductList(queryStr, defaultPage);\n  }\n\n  handlePageChange = (pageNumber) => {\n    this.setState({isLoading:true});\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.page = pageNumber;\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ activePage: pageNumber });\n    this.refreshProductList(queryStr, defaultPage);\n  }\n\n  handleChangePerPage = (e) => {\n    this.setState({isLoading:true});\n    let { value } = e.target;\n\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    delete query.page;\n    if (value !== \"\") {\n      query.size = value;\n    } else {\n      delete query.size;\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({ size: value, activePage: 1 });\n    this.refreshProductList(queryStr, defaultPage);\n  }\n\n  handleCheckAll = (e) => {\n    let { checked: isChecked } = e.target;\n    const checkboxes = document.querySelectorAll('input[name=\"product\"]');\n    const checkboxesArr = Array.from(checkboxes);\n    if(isChecked) {\n      const checked = checkboxesArr.map(item => item.value );\n      this.setState({checked:checked});\n    } else {\n      this.setState({checked:[]});\n    }\n    checkboxes.forEach(checkbox => {\n      if (isChecked) {\n        checkbox.checked = true;\n      } else {\n        checkbox.checked = false;\n      }\n    });\n  }\n\n  handleCheck = (e) => {\n    let { value, checked: isChecked } = e.target;\n    if(isChecked) {\n      this.setState({checked: [...this.state.checked, value]});\n    } else {\n      const checked = this.state.checked.filter((item) => value !== item);\n      this.setState({checked:checked});\n    }\n  }\n\n  handleDeleteChecked = () => {\n    let items = 0;\n    let deletedItems = 0;\n    let hasError = false;\n    const checked = this.state.checked;\n    if(checked instanceof Array && checked.length > 0) {\n      if (!window.confirm(\"Are you sure you want to delete this product(s)?\")){\n        return false;\n      }\n      this.setState({isProcessing:true});\n      let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n      let url = this.props.location.search;\n      let query = queryString.parse(url);\n      if(query.message) {\n        delete query.message;\n      }\n      checked.forEach((productId, index, array) => {\n        const userData = JSON.parse(getSession(\"userData\"));\n        const sessionToken = userData.sessionToken;\n        this.props.deleteProduct(\n          productId,\n          sessionToken,\n          (error, result) => {\n            if(result.status===\"Deleted\") {\n              deletedItems++;\n            } else {\n              if (error) {\n                hasError = true;\n              }\n            }\n            items++;\n            if(items === array.length) {\n              this.setState({isProcessing:false});\n              const checkAll = document.getElementById('check-all');\n              checkAll.checked = false;\n              const checkboxes = document.querySelectorAll('input[name=\"product\"]');\n              checkboxes.forEach(checkbox => {\n                checkbox.checked = false;\n              });\n              if(deletedItems > 0) {\n                const message = \"Products has been deleted successfully.\";\n                this.showNotification(message);\n                let queryStr = \"?\" + queryString.stringify(query);\n                this.refreshProductList(queryStr, defaultPage);\n              } else {\n                if(hasError) {\n                  this.showNotificationError('There is a error in deleting the product(s)!');\n                }\n              }\n            }\n          }\n        );\n      });\n    } else {\n      this.showNotificationError('Please select a product!');\n    }\n  }\n\n  handlePublishChecked = () => {\n    const checked = this.state.checked;\n    let items = 0;\n    let updatedItems = 0;\n    let hasError = false;\n    if(checked instanceof Array && checked.length > 0) {\n      if (!window.confirm(\"Are you sure you want to publish this product(s)?\")){\n        return false;\n      }\n      this.setState({isProcessing:true});\n      checked.forEach((productId, index, array) => {\n        const userData = JSON.parse(getSession(\"userData\"));\n        const sessionToken = userData.sessionToken;\n        let product = this.state.products.find(item => item._id === productId );\n        product.isActive = true;\n        this.props.updateProduct(\n          product,\n          productId,\n          sessionToken,\n          (error, result) => {\n            if (result) {\n              this.setState(prevState => {\n                const list = prevState.products.map((item) => checkedItems(item,prevState.products));\n                return {\n                  list,\n                };\n              });\n              updatedItems++;\n            } else {\n              if (error) {\n                hasError = true;\n              }\n            }\n            items++;\n            if(items === array.length) {\n              this.setState({isProcessing:false});\n              if(updatedItems > 0) {\n                this.showNotification('Products has been published!');\n              }\n              if(hasError) {\n                this.showNotificationError('There is a error in updating the product(s)!');\n              }\n            }\n          }\n        );\n      });\n    } else {\n      this.showNotificationError('Please select a product!');\n      return false;\n    }\n  }\n\n  handleUnpublishChecked = () => {\n    const checked = this.state.checked;\n    let items = 0;\n    let updatedItems = 0;\n    let hasError = false;\n    if(checked instanceof Array && checked.length > 0) {\n      if (!window.confirm(\"Are you sure you want to unpublish this product(s)?\")){\n        return false;\n      }\n      this.setState({isProcessing:true});\n      checked.forEach((productId, index, array) => {\n        const userData = JSON.parse(getSession(\"userData\"));\n        const sessionToken = userData.sessionToken;\n        let product = this.state.products.find(item => item._id === productId );\n        product.isActive = false;\n        this.props.updateProduct(\n          product,\n          productId,\n          sessionToken,\n          (error, result) => {\n            if (result) {\n              this.setState(prevState => {\n                const list = prevState.products.map(item => checkedItems(item,prevState.products));\n                return {\n                  list,\n                };\n              });\n              updatedItems++;\n            } else {\n              if (error) {\n                hasError = true;\n              }\n            }\n            items++;\n            if(items === array.length) {\n              this.setState({isProcessing:false});\n              if(updatedItems > 0) {\n                this.showNotification('Products has been unpublished!');\n              }\n              if(hasError) {\n                this.showNotificationError('There is a error in updating the product(s)!');\n              }\n            }\n          }\n        );\n      });\n    } else {\n      this.showNotificationError('Please select a product!');\n      return false;\n    }\n  }\n\n  sortCreated = () => {\n    let sort = \"\";\n    if (this.state.sortBy === \"created\") {\n      if (this.state.sort !== \"desc\") {\n        sort = \"desc\";\n      } else {\n        sort = \"asc\";\n      }\n    } else {\n      sort = \"desc\";\n    }\n    let sortBy = \"created\";\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.sort = sort;\n    query.sortBy = sortBy;\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    this.refreshProductList(queryStr, defaultPage);\n  }\n\n  sortUpdated = () => {\n    let sort = \"\";\n    if (this.state.sortBy === \"updated\") {\n      if (this.state.sort !== \"desc\") {\n        sort = \"desc\";\n      } else {\n        sort = \"asc\";\n      }\n    } else {\n      sort = \"desc\";\n    }\n    let sortBy = \"updated\";\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.sort = sort;\n    query.sortBy = sortBy;\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    this.refreshProductList(queryStr, defaultPage);\n  }\n\n  sortPrice = () => {\n    let sort = \"\";\n    if (this.state.sortBy === \"price\") {\n      if (this.state.sort !== \"desc\") {\n        sort = \"desc\";\n      } else {\n        sort = \"asc\";\n      }\n    } else {\n      sort = \"desc\";\n    }\n    let sortBy = \"price\";\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.sort = sort;\n    query.sortBy = sortBy;\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    this.refreshProductList(queryStr, defaultPage);\n  }\n\n  sortName = () => {\n    let sort = \"\";\n    if (this.state.sortBy === \"name\") {\n      if (this.state.sort !== \"desc\") {\n        sort = \"desc\";\n      } else {\n        sort = \"asc\";\n      }\n    } else {\n      sort = \"desc\";\n    }\n    let sortBy = \"name\";\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.sort = sort;\n    query.sortBy = sortBy;\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    this.refreshProductList(queryStr, defaultPage);\n  }\n\n  sortItemCode = () => {\n    let sort = \"\";\n    if (this.state.sortBy === \"itemCode\") {\n      if (this.state.sort !== \"desc\") {\n        sort = \"desc\";\n      } else {\n        sort = \"asc\";\n      }\n    } else {\n      sort = \"desc\";\n    }\n    let sortBy = \"itemCode\";\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.sort = sort;\n    query.sortBy = sortBy;\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    this.refreshProductList(queryStr, defaultPage);\n  }\n\n  copyToClipboard = (e) => {\n    const productId = e.currentTarget.dataset.id;\n    navigator.clipboard.writeText(productId)\n      .then(() => {\n        this.showNotification(\"Product ID copied to clipboard!\");\n      })\n      .catch(err => {\n        this.showNotificationError(\"Error in copying Product ID!\");\n      });\n  }\n\n  refreshProductList(queryStr, pageId) {\n    const query = queryString.parse(queryStr);\n    const message = query.message\n    const checkAll = document.getElementById('check-all');\n    if(checkAll) {\n      checkAll.checked = false;\n    }\n    const checkboxes = document.querySelectorAll('input[name=\"product\"]');\n    checkboxes.forEach(checkbox => {\n      checkbox.checked = false;\n    });\n\n    if(message) {\n      delete query.message;\n      this.showNotification(message);\n    }\n\n    this.props.history.push(\"/products\" + queryStr);\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const { sessionToken } = userData;\n    if (userData !== null && pageInfo ) {\n      if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') {\n        this.setState({ isGrocery: true });\n        this.props.getProductsGroceryByPageId(\n          pageId,\n          query,\n          sessionToken,\n          (error, result) => {\n            if (!error && result) {\n              const places = result.places;\n              if(result.pagination && result.pagination.total && result.pagination.total > 0) {\n                setSession('hasProducts',true);\n              } else {\n                setSession('hasProducts',false);\n              }\n              if(this._isMount) {\n                this.setState({\n                  places: places,\n                  products: result.products,\n                  pagination: result.pagination\n                });\n              }\n            }\n            this.setState({isLoading:false});\n          }\n        );\n      } else if(pageInfo && pageInfo.pageType === '58b5180adaa07f5b2b0281ba') {\n          this.props.getProductsGroceryByPageId(\n            pageId,\n            query,\n            sessionToken,\n            (error, result) => {\n              if (!error && result) {\n                const places = result.places;\n                if(result.pagination && result.pagination.total && result.pagination.total > 0) {\n                  setSession('hasProducts',true);\n                } else {\n                  setSession('hasProducts',false);\n                }\n                this.setState({\n                  places: places,\n                  products: result.products,\n                  pagination: result.pagination\n                });\n              }\n              this.setState({isLoading:false});\n            }\n          ); \n      } else {\n        this.props.getProductsByPageId(\n          pageId,\n          query,\n          sessionToken,\n          (error, result) => {\n            if (!error && result) {\n              const places = result.places;\n              if(result.pagination && result.pagination.total && result.pagination.total > 0) {\n                setSession('hasProducts',true);\n              } else {\n                setSession('hasProducts',false);\n              }\n              this.setState({\n                places: places,\n                products: result.products,\n                pagination: result.pagination\n              });\n            }\n            this.setState({isLoading:false});\n          }\n        );\n      }\n    } else {\n      this.setState({isLoading:false});\n    }\n  }\n\n  exportProducts = () => {\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.sort;\n    delete query.sortBy;\n    delete query.page;\n    delete query.size;\n    delete query.message;\n    \n    const checkAll = document.getElementById('check-all');\n    if(checkAll) {\n      checkAll.checked = false;\n    }\n    const checkboxes = document.querySelectorAll('input[name=\"product\"]');\n    checkboxes.forEach(checkbox => {\n      checkbox.checked = false;\n    });\n    let pageId = JSON.parse(getSession(\"defaultPage\"));\n    const userData = JSON.parse(getSession(\"userData\"));\n    const { sessionToken } = userData;\n\n    if (userData != null && pageId ) {\n      this.setState({ isGeneratingXls: true });\n      if(sessionToken) {\n        api(sessionToken).get(`/provider/places/${pageId}/export-products`, { params: query })\n          .then(resp => {\n            if(resp && resp.data && resp.data.status === 'success' && resp.data.filename) {\n              const fileName = resp.data.filename;\n              this.setState({ isGeneratingXls: false });\n              window.open(fileName);\n            } else {\n              this.setState({isGeneratingXls:false});\n              this.showNotificationError('No products found.');\n            }\n          })\n          .catch(error => {\n            this.setState({isGeneratingXls:false});\n            this.showNotificationError('There is a problem exporting! Please try again!');\n          })\n      }\n    } else {\n      this.setState({isLoading:false});\n    }\n  }\n\n  getCategories(pageInfo,defaultPage,sessionToken) {\n    if(pageInfo && pageInfo.useCreatedProductCategory) {\n      let pageId = defaultPage;\n      const GAISANO_CDO_MAIN = '5ccfe6aeb99ae3280fd246dc';\n      const GAISANO_BRANCHES = [\n        '5e6c8ee3a5ac68a35e071e07', // Malaybalay\n        '5e6c8ed7a5ac68a35e071e05', // Gensan\n        '5e6c8edda5ac68a35e071e06', // Iligan\n        '5e6c8ecea5ac68a35e071e04', // Tagum\n        '5e9e50973c47b363587eb3d9' // Davao\n      ]\n      const gaisanoBranch = GAISANO_BRANCHES.find(item => item === defaultPage);\n      if(gaisanoBranch) {\n        pageId = GAISANO_CDO_MAIN;\n      }\n      this.props.getProductCategoriesAllV2(\n        {},\n        pageId,\n        sessionToken,\n        (error, result) => {\n          if (!error && result) {\n            const categoriesAll = result;\n            if(categoriesAll instanceof Array && categoriesAll.length > 0) {\n              let productCategoriesAll = [];\n              let productCategoriesMain = [];\n              let productCategoriesSub = [];\n              categoriesAll.forEach(item => {\n                const category = {\n                  value: item._id,\n                  label: (item.isActive === true) ? item.name : item.name + \" - INACTIVE\",\n                  parent: item.parent,\n                }\n                productCategoriesAll.push(category);\n              });\n              productCategoriesMain = productCategoriesAll.filter(item => !item.parent);\n              const categoryFirst = [\n                {\n                  value: \"\",\n                  label: \"All\",\n                  parent: \"\",\n                },\n                {\n                  value: \"no-category\",\n                  label: \"No category\",\n                  parent: \"\",\n                }\n              ]\n              productCategoriesMain = [...categoryFirst,...productCategoriesMain];\n              if(this.state.selectedProductCategory) {\n                productCategoriesSub = productCategoriesAll.filter(item => item.parent && item.parent.id.toString() === this.state.selectedProductCategory);\n              }\n              this.setState({\n                productCategoriesAll: productCategoriesAll,\n                productCategories: productCategoriesMain,\n                productCategoriesSub: productCategoriesSub,\n              });\n              \n            } else {\n              this.setState({\n                productCategories: [],\n              });\n            }\n          }\n        }\n      );\n    } else {\n      this.props.getProductCategoriesAll(\n        {},\n        sessionToken,\n        (error, result) => {\n          if (!error && result) {\n            const categoriesAll = result;\n            if(categoriesAll instanceof Array && categoriesAll.length > 0) {\n              let productCategoriesAll = [];\n              let productCategoriesMain = [];\n              let productCategoriesSub = [];\n              categoriesAll.forEach(item => {\n                const category = {\n                  value: item._id,\n                  label: (item.isActive === true) ? item.name : item.name + \" - INACTIVE\",\n                  parent: item.parent,\n                }\n                productCategoriesAll.push(category);\n              });\n              productCategoriesMain = productCategoriesAll.filter(item => !item.parent);\n              const categoryFirst = [\n                {\n                  value: \"\",\n                  label: \"All\",\n                  parent: \"\",\n                },\n                {\n                  value: \"no-category\",\n                  label: \"No category\",\n                  parent: \"\",\n                }\n              ]\n              productCategoriesMain = [...categoryFirst,...productCategoriesMain];\n              if(this.state.selectedProductCategory) {\n                productCategoriesSub = productCategoriesAll.filter(item => item.parent && item.parent.id.toString() === this.state.selectedProductCategory);\n              }\n              this.setState({\n                productCategoriesAll: productCategoriesAll,\n                productCategories: productCategoriesMain,\n                productCategoriesSub: productCategoriesSub,\n              });\n              \n            } else {\n              this.setState({\n                productCategories: [],\n              });\n            }\n          }\n        }\n      );\n    }\n  }\n\n  renderNoPageAdded() {\n    return (\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">No Page Added</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You have not added a page yet. Click{\" \"} <Link to=\"/add-page\">here</Link> {\" \"}to add a new page.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderPageNotVerified() {\n    return(\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">You Have Not Agreed with our Terms & Policies</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You must agree  with our Terms & Policies. Click {\" \"} <Link to=\"/statement-of-agreement\">here</Link> {\" \"} to read our Terms & Policies.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  render() {\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let hasCategories = JSON.parse(getSession(\"hasCategories\"));\n    let hasProducts = JSON.parse(getSession(\"hasProducts\"));\n    if(pageInfo) {\n      if (pageInfo.pageType === '5dea2304f6bba08323a3ddce') {\n        this.props.history.push(\"/tours\");\n        window.location.reload();\n      }\n    }\n    if(pageInfo && pageInfo._id) {\n      if(pageInfo.isVerified === true) {\n        return (\n          <>\n            <div className=\"content\">\n              <div className=\"react-notification-alert-container\">\n                <NotificationAlert ref=\"notify\" />\n              </div>\n              <Row>\n                <Col md=\"12\">\n                  <Card>\n                    <CardHeader>\n                      <h4 className=\"title\">Products - <em>{pageInfo.name}</em></h4>\n                      <Row>\n                        {!hasCategories && \n                          <Col sm=\"12\">\n                            <Row>\n                              <Col md=\"12\">\n                                <Alert color=\"warning\">\n                                  <p className=\"mb-0\">\n                                    You have not added a category yet. Click{\" \"} <Link to=\"/product-categories/new\">here</Link> {\" \"}to add a product category.\n                                  </p>\n                                </Alert>\n                              </Col>\n                            </Row>\n                          </Col>\n                        }\n                        {hasCategories && hasProducts && pageInfo.isActive !== true &&\n                          <Col sm=\"12\">\n                            <Row>\n                              <Col md=\"12\">\n                                <Alert color=\"danger\">\n                                  <h4 className=\"alert-heading\">Store Not Activated</h4>\n                                  <hr />\n                                  <p className=\"mb-0\">\n                                    You must activate your store so it will appear in the app and you can start selling.<br /> \n                                    Click {\" \"} <Link to=\"/activate-store\">here</Link> {\" \"} to activate you store.\n                                  </p>\n                                </Alert>\n                              </Col>\n                            </Row>\n                          </Col>\n                        }\n                        {!pageInfo.hideTutorials &&\n                          <Col sm=\"12\">\n                            <Row>\n                              <Col md=\"12\">\n                                <Alert className=\"alert-compact\" color=\"primary\" isOpen={!this.state.hideTutorials} toggle={this.onDismiss} fade={false}>\n                                  <h4 className=\"alert-heading\">New on Products?</h4>\n                                  <hr />\n                                  <p className=\"mb-0\">\n                                    Check our videos here on how to manage your products.<br /> \n                                  </p>\n                                  <a className=\"btn btn-sm btn-primary-v2\" href=\"https://www.youtube.com/watch?v=k8VEDqbPv7w\">View Tutorials</a>\n                                  <Button\n                                    className=\"btn-fill btn-sm\"\n                                    color=\"danger\"\n                                    type=\"button\"\n                                    onClick={this.onHideTutorials}\n                                  >\n                                    Hide Permanently\n                                  </Button>\n                                </Alert>\n                              </Col>\n                            </Row>\n                          </Col>\n                        }\n                        <Col md=\"6\">\n                          <Row>\n                            <Col md=\"12\">\n                              <FormGroup>\n                                <label htmlFor=\"keyword\" className=\"control-label\">Search:</label>\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                          <Row>\n                            <Col md=\"6\">\n                              <FormGroup>\n                                <Input\n                                  id=\"keyword\"\n                                  name=\"keyword\"\n                                  type=\"text\"\n                                  placeholder=\"Search product...\"\n                                  onChange={this.handleChangeKeyword}\n                                  onKeyPress={this.handleEnter}\n                                  value={this.state.keyword}\n                                >\n                                </Input>\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                        </Col>\n                        <Col md=\"6\">\n                          <Row>\n                            <Col className=\"pull-right\" md=\"12\">\n                              <FormGroup style={{textAlign:'right'}}>\n                                <label className=\"control-label\">Filter:</label>\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                          <Row>\n                            <Col md=\"6\">\n                              <FormGroup>\n                                <Select\n                                  className=\"react-select\"\n                                  styles={{fontSize:'13px !important'}}\n                                  options={this.state.productCategories}\n                                  onChange={this.handleChangeProductCategory}\n                                  placeholder=\"Select main category\"\n                                  value={this.state.productCategories.filter(item => item.value === this.state.selectedProductCategory)}\n                                />\n                              </FormGroup>\n                            </Col>\n                            <Col md=\"6\">\n                              <FormGroup>\n                                <Select\n                                  className=\"react-select\"\n                                  styles={{fontSize:'13px !important'}}\n                                  isClearable={true}\n                                  options={this.state.productCategoriesSub}\n                                  onChange={this.handleChangeProductCategorySub}\n                                  placeholder=\"Select sub category\"\n                                  value={this.state.productCategoriesSub.filter(item => item.value === this.state.selectedProductCategorySub)}\n                                />\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                          <Row>\n                            <Col md=\"6\">\n                              <FormGroup>\n                                <Input\n                                  id=\"availability\"\n                                  name=\"availability\"\n                                  type=\"select\"\n                                  onChange={this.handleChangeAvailability}\n                                  value={this.state.selectedAvailability}\n                                >\n                                  <option value=\"\">For Sale/Availability</option>\n                                  <option value=\"available\">Available</option>\n                                  <option value=\"notAvailable\">Not Available</option>\n                                </Input>\n                              </FormGroup>\n                            </Col>\n                            <Col md=\"6\">\n                              <FormGroup>\n                                <Input\n                                  id=\"productStatus\"\n                                  name=\"productStatus\"\n                                  type=\"select\"\n                                  onChange={this.handleChangeProductStatus}\n                                  value={this.state.status}\n                                >\n                                  <option value=\"\">Status</option>\n                                  <option value=\"active\">Active</option>\n                                  <option value=\"inActive\">Inactive</option>\n                                </Input>\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                        </Col>\n                      </Row>\n                      <Row>\n                        <Col style={{textAlign:'right'}} md=\"12\">\n                          {pageInfo && /* (pageInfo.pageType === '5cd141d10d437be772373ddb' || pageInfo.pageType === '58b5180adaa07f5b2b0281ba') && */\n                            <Link\n                              to=\"/product-images/bulk-upload\"\n                              alt=\"Add New Product\"\n                              title=\"Add New Product\"\n                              className=\"btn btn-sm btn-round btn-info\"\n                            >\n                              <Fa icon=\"images\" />&nbsp;Images - Bulk Upload\n                            </Link>\n                          }\n                          <Link\n                            to=\"/products/new\"\n                            alt=\"Add New Product\"\n                            title=\"Add New Product\"\n                            className=\"btn btn-sm btn-round btn-info\"\n                          >\n                            <Fa icon=\"plus\" />&nbsp;Add New\n                          </Link>\n                          <Button\n                            alt=\"Delete\"\n                            title=\"Delete\"\n                            className=\"btn btn-sm btn-round btn-info\"\n                            onClick={this.handleDeleteChecked}\n                          >\n                            <Fa icon=\"archive\" />&nbsp;Delete\n                          </Button>\n                          <Button\n                            alt=\"Publish\"\n                            title=\"Publish\"\n                            className=\"btn btn-sm btn-round btn-info\"\n                            onClick={this.handlePublishChecked}\n                          >\n                            <Fa icon=\"eye\" />&nbsp;Publish\n                          </Button>\n                          <Button\n                            alt=\"Unpublish\"\n                            title=\"Unpublish\"\n                            className=\"btn btn-sm btn-round btn-info\"\n                            onClick={this.handleUnpublishChecked}\n                          >\n                            <Fa icon=\"eye-slash\" />&nbsp;Unpublish\n                          </Button>\n                          <Button\n                            alt=\"Export\"\n                            title=\"Export\"\n                            className=\"btn btn-sm btn-round btn-info\"\n                            onClick={this.exportProducts}\n                          >\n                            <Fa icon=\"file-excel\" />&nbsp;Export\n                          </Button>\n                        </Col>\n                      </Row>\n                    </CardHeader>\n                    <CardBody>\n                      <Table className=\"tablesorter table-striped\" responsive>\n                        <thead className=\"text-primary\">\n                          <tr>\n                            <th>\n                              <Input\n                                style={{position: 'inherit', margin: '0'}}\n                                type=\"checkbox\"\n                                id=\"check-all\"\n                                onClick={this.handleCheckAll}\n                              />\n                            </th>\n                            <th>&nbsp;</th>\n                            <th style={{whiteSpace:\"nowrap\"}} onClick={this.sortName}>\n                              Item{\" \"}\n                              {this.state.sortBy === \"name\" &&\n                                this.state.sort === \"desc\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-info\" />\n                                )}{\" \"}\n                              {this.state.sortBy === \"name\" &&\n                                this.state.sort === \"asc\" && (\n                                  <Fa icon=\"arrow-up\" className=\"text-info\" />\n                                )}{\" \"}\n                              {this.state.sortBy !== \"name\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-disabled\" />\n                                )}{\" \"}\n                            </th>\n                            <th style={{whiteSpace:\"nowrap\"}} onClick={this.sortCreated}>\n                              Added{\" \"}\n                              {this.state.sortBy === \"created\" &&\n                                this.state.sort === \"desc\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-info\" />\n                                )}{\" \"}\n                              {this.state.sortBy === \"created\" &&\n                                this.state.sort === \"asc\" && (\n                                  <Fa icon=\"arrow-up\" className=\"text-info\" />\n                                )}{\" \"}\n                              {this.state.sortBy !== \"created\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-disabled\" />\n                                )}{\" \"}\n                            </th>\n                            <th style={{whiteSpace:\"nowrap\"}} onClick={this.sortUpdated}>\n                              Updated{\" \"}\n                              {this.state.sortBy === \"updated\" &&\n                                this.state.sort === \"desc\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-info\" />\n                                )}{\" \"}\n                              {this.state.sortBy === \"updated\" &&\n                                this.state.sort === \"asc\" && (\n                                  <Fa icon=\"arrow-up\" className=\"text-info\" />\n                                )}{\" \"}\n                              {this.state.sortBy !== \"updated\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-disabled\" />\n                                )}{\" \"}\n                            </th>\n                            <th style={{whiteSpace:\"nowrap\"}} onClick={this.sortItemCode}>\n                              Item Code{\" \"}\n                              {this.state.sortBy === \"itemCode\" &&\n                                this.state.sort === \"desc\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-info\" />\n                                )}{\" \"}\n                              {this.state.sortBy === \"itemCode\" &&\n                                this.state.sort === \"asc\" && (\n                                  <Fa icon=\"arrow-up\" className=\"text-info\" />\n                                )}{\" \"}\n                              {this.state.sortBy !== \"itemCode\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-disabled\" />\n                                )}{\" \"}\n                            </th>\n                            <th style={{whiteSpace:\"nowrap\"}}>Barcode</th>\n                            <th style={{whiteSpace:\"nowrap\"}}>Category</th>\n                            <th style={{whiteSpace:\"nowrap\"}} className=\"text-right\" onClick={this.sortPrice}>\n                              <span style={{ display: \"block\" }}>\n                                Price{\" \"}\n                                {this.state.sortBy === \"price\" &&\n                                  this.state.sort === \"desc\" && (\n                                    <Fa icon=\"arrow-down\" className=\"text-info\" />\n                                  )}{\" \"}\n                                {this.state.sortBy === \"price\" &&\n                                  this.state.sort === \"asc\" && (\n                                    <Fa icon=\"arrow-up\" className=\"text-info\" />\n                                  )}{\" \"}\n                                {this.state.sortBy !== \"price\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-disabled\" />\n                                )}{\" \"}\n                              </span>\n                            </th>\n                            <th>&nbsp;</th>\n                            <th style={{whiteSpace:\"nowrap\"}}>For Sale</th>\n                            <th style={{whiteSpace:\"nowrap\"}}>Publish</th>\n                            { pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb' &&\n                              <th style={{whiteSpace:\"nowrap\", textAlign:'center'}}><Fa icon=\"lock\"/></th>\n                            }\n                          </tr>\n                        </thead>\n                        <tbody>{this.renderRows(this.state.products)}</tbody>\n                      </Table>\n                    </CardBody>\n                    <CardFooter>\n                      <Row>\n                        <Col md=\"12\">\n                          <Row>\n                            <Col md=\"12\" lg=\"12\">\n                              {this.state.pagination && this.state.pagination.total > 0 && (\n                                <>\n                                  <Pagination\n                                    innerClass=\"pagination\"\n                                    activePage={this.state.activePage}\n                                    itemsCountPerPage={this.state.pagination.limit}\n                                    totalItemsCount={this.state.pagination.total}\n                                    pageRangeDisplayed={5}\n                                    onChange={this.handlePageChange}\n                                  />\n                                  <p>Page <em>{this.state.activePage}</em> of <em>{Math.ceil(this.state.pagination.total/this.state.pagination.limit)}</em> of <em>{numberWithCommasOnly(this.state.pagination.total)}</em> products.</p>\n                                  <Input\n                                    style={{marginBottom:'5px',width:'auto'}}\n                                    id=\"perPage\"\n                                    name=\"perPage\"\n                                    type=\"select\"\n                                    onChange={this.handleChangePerPage}\n                                    value={this.state.size}\n                                  >\n                                    <option value=\"10\">10 / page</option>\n                                    <option value=\"25\">25 / page</option>\n                                    <option value=\"50\">50 / page</option>\n                                    <option value=\"100\">100 / page</option>\n                                  </Input>\n                                </>\n                              )}\n                            </Col>\n                          </Row>\n                        </Col>\n                      </Row>\n                    </CardFooter>\n                  </Card>\n                </Col>\n              </Row>\n            </div>\n            <LoadingOverlay\n              active={this.state.isProcessing}\n              spinner\n              text='Processing...'\n              >\n            </LoadingOverlay>\n            <LoadingOverlay\n              active={this.state.isGeneratingXls}\n              spinner\n              text='Processing...'\n              >\n            </LoadingOverlay>\n          </>\n        );\n      } else {\n        return (this.renderPageNotVerified());\n      }\n    } else {\n      return (this.renderNoPageAdded());\n    }\n  }\n}\n\nconst numberWithCommas = x => {\n  return priceRound(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n};\n\nconst numberWithCommasOnly = x => {\n  return priceRound(x,0).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n};\n\nconst checkedItems = (item,product) => {\n  if (item._id === product._id) {\n    return item = product;\n  }\n}\n\nconst priceRound = (price, dec) => {\n  if (dec === undefined) {\n    dec = 2;\n  }\n  if (price !== 0) {\n    if (!price || isNaN(price)) {\n      throw new Error(\"price is not a number\" + price);\n    }\n  }\n  const str = parseFloat(Math.round(price * 100) / 100).toFixed(dec);\n  return str;\n};\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    getProductsByPageId,\n    getProductsGroceryByPageId,\n    getProductsByProviderId,\n    getProviderPlaces,\n    getProductCategoriesAll,\n    getProductCategoriesAllV2,\n    updateProduct,\n    deleteProduct\n  }\n)(Products);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getSession, setSession } from \"../../config/session\";\nimport api from \"../../config/api\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon as Fa } from '@fortawesome/react-fontawesome';\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\n\nimport {\n  getProductTypes,\n  addProduct,\n} from \"../../layouts/Admin/actions/ProductActions\";\n\nimport { Alert, Button, Card, CardHeader, CardBody, CardFooter, FormGroup, Form, Input,\n  Nav, NavItem, NavLink, Row, Col\n} from \"reactstrap\";\n\nclass AddProduct extends React.Component {\n  constructor(props) {\n    const defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    super(props);\n    this.state = {\n      product: {\n        name: \"\",\n        description: \"\",\n        productType: \"\",\n        forSale: false,\n        isActive: false,\n        unit: \"\",\n        limit: \"\",\n        autofullfill: false,\n        price: \"\",\n        comparePrice: \"\",\n        placeId: defaultPage\n      },\n      productTypes: [],\n      productCategories: [],\n      places: [],\n      checked: [],\n      expanded: [],\n      isLoading: false,\n      submitted: false,\n      submittedHighlight: false,\n      isSaving: false,\n      isGrocery: false,\n      pageType: 'food-drink',\n      activeStep: 'product-info',\n      steps: {\n        productInfo: true\n      },\n      hideTutorials: false\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n\n    if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') { // If pageType Grocery\n      this.setState({isGrocery:true});\n      this.setState({pageType:'grocery'});\n    } else if (pageInfo && pageInfo.pageType === '5dea2304f6bba08323a3ddce') { // If pageType SB Tours\n      this.setState({pageType:'sb-tours'});\n    }\n\n    if (userData !== null) {\n      this.setState({ hideTutorials: (pageInfo && pageInfo.hideTutorials && pageInfo.hideTutorials === true) ? true : false });\n      this.props.getProductTypes((error, result) => {\n        if (!error && result) {\n          this.setState({ productTypes: result });\n        }\n      });\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n  }\n\n  handleChange = (e) => {\n    let { name, value, type } = e.target;\n    if (type === \"checkbox\") {\n      const checked = e.target.checked;\n      value = checked;\n    }\n    this.setState({\n      product: {\n        ...this.state.product,\n        [name]: value\n      }\n    });\n  }\n\n  handleChangeSection = (e) => {\n    let { name, value } = e.target;\n    this.setState({\n      section: {\n        ...this.state.section,\n        [name]: value\n      }\n    });\n  }\n\n  onDismiss = () => {\n    this.setState({ hideTutorials: true });\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    pageInfo.hideTutorials = true;\n    setSession('pageInfo',JSON.stringify(pageInfo));\n  }\n\n  onHideTutorials = () => {\n    if (!window.confirm(\"Are you sure you want to hide this section permanently?\")) {\n      return false;\n    }\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const place = { \n      hideTutorials: true\n    }\n    api(sessionToken).patch(`/provider/places/${pageInfo._id}`, place)\n      .then(response => {\n        if (response && response.data && response.data.status === 'ok') {\n          this.setState({ hideTutorials: true });\n          pageInfo.hideTutorials = true;\n          setSession('pageInfo',JSON.stringify(pageInfo));\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      })\n      .catch(error => {\n        this.setState({ submitted: false, isSaving: false });\n        if(error.response && typeof error.response === 'string' ) {\n          this.showNotificationError(error.response);\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      });\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n\n    if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') { // If pageType Grocery\n      this.setState({isGrocery:true});\n    }\n\n    if(userData) {\n      const sessionToken = userData.sessionToken;\n      const product = {...this.state.product};\n      if (\n        product.name &&\n        product.productType &&\n        !isNaN(product.price) &&\n        product.price > 0 &&\n        product.placeId\n      ) {\n\n        if (!window.confirm(\"Do you want to save this item?\")) {\n          return false;\n        }\n\n        this.setState({ submitted: true, isSaving: true });\n\n        if (product) {\n          product.tags = [];\n          product.categories = [];\n          product.productCategories = [];\n          product.options = {\n            DineIn: false,\n            PickUp: false,\n            Delivery: false,\n          }\n          product.containerFee = {\n            supportedOrderOption: {\n              pickup: false,\n              delivery: false,\n            },\n            amount: 0\n          }\n        }\n\n        this.props.addProduct(product, sessionToken, (error, result) => {\n          if (result) {\n            setSession('hasProducts',true);\n            this.setState({ submitted: false, isSaving: false });\n            if(result._id) {\n              this.showNotification('New product has been added.');\n              setTimeout(() => {\n                this.props.history.push(`/products/${result._id}/edit?message=Complete the product by adding photos &amp; category etc.`);\n              }, 3000);\n            } else {\n              this.showNotification('New product has been added.');\n              setTimeout(() => {\n                this.props.history.push(\"/products\");\n              }, 3000);\n            }\n          } else {\n            if (error) {\n              this.setState({ submitted: false, isSaving: false });\n              this.showNotificationError(error.response);\n            } else {\n              this.setState({ submitted: false, isSaving: false });\n              this.showNotificationError('An unknown error occured. Please try again.');\n            }\n          }\n        });\n      } else {\n        this.setState({ submitted: true });\n        this.showNotificationError('Some fields are required. Please fill in the required fields.');\n      }\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n  }\n\n  onKeyPress = e => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n    }\n  };\n\n  renderProductTypes() {\n    if (\n      this.state.productTypes !== undefined ||\n      this.state.productTypes !== null\n    ) {\n      const activeProductTypes = this.state.productTypes.filter(\n        item => item.isActive\n      );\n      return activeProductTypes.map((item, index) => (\n        <option key={index} value={item._id}>\n          {item.name}\n        </option>\n      ));\n    }\n  }\n\n  renderPlaces() {\n    if (this.state.places !== undefined || this.state.places !== null) {\n      return this.state.places.map((item, index) => (\n        <option key={index} value={item.place._id}>\n          {item.place.name}\n        </option>\n      ));\n    }\n  }\n\n  renderVerticalNavBar() {\n    return(\n      <Nav vertical >\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'product-info' ? \" active-link\" : \"\")} to=\"#\" \n            onClick={() => { \n              this.setState({activeStep: 'product-info' } ) \n            }}\n          >\n            Product Information<span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n          </NavLink> \n        </NavItem>\n      </Nav>\n    );\n  }\n\n  renderProductInfoStep(product) {\n    return(\n      <>\n        <Row>\n          <Col lg=\"12\" md=\"12\" sm=\"12\">\n            <FormGroup>\n              <Alert color=\"primary\">\n                Add basic information of the product.\n              </Alert>\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col lg=\"6\" md=\"6\" sm=\"12\">\n            <FormGroup\n              className={\n                this.state.submitted && !product.name\n                  ? \" has-danger\"\n                  : \"\"\n              }\n            >\n              <label htmlFor=\"name\" className=\"control-label\">\n                Product Name <em className=\"text-muted\">(Required)</em>\n              </label>\n              <Input\n                id=\"name\"\n                name=\"name\"\n                className=\"name\"\n                placeholder=\"Product Name\"\n                type=\"text\"\n                value={product.name}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Col>\n          <Col lg=\"6\" md=\"6\" sm=\"12\">\n            <FormGroup\n              className={\n                this.state.submitted && !product.productType\n                  ? \" has-danger\"\n                  : \"\"\n              }\n            >\n              <label htmlFor=\"productType\" className=\"control-label\">\n                Product Type <em className=\"text-muted\">(Required)</em>\n              </label>\n              <Input\n                id=\"productType\"\n                name=\"productType\"\n                className=\"productType\"\n                placeholder=\"Product Type\"\n                type=\"select\"\n                value={product.productType}\n                onChange={this.handleChange}\n              >\n                <option value=\"\">Select One</option>\n                {this.renderProductTypes()}\n              </Input>\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col sm=\"12\">\n            <FormGroup>\n              <label htmlFor=\"description\" className=\"control-label\" >Description</label>\n              <Input\n                id=\"description\"\n                name=\"description\"\n                placeholder=\"Description\"\n                type=\"textarea\"\n                value={product.description}\n                onChange={this.handleChange}\n                style={{height:'150px'}}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col md=\"4\">\n            <FormGroup\n              className={\n                this.state.submitted && (!product.price || isNaN(product.price) || product.price <= 0)\n                  ? \" has-danger\"\n                  : \"\"\n              }\n            >\n              <label htmlFor=\"price\" className=\"control-label\">\n                Price <em className=\"text-muted\">(Required)</em>\n              </label>\n              <Input\n                id=\"price\"\n                name=\"price\"\n                className=\"price\"\n                placeholder=\"&#8369;\"\n                type=\"text\"\n                value={product.price}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Col>\n          <Col md=\"4\">\n            <FormGroup>\n              <label htmlFor=\"comparePrice\" className=\"control-label\">\n                Compare Price\n              </label>\n              <Input\n                id=\"comparePrice\"\n                name=\"comparePrice\"\n                className=\"comparePrice\"\n                placeholder=\"&#8369;\"\n                type=\"text\"\n                value={product.comparePrice}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n      </>\n    )\n  }\n\n  renderNoPageAdded() {\n    return (\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">No Page Added</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You have not added a page yet. Click{\" \"} <Link to=\"/add-page\">here</Link> {\" \"}to add a new page.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderPageNotVerified() {\n    return(\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">You Have Not Agreed with our Terms & Policies</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You must agree  with our Terms & Policies. Click {\" \"} <Link to=\"/statement-of-agreement\">here</Link> {\" \"} to read our Terms & Policies.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderPageDisabled() {\n    return(\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">This page is disabled.</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    Click {\" \"} <Link to=\"/products\">here</Link> {\" \"} to go back to the main page.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  render() {\n    let { pageType } = this.state;\n    let categoriesTree = [];\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const productCategories = this.state.productCategories;\n    if(productCategories instanceof Array && productCategories.length > 0) {\n      const parentCategories = productCategories.filter(item => !item.parent);\n      const childCategories = productCategories.filter(item => item.parent);\n      if (parentCategories) {\n        parentCategories.forEach(cat => {\n          const value = cat._id.toString();\n          const label = cat.name;\n          let sublist = [];\n          if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') { // If Grocery\n            sublist = childCategories.filter( item => item.parent._id.toString() === value );\n          } else {\n            sublist = childCategories.filter( item => item.parent._id.toString() === value );\n          }\n          let children1 = [];\n          if(sublist instanceof Array && sublist.length > 0) {\n            let category1 = [];\n            sublist.forEach(cat => {\n              const value = cat._id;\n              const label = cat.name;\n              const category = {\n                value: value,\n                label: label,\n                children: [],\n              }\n              category1.push(category);\n            });\n            children1 = category1;\n          }\n          const children = children1;\n          const category = {\n            value: value,\n            label: label,\n            children: children,\n          }\n          categoriesTree.push(category);\n        });\n      }\n    }\n\n    if(pageInfo && pageInfo._id) {\n      if(pageInfo.isVerified === true) {\n        if(pageType !== 'sb-tours') {\n          return (\n            <>\n              <div className=\"content\">\n                <div className=\"react-notification-alert-container\">\n                  <NotificationAlert ref=\"notify\" />\n                </div>\n                <Row>\n                  <Col sm=\"12\" md=\"12\" lg=\"12\">\n                    <Card>\n                      <Form onSubmit={this.handleSubmit} onKeyPress={this.onKeyPress}>\n                        <CardHeader>\n                          <h4 className=\"title\">Add New Product</h4>\n                        </CardHeader>\n                        <CardBody>\n                          <Row>\n                            {!pageInfo.hideTutorials &&\n                              <Col sm=\"12\">\n                                <Row>\n                                  <Col md=\"12\">\n                                    <Alert className=\"alert-compact\" color=\"primary\" isOpen={!this.state.hideTutorials} toggle={this.onDismiss} fade={false}>\n                                      <h4 className=\"alert-heading\">New on Products?</h4>\n                                      <hr />\n                                      <p className=\"mb-0\">\n                                        Check our videos here on how to manage your products.<br /> \n                                      </p>\n                                      <a className=\"btn btn-sm btn-primary-v2\" href=\"https://www.youtube.com/watch?v=k8VEDqbPv7w\">View Tutorials</a>\n                                      <Button\n                                        className=\"btn-fill btn-sm\"\n                                        color=\"danger\"\n                                        type=\"button\"\n                                        onClick={this.onHideTutorials}\n                                      >\n                                        Hide Permanently\n                                      </Button>\n                                    </Alert>\n                                  </Col>\n                                </Row>\n                              </Col>\n                            }\n                          </Row>\n                          <Row>\n                            <Col sm=\"12\" md=\"3\" lg=\"3\">\n                              {this.renderVerticalNavBar()}\n                            </Col>\n                            <Col sm=\"12\" md=\"9\" lg=\"9\">\n                              {(this.state.activeStep === 'product-info' && this.state.steps.productInfo === true) ? \n                                this.renderProductInfoStep(this.state.product) :\n                                this.renderProductInfoStep(this.state.product)\n                              }\n                            </Col>\n                          </Row>\n                        </CardBody>\n                        <CardFooter>\n                          <Button className=\"btn-round\" color=\"info\" type=\"submit\">\n                            Save\n                          </Button>\n                          <Link to=\"/products\" className=\"btn btn-round btn-light\">\n                            Cancel\n                          </Link>\n                        </CardFooter>\n                      </Form>\n                    </Card>\n                  </Col>\n                </Row>\n                <LoadingOverlay\n                  active={this.state.isSaving}\n                  spinner\n                  text='Saving...'\n                  >\n                </LoadingOverlay>\n              </div>\n            </>\n          );\n        } else if(pageType && pageType === 'sb-tours') {\n          return (this.renderPageDisabled());\n        }\n      } else {\n        return(this.renderPageNotVerified());\n      }\n    } else {\n      return(this.renderNoPageAdded());\n    }\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    getProductTypes,\n    addProduct\n  }\n)(AddProduct);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getSession, setSession } from \"../../config/session\";\nimport api from \"../../config/api\";\nimport { Link } from \"react-router-dom\";\nimport { WithContext as ReactTags } from 'react-tag-input';\nimport Switch from \"react-toggle-switch\";\nimport CheckboxTree from 'react-checkbox-tree';\nimport { FontAwesomeIcon as Fa } from '@fortawesome/react-fontawesome';\nimport queryString from \"query-string\";\nimport { PulseLoader, SyncLoader } from 'react-spinners';\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\nimport { format } from 'date-fns';\nimport QRCode from 'qrcode.react';\n\nimport {\n  getProductById,\n  getProductTypes,\n  getProductCategories,\n  getProductCategoriesV2,\n  updateProduct,\n  uploadPhoto,\n  removePhoto,\n} from \"../../layouts/Admin/actions/ProductActions\";\n\nimport { getProviderPlaces } from \"../../layouts/User/UserActions\";\n\nimport {\n  Alert,\n  Badge,\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  FormGroup,\n  Form,\n  Input,\n  Nav,\n  NavItem,\n  NavLink,\n  Row,\n  Col,\n  Label,\n  Table\n} from \"reactstrap\";\n\n// Keycodes used as tags delimiter\nconst KeyCodes = {\n  comma: 188,\n  enter: 13,\n};\n\nconst delimiters = [KeyCodes.comma, KeyCodes.enter];\n\nconst divStyle = {\n  position: 'relative',\n  height: 145,\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  borderWidth: 2,\n  borderColor: '#666',\n  borderStyle: 'solid',\n  borderRadius: 5\n};\n\nclass EditProduct extends React.Component {\n  constructor(props) {\n    super(props);\n    const productId = props.match.params._id;\n    this.state = {\n      productId: productId,\n      productExist: false,\n      product: null,\n      productTypes: [],\n      productCategories: [],\n      places: [],\n      checked: [],\n      expanded: [],\n      isLoading: true,\n      isSaving: false,\n      submitted: false,\n      isUploading: false,\n      isGrocery: false,\n      pageType: 'food-drink',\n      images: [],\n      disableBarcode: true,\n      disableItemcode: true,\n      message: \"\",\n      messageOpen: false,\n      page: 1,\n      keyword: \"\",\n      status: \"\",\n      availability: \"\",\n      category: \"\",\n      subCategory: \"\",\n      activeStep: 'product-info',\n      steps: {\n        productInfo: true,\n        price: true,\n        productSettings: true,\n        productCategory: true,\n        images: true,\n        vouchers: true,\n      },\n      hideTutorials: false,\n      isGenerating: false,\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const placeId = JSON.parse(getSession(\"defaultPage\"));\n    const url = this.props.location.search;\n    const query = queryString.parse(url);\n    if(query.message && query.message !== '') {\n      this.setState({\n        message: query.message,\n        messageOpen: true\n      });\n    }\n    if(query.page && Number(query.page) > 1) {\n      this.setState({ page: query.page });\n    }\n    if(query.keyword && query.keyword !== '') {\n      this.setState({ keyword: query.keyword });\n    }\n    if(query.status && query.status !== '') {\n      this.setState({ status: query.status });\n    }\n    if(query.availability && query.availability !== '') {\n      this.setState({ status: query.status });\n    }\n    if(query.category && query.category !== '') {\n      this.setState({ category: query.category });\n    }\n    if(query.subCategory && query.subCategory !== '') {\n      this.setState({ subC: query.subCategory });\n    }\n\n    if(pageInfo) {\n      if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') { // If pageType Grocery\n        this.setState({isGrocery:true});\n        this.setState({pageType:'grocery'});\n      } else if (pageInfo.pageType === '5dea2304f6bba08323a3ddce') { // If pageType SB Tours\n        this.setState({pageType:'sb-tours'});\n      }\n    }\n\n    if (userData !== null) {\n      const sessionToken = userData.sessionToken;\n      const productId = this.state.productId;\n      this.setState({ hideTutorials: (pageInfo && pageInfo.hideTutorials && pageInfo.hideTutorials === true) ? true : false });\n      this.props.getProductById(productId, sessionToken, (error, result) => {\n        if (!error && result) {\n          const productObj = result.product;\n          let tagsList = productObj.tags.filter(item => item.trim() !== '');\n          let tagsArray = [];\n\n          if(tagsList instanceof Array && tagsList.length > 0) {\n            tagsList.forEach((item) => {\n              let listItem = {};\n              listItem.id = item;\n              listItem.text = item;\n              tagsArray.push(listItem);\n            });\n          }\n\n          let categoriesIdArray = [];\n          if(pageInfo && pageInfo.useCreatedProductCategory) {\n            if(productObj.productCategories instanceof Array && productObj.productCategories.length > 0) {\n              productObj.productCategories.forEach(cat => {\n                if(cat && cat._id && cat.parent !== undefined && cat.parent !== null) {\n                  let catId = cat._id;\n                  categoriesIdArray.push(catId);\n                }\n              });\n            }\n          } else {\n            if(productObj.categories instanceof Array && productObj.categories.length > 0) {\n              productObj.categories.forEach(cat => {\n                if(cat && cat._id) {\n                  let catId = cat._id;\n                  categoriesIdArray.push(catId);\n                }\n              });\n            }\n          }\n\n          this.setState({\n            productExist: true,\n            product: {\n              name: productObj.name,\n              placeId: productObj.places[0]._id,\n              summary: productObj.summary,\n              description: productObj.description,\n              tags2d: tagsArray,\n              productType: productObj.productType ? productObj.productType._id : null,\n              isFeatured: productObj.isFeatured,\n              forSale: productObj.forSale,\n              isActive: productObj.isActive,\n              barcode: productObj.barcode,\n              itemCode: productObj.itemCode,\n              unit: productObj.unit,\n              limit: productObj.limit,\n              autofullfill: productObj.autofullfill,\n              cost: productObj.cost,\n              price: productObj.price,\n              comparePrice: productObj.comparePrice,\n              amenitites: productObj.amenity,\n              productCategories: productObj.productCategories,\n              photos: productObj.photos,\n              forDinein: (productObj.options && productObj.options.DineIn) ? productObj.options.DineIn : false,\n              forPickup: (productObj.options && productObj.options.PickUp) ? productObj.options.PickUp : false,\n              forDelivery: (productObj.options && productObj.options.Delivery) ? productObj.options.Delivery : false,\n              containerFeeAmt: (productObj.containerFee && productObj.containerFee.amount) ? productObj.containerFee.amount : 0,\n              containerFeeDelivery: (productObj.containerFee && productObj.containerFee.supportedOrderOption && productObj.containerFee.supportedOrderOption.delivery) ? productObj.containerFee.supportedOrderOption.delivery : false,\n              containerFeePickup: (productObj.containerFee && productObj.containerFee.supportedOrderOption && productObj.containerFee.supportedOrderOption.pickup) ? productObj.containerFee.supportedOrderOption.pickup : false,\n              vouchers: productObj.vouchers ? productObj.vouchers : []\n            },\n            checked: [...categoriesIdArray]\n          });\n          this.setState({ isLoading: false });\n        } else if(error) {\n          this.setState({ isLoading: false });\n        }\n      });\n      this.props.getProductTypes((error, result) => {\n        if (!error && result) {\n          this.setState({ productTypes: result });\n        }\n      });\n      this.props.getProviderPlaces(sessionToken,(error, result) => {\n        if (!error && result) {\n          this.setState({ places: result.places });\n        }\n      });\n      if(pageInfo && pageInfo.useCreatedProductCategory) {\n        const query = {\n          status: 'active'\n        }\n        this.props.getProductCategoriesV2(placeId, query, sessionToken, (error, result) => {\n          if (!error && result) {\n            this.setState({ productCategories: result });\n          }\n        });\n      } else {\n        this.props.getProductCategories(sessionToken, (error, result) => {\n          if (!error && result) {\n            this.setState({ productCategories: result });\n          }\n        });\n      }\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n  }\n\n  handleDelete = (i) => {\n    const { tags2d } = this.state.product;\n    const newTags = tags2d.filter((tag, index) => index !== i);\n    this.setState({\n      product: {\n        ...this.state.product,\n        tags2d: newTags\n      }\n    });\n  }\n\n  handleAddition = (tag) => {\n    const { tags2d } = this.state.product;\n    tags2d.push(tag);\n    this.setState({\n      product: {\n        ...this.state.product,\n        tags2d: tags2d\n      }\n    });\n  }\n\n  handleDrag = (tag, currPos, newPos) => {\n    const tags2d = [...this.state.product.tags2d];\n    const newTags = tags2d.slice();\n    newTags.splice(currPos, 1);\n    newTags.splice(newPos, 0, tag);\n    this.setState({\n      product: {\n        ...this.state.product,\n        tags2d: newTags\n      }\n    });\n  }\n\n  handleChangeDesc = (data) => {\n    this.setState({\n      product: {\n        ...this.state.product,\n        description: data\n      }\n    });\n  }\n\n  handleChange = (e) => {\n    let { name, value, type } = e.target;\n    if (type === \"checkbox\") {\n      const checked = e.target.checked;\n      value = checked;\n    }\n    this.setState({\n      product: {\n        ...this.state.product,\n        [name]: value\n      }\n    });\n  }\n\n  handleDisableBarcode = (e) => {\n    this.setState(prevState => ({disableBarcode: !prevState.disableBarcode}));\n  }\n\n  handleDisableItemcode = (e) => {\n    this.setState(prevState => ({disableItemcode: !prevState.disableItemcode}));\n  }\n\n  handleFileUpload = (e) => {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const files = e.target.files;\n    const images = this.state.product.photos;\n\n    if(images.length<6) {\n      this.setState({isUploading: true});\n      const productId = this.state.productId;\n      const sessionToken = userData.sessionToken;\n      const images = this.state.product.photos;\n      const formData = new FormData();\n      formData.append('file', files[0]);\n      this.props.uploadPhoto(productId, formData, sessionToken, (error, result) => {\n        if (!error && result) {\n          this.setState({ isUploading:false });\n          const photo = result;\n          if(photo._id) {\n            images.push(photo);\n            this.setState({\n              product: {\n                ...this.state.product,\n                photos: images\n              }\n            });\n          }\n        } else {\n          this.setState({ isUploading:false });\n          if (error.response && typeof error.response === 'string') {\n            console.error(error.response);\n            this.showNotificationError(error.response);\n          } else {\n            console.error({error});\n            this.showNotificationError('There is an error uploading the file. Please try again');\n          }\n        }\n      });\n    } else {\n      this.setState({ isUploading:false });\n      console.log('No. of files: ',files.length);\n      alert('You are only allowed to upload a maximum of 6 files!');\n    }\n  }\n\n  removeImage = (e) => {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const productId = this.state.productId;\n    const imgId = e.currentTarget.dataset.id;\n    const sessionToken = userData.sessionToken;\n\n    this.props.removePhoto(productId, imgId, sessionToken, (error, result) => {\n      if (!error && result) {\n        if(result.deleted==='ok') {\n          const images = this.state.product.photos;\n          const newImages = images.filter(item => item._id !== imgId);\n          this.setState({\n            product: {\n              ...this.state.product,\n              photos: newImages\n            }\n          });\n          this.showNotification('Image was successfully removed.');\n        }\n      } else {\n        if (error.response && typeof error.response === 'string') {\n          console.error(error.response);\n          this.showNotificationError(error.response);\n        } else {\n          console.error({error});\n          this.showNotificationError('There is error removing the image.');\n        }\n      }\n    });\n  }\n\n  onAlertDismiss = (e) => {\n    this.setState(prevState => ({\n      messageOpen: !prevState.messageOpen\n    }));\n  };\n\n  onDismiss = () => {\n    this.setState({ hideTutorials: true });\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    pageInfo.hideTutorials = true;\n    setSession('pageInfo',JSON.stringify(pageInfo));\n  }\n\n  onHideTutorials = () => {\n    if (!window.confirm(\"Are you sure you want to hide this section permanently?\")) {\n      return false;\n    }\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const place = { \n      hideTutorials: true\n    }\n    api(sessionToken).patch(`/provider/places/${pageInfo._id}`, place)\n      .then(response => {\n        if (response && response.data && response.data.status === 'ok') {\n          this.setState({ hideTutorials: true });\n          pageInfo.hideTutorials = true;\n          setSession('pageInfo',JSON.stringify(pageInfo));\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      })\n      .catch(error => {\n        this.setState({ submitted: false, isSaving: false });\n        if(error.response && typeof error.response === 'string' ) {\n          this.showNotificationError(error.response);\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      });\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let sessionToken = \"\";\n    let product;\n    let productId;\n    if(userData) {\n      sessionToken = userData.sessionToken;\n      product = {...this.state.product};\n      productId = this.state.productId;\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n\n    if (product) {\n      if (product.name && product.productType && !isNaN(product.price) && product.price > 0) {\n        if (!window.confirm(\"Do you want to save this item?\")){\n          return false;\n        }\n\n        this.setState({ submitted: true, isSaving: true });\n        if (this.state.product.tags2d) {\n          const tagsMapped = this.state.product.tags2d.map(item => item.id);\n          product.tags = tagsMapped;\n        } else {\n          product.tags = [];\n        }\n\n        const productCategories = this.state.productCategories;\n        if (this.state.checked) {\n          const categoriesArr = this.state.checked;\n          let newCategories = [];\n          let parentArr = [];\n          if(categoriesArr instanceof Array && categoriesArr.length > 0) {\n            if(pageInfo && pageInfo.useCreatedProductCategory) {\n              categoriesArr.forEach(item => {\n                const category = productCategories.find(cat => cat._id === item);\n                if(category) {\n                  const categoryObj = {\n                    _id: category._id,\n                    parent: (category.parent && category.parent._id) ? category.parent._id : null,\n                    name: category.name,\n                    slug: category.slug,\n                  }\n                  newCategories.push(categoryObj);\n                  if(category.parent && category.parent._id) {\n                    parentArr.push(category.parent._id);\n                  }\n                }\n              });\n              const parentArrUnique = Array.from(new Set(parentArr));\n              const parentCategories = productCategories.filter(function(item) {\n                return parentArrUnique.includes(item._id); \n              })\n              newCategories = [...newCategories,...parentCategories];\n              product.productCategories = newCategories;\n            } else {\n              categoriesArr.forEach(item => {\n                const category = productCategories.find(cat => cat._id === item);\n                if(category) {\n                  const categoryObj = {\n                    _id: category._id,\n                    name: category.name,\n                    slug: category.slug,\n                  }\n                  newCategories.push(categoryObj);\n                }\n              });\n              product.categories = newCategories;\n            }\n          }\n        } else {\n          product.categories = [];\n          product.productCategories = [];\n        }\n\n        product.options = {\n          DineIn: product.forDinein,\n          PickUp: product.forPickup,\n          Delivery: product.forDelivery,\n        }\n        product.containerFee = {\n          supportedOrderOption: {\n            pickup: product.containerFeePickup,\n            delivery: product.containerFeeDelivery,\n          },\n          amount: Number(product.containerFeeAmt),\n        }\n\n        delete product.tags2d;\n        delete product.forDinein;\n        delete product.forPickup;\n        delete product.forDelivery;\n        delete product.containerFeeAmt;\n        delete product.containerFeeDelivery;\n        delete product.containerFeePickup;\n        delete product.dateAdded;\n        delete product.lastUpdated;\n\n        this.props.updateProduct(product, productId, sessionToken, (error, result) => {\n          if (result) {\n            this.setState({ submitted: false, isSaving: false });\n            if(pageInfo.isActive !== true) {\n              this.showNotification('Product has been updated. You can now activate your store.');\n              setTimeout(() => { this.props.history.push(\"/activate-store\") }, 1000);\n            } else {\n              this.showNotification('Product changes has been saved.');\n              setTimeout(() => {\n                let queryStr = \"?\";\n                let query = \"\";\n                queryStr += (this.state.page && this.state.page > 1 ? `page=${this.state.page}&` : ``);\n                queryStr += (this.state.keyword && this.state.keyword !== '' ? `keyword=${this.state.keyword}&` : ``);\n                queryStr += (this.state.status && this.state.status !== '' ? `status=${this.state.status}&` : ``);\n                queryStr += (this.state.availability && this.state.availability !== '' ? `availability=${this.state.availability}&` : ``);\n                queryStr += (this.state.category && this.state.category !== '' ? `category=${this.state.category}&` : ``);\n                queryStr += (this.state.subCategory && this.state.subCategory !== '' ? `subCategory=${this.state.subCategory}&` : ``);\n                const lastChar = queryStr.substr(queryStr.length - 1);\n                if(lastChar === '&') {\n                  query = queryStr.slice(0, -1);\n                }\n                this.props.history.push(\"/products\" + query);\n              }, 1000);\n            }\n          } else {\n            if (error) {\n              if(error.response && error.response.status && error.response.status === 403) {\n                this.setState({ submitted: false, isSaving: false });\n                setTimeout(() => {\n                  this.props.history.push(\"/products\");\n                }, 1000);\n                this.showNotificationError('You are not allowed to update this product.');\n              } else {\n                this.showNotificationError(error.response);\n              }\n\n            } else {\n              this.setState({ submitted: false, isSaving: false });\n              this.showNotificationError('An unknown error occured. Please try again.');\n            }\n          }\n        });\n\n      } else {\n        this.setState({ submitted: true });\n        this.showNotificationError('Some fields are required. Please fill the required fields.');\n      }\n    } else {\n      setTimeout(() => { this.setState({ submitted: false, isSaving: false }); }, 1000);\n      this.showNotificationError('Product information is missing.');\n    }\n  }\n\n  onKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n    }\n  }\n\n  generateVoucherCodes = () => {\n    const { productId, product } = this.state\n    if(product.vouchers && product.vouchers.length > 0) {\n      if (!window.confirm(\"The product has existing voucher code, do you still want to continue generating the voucher codes?\")){\n        return false;\n      }\n    } else {\n      if (!window.confirm(\"Do you want to continue generating the voucher codes?\")){\n        return false;\n      }\n    }\n    this.setState({ isGenerating: true })\n    console.log(\"Generating codes...\")\n    let userData = JSON.parse(getSession(\"userData\"));\n    const token = userData.sessionToken;\n    const payload = {\n      number: 100\n    }\n    api(token).post(`/product-vouchers/${productId}/generate-codes`, payload)\n      .then(resp => {\n        if (resp && resp.data && resp.statusText === \"OK\" ) {\n          const { data: added }  = resp\n          this.showNotification(`${added.length} voucher codes has been added successfully for this product.`)\n        } else {\n          this.showNotificationError('An unknown error occured on generating voucher codes. Please try again!')\n        }\n        this.setState({ isGenerating: false });\n      })\n      .catch(error => {\n        console.error(error);\n        this.setState({ isGenerating: false });\n        if(error.response) {\n          if(typeof error.response === 'string' ) {\n            this.showNotificationError(error.response)\n          } else if (error.response && error.response.data && error.response.data.message && typeof error.response.data.message === 'string' ) {\n            this.showNotificationError(error.response.data.message)\n          } else {\n            this.showNotificationError('An unknown error occured. Please try again!');\n          }\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      });\n  }\n\n  renderProductTypes() {\n    if(this.state.productTypes !== undefined || this.state.productTypes != null) {\n      const activeProductTypes = this.state.productTypes.filter(item => item.isActive);\n      return activeProductTypes.map((item, index) => (\n        <option key={index} value={item._id}>{item.name}</option>\n      ));\n    }\n  }\n\n  renderVerticalNavBar() {\n    return(\n      <Nav vertical >\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'product-info' ? \" active-link\" : \"\")} to=\"#\" \n            onClick={() => { \n              this.setState({activeStep: 'product-info' } ) \n            }}\n          >\n            Product Information<span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n          </NavLink> \n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'price' ? \" active-link\" : \"\") + (this.state.steps.price === false ? \" disabled\" : \"\")} to=\"#\" \n            onClick={() => { \n              if(this.state.steps.price === true) {\n                this.setState({ activeStep: 'price' } );\n              }\n            }}\n          >\n            Price <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'product-settings' ? \" active-link\" : \"\") + (this.state.steps.productSettings === false ? \" disabled\" : \"\")} to=\"#\" \n            onClick={() => { \n              if(this.state.steps.productSettings === true) {\n                this.setState({ activeStep: 'product-settings' } );\n              }\n            }}\n          >\n            Product Settings <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'product-category' ? \" active-link\" : \"\") + (this.state.steps.productCategory === false ? \" disabled\" : \"\")} to=\"#\" \n            onClick={() => { \n              if(this.state.steps.productCategory === true) {\n                this.setState({ activeStep: 'product-category' } );\n              }\n            }}\n          >\n            Product Category <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'images' ? \" active-link\" : \"\") + (this.state.steps.images === false ? \" disabled\" : \"\")} to=\"#\" \n            onClick={() => { \n              if(this.state.steps.images === true) {\n                this.setState({ activeStep: 'images' } );\n              }\n            }}\n          >\n            Images <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n          </NavLink>\n        </NavItem>\n        {this.state.product.vouchers && this.state.product.vouchers.length > 0 &&\n          <NavItem>\n            <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'vouchers' ? \" active-link\" : \"\") + (this.state.steps.vouchers === false ? \" disabled\" : \"\")} to=\"#\" \n              onClick={() => { \n                if(this.state.steps.vouchers === true) {\n                  this.setState({ activeStep: 'vouchers' } );\n                }\n              }}\n            >\n              Vouchers <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n            </NavLink>\n          </NavItem>\n        }\n      </Nav>\n    );\n  }\n\n  renderProductInfoStep(product) {\n    const { submitted } = this.state;\n    return(\n      <>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <FormGroup\n              className={submitted && !product.name ? \" has-danger\" : \"\"}\n            >\n              <label htmlFor=\"name\" className=\"control-label\">Product Name <em className=\"text-muted\">(Required)</em></label>\n              <Input\n                id=\"name\"\n                name=\"name\"\n                className=\"name\"\n                placeholder=\"Product Name\"\n                type=\"text\"\n                value={product.name}\n                onChange={this.handleChange}\n                autoComplete=\"off\"\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col sm=\"12\" md=\"6\" lg=\"6\">\n            <FormGroup\n              className={submitted && !product.productType ? \" has-danger\" : \"\" }\n            >\n              <label htmlFor=\"productType\" className=\"control-label\">Product Type <em className=\"text-muted\">(Required)</em></label>\n              <Input\n                id=\"productType\"\n                name=\"productType\"\n                className=\"productType\"\n                placeholder=\"Product Type\"\n                type=\"select\"\n                value={product.productType}\n                onChange={this.handleChange}\n              >\n                <option value=\"\">Select One</option>\n                {this.renderProductTypes()}\n              </Input>\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col md=\"12\">\n            <FormGroup>\n              <label htmlFor=\"description\" className=\"control-label\">Description</label>\n              <Input\n                id=\"description\"\n                name=\"description\"\n                placeholder=\"Description\"\n                type=\"textarea\"\n                value={product.description}\n                onChange={this.handleChange}\n                style={{height:'150px'}}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col md=\"6\">\n            <FormGroup>\n              <label htmlFor=\"tags\" className=\"control-label\">Tags</label>\n              <ReactTags\n                tags={product.tags2d}\n                delimiters={delimiters}\n                handleDelete={this.handleDelete}\n                handleAddition={this.handleAddition}\n                handleDrag={this.handleDrag}\n                autofocus={false}\n              />\n            </FormGroup>\n            <FormGroup className=\"enable-field-group\">\n              <label htmlFor=\"barcode\" className=\"control-label\">\n                Barcode\n              </label>\n            </FormGroup>\n            <FormGroup>\n              <Label check>\n                <Input\n                  type=\"checkbox\"\n                  className=\"enable-disable-checkbox\"\n                  id=\"disableBarcode\"\n                  name=\"disableBarcode\"\n                  defaultChecked={\n                    !this.state.disableBarcode\n                  }\n                  onChange={this.handleDisableBarcode}\n                />\n                <span className=\"form-check-sign\">\n                  <span className=\"check\" />\n                </span>\n                Enable Barcode\n              </Label>\n              <Input\n                readOnly={this.state.disableBarcode}\n                id=\"barcode\"\n                name=\"barcode\"\n                className=\"barcode\"\n                placeholder=\"Barcode\"\n                type=\"text\"\n                value={product.barcode}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n            <FormGroup className=\"enable-field-group\">\n              <label htmlFor=\"barcode\" className=\"control-label\">\n                Item Code\n              </label>\n            </FormGroup>\n            <FormGroup>\n              <Label check>\n                <Input\n                  type=\"checkbox\"\n                  className=\"enable-disable-checkbox\"\n                  id=\"disableItemcode\"\n                  name=\"disableItemcode\"\n                  defaultChecked={\n                    !this.state.disableItemcode\n                  }\n                  onChange={this.handleDisableItemcode}\n                />\n                <span className=\"form-check-sign\">\n                  <span className=\"check\" />\n                </span>\n                Enable Item Code\n              </Label>\n              <Input\n                readOnly={this.state.disableItemcode}\n                id=\"itemCode\"\n                name=\"itemCode\"\n                className=\"itemCode\"\n                placeholder=\"Item Code\"\n                type=\"text\"\n                value={product.itemCode}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n      </>\n    )\n  }\n\n  renderPriceStep(product) {\n    const { submitted } = this.state;\n    return(\n      <Row>\n        <Col md=\"4\">\n          <FormGroup\n            className={\n              submitted && (!product.price || isNaN(product.price) || product.price <= 0)\n                ? \" has-danger\"\n                : \"\"\n            }\n          >\n            <label htmlFor=\"price\" className=\"control-label\">\n              Price <em className=\"text-muted\">(Required)</em>\n            </label>\n            <Input\n              id=\"price\"\n              name=\"price\"\n              placeholder=\"&#8369;\"\n              type=\"text\"\n              value={product.price}\n              onChange={this.handleChange}\n            />\n          </FormGroup>\n        </Col>\n        <Col className=\"px-md-1\" md=\"4\">\n          <FormGroup>\n            <label htmlFor=\"comparePrice\" className=\"control-label\">\n              Compare Price\n            </label>\n            <Input\n              id=\"comparePrice\"\n              name=\"comparePrice\"\n              placeholder=\"&#8369;\"\n              type=\"text\"\n              value={product.comparePrice}\n              onChange={this.handleChange}\n            />\n          </FormGroup>\n        </Col>\n      </Row>\n    )\n  }\n\n  renderProductSettings(product) {\n    return(\n      <>\n        <Row>\n          <Col md=\"4\">\n            <FormGroup>\n              <Label>\n                <Switch\n                  onClick={() => {\n                    this.setState({\n                      product: {\n                        ...this.state.product,\n                        forSale: !product.forSale\n                      }\n                    });\n                  }}\n                  on={product.forSale}\n                />\n                For Sale (Availability)\n              </Label>\n            </FormGroup>\n            <FormGroup>\n              <Label>\n                <Switch\n                  onClick={() => {\n                    this.setState({\n                      product: {\n                        ...this.state.product,\n                        autofullfill: !product.autofullfill\n                      }\n                    });\n                  }}\n                  on={product.autofullfill}\n                />\n                Auto-confirm\n              </Label>\n            </FormGroup>\n          </Col>\n          <Col md=\"4\">\n            <FormGroup>\n              <Label>\n                <Switch\n                  onClick={() => {\n                    this.setState({\n                      product: {\n                        ...this.state.product,\n                        isActive: !product.isActive\n                      }\n                    });\n                  }}\n                  on={product.isActive}\n                />\n                Publish\n              </Label>\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col md=\"4\" style={{ marginBottom: \"15px\" }}>\n            <FormGroup>\n              <Label className=\"control-label\">\n                Pick-up Options\n              </Label>\n            </FormGroup>\n            <FormGroup check>\n              <Label check>\n                <Input\n                  type=\"checkbox\"\n                  className=\"\"\n                  id=\"forPickup\"\n                  name=\"forPickup\"\n                  defaultChecked={product.forPickup}\n                  onChange={this.handleChange}\n                />\n                <span className=\"form-check-sign\">\n                  <span className=\"check\" />\n                </span>\n                Pickup\n              </Label>\n            </FormGroup>\n            <FormGroup check>\n              <Label check>\n                <Input\n                  type=\"checkbox\"\n                  className=\"\"\n                  id=\"forDelivery\"\n                  name=\"forDelivery\"\n                  defaultChecked={product.forDelivery}\n                  onChange={this.handleChange}\n                />\n                <span className=\"form-check-sign\">\n                  <span className=\"check\" />\n                </span>\n                Delivery\n              </Label>\n            </FormGroup>\n            <FormGroup check>\n              <Label check>\n                <Input\n                  type=\"checkbox\"\n                  className=\"\"\n                  id=\"forDinein\"\n                  name=\"forDinein\"\n                  defaultChecked={product.forDinein}\n                  onChange={this.handleChange}\n                />\n                <span className=\"form-check-sign\">\n                  <span className=\"check\" />\n                </span>\n                Dine In\n              </Label>\n            </FormGroup>\n          </Col>\n          <Col className=\"px-md-1\" md=\"4\" style={{ marginBottom: \"15px\" }}>\n            <Row>\n              <Col md=\"12\">\n                <FormGroup>\n                  <Label className=\"control-label\">\n                    Charges and Fees\n                  </Label>\n                </FormGroup>\n              </Col>\n            </Row>\n            <Row>\n              <Col md=\"12\">\n                <FormGroup>\n                  <Label>\n                    <Switch\n                      onClick={() => {\n                        const nextStatus = !product.containerFeeDelivery;\n                        this.setState({\n                          product: {\n                            ...this.state.product,\n                            containerFeeDelivery: nextStatus\n                          }\n                        });\n                      }}\n                      on={product.containerFeeDelivery}\n                    />\n                    Container Fee\n                  </Label>\n                </FormGroup>\n                <FormGroup>\n                  <Input\n                    id=\"containerFeeAmt\"\n                    name=\"containerFeeAmt\"\n                    className=\"containerFeeAmt\"\n                    placeholder=\"Enter Amount\"\n                    type=\"text\"\n                    value={product.containerFeeAmt}\n                    onChange={this.handleChange}\n                  />\n                </FormGroup>\n                <FormGroup>\n                  <Label>\n                    <Switch\n                      onClick={() => {\n                        const nextStatus = !product.containerFeePickup;\n                        this.setState({\n                          product: {\n                            ...this.state.product,\n                            containerFeePickup: nextStatus\n                          }\n                        });\n                      }}\n                      on={this.state.product.containerFeePickup}\n                    />\n                    Applicable for Pickup\n                  </Label>\n                </FormGroup>\n              </Col>\n            </Row>\n          </Col>\n          <Col md=\"4\" style={{ marginBottom: \"15px\" }}>\n            <Row>\n              <Col md=\"12\">\n                <FormGroup>\n                  <label htmlFor=\"unit\" className=\"control-label\">\n                    Product Unit\n                  </label>\n                  <Input\n                    id=\"unit\"\n                    name=\"unit\"\n                    className=\"unit\"\n                    placeholder=\"Enter Unit (kg, lbs, L)\"\n                    type=\"text\"\n                    value={product.unit}\n                    onChange={this.handleChange}\n                  />\n                </FormGroup>\n              </Col>\n            </Row>\n            <Row>\n              <Col md=\"12\">\n                <FormGroup>\n                  <label htmlFor=\"limit\" className=\"control-label\">\n                    Product Limit (per order)\n                  </label>\n                  <Input\n                    id=\"limit\"\n                    name=\"limit\"\n                    className=\"limit\"\n                    placeholder=\"Enter product limit\"\n                    type=\"text\"\n                    value={product.limit}\n                    onChange={this.handleChange}\n                  />\n                </FormGroup>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n      </>\n    );\n  }\n\n  renderProductCategory(categoriesTree,icons) {\n    return(\n      <>\n        <Row>\n          <Col md=\"12\">\n            <FormGroup>\n              <label className=\"control-label\">\n                Select Product Categories\n              </label>\n              <CheckboxTree\n                nodes={categoriesTree}\n                checked={this.state.checked}\n                expanded={this.state.expanded}\n                onCheck={checked => this.setState({ checked })}\n                onExpand={expanded => this.setState({ expanded })}\n                showNodeIcon={false}\n                icons={icons}\n                nativeCheckboxes\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n      </>\n    );\n  }\n\n  renderImages(product) {\n    return(\n      <>\n        <Row>\n          <Col md=\"6\">\n            <FormGroup>\n              <label htmlFor=\"images\" className=\"control-label\">Upload Photo</label>\n              <div className=\"upload-photo\" style={{ margin: '10px auto', border: '1px solid #ccc', 'backgroundColor': '#efefef' }}>\n                <Input name=\"images\" label='upload file' type='file' onChange={this.handleFileUpload} style={divStyle} />\n                  <ul className=\"product-photos\">\n                    {product.photos.length > 0 &&\n                      <>\n                        {product.photos.map(({original, thumb, _id: id }) =>\n                          <li key={id} >\n                            <img alt={original} title={id} src={thumb}/>\n                            <button data-id={id} type=\"button\" onClick={this.removeImage} className=\"remove-image\"><span style={{color:'#fefefe'}}>&times;</span></button>\n                          </li>\n                        )}\n                      </>\n                    }\n                    {this.state.isUploading &&\n                      <li style={{border:'0',padding:'10px'}}>\n                        <SyncLoader\n                          sizeUnit={\"px\"}\n                          size={15}\n                          color={'#1d8cf8'}\n                          loading={this.state.isUploading}\n                        />\n                      </li>\n                    }\n                  </ul>\n              </div>\n            </FormGroup>\n          </Col>\n        </Row>\n      </>\n    );\n  }\n\n  renderVouchers(product) {\n    return(\n      <>\n        <Row>\n          <Col lg=\"12\" md=\"12\" sm=\"12\">\n            <FormGroup>\n              <h4>Product Vouchers</h4>\n              <div className=\"vouchers\">\n                <Link to=\"/product-vouchers\" className=\"btn btn-round btn-sm btn-info\">Manage Vouchers</Link>\n                {product.vouchers && product.vouchers.length > 0 ?\n                  (\n                    <Table className=\"product-vouchers table-striped responsive\" responsive>\n                      <thead>\n                        <tr>\n                          <th>&nbsp;</th>\n                          <th colSpan=\"2\">Code</th>\n                          <th>Product</th>\n                          <th>Used</th>\n                          <th>Added</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {product.vouchers.map((item,index) =>\n                          <tr key={item._id}>\n                            <td>{index+1}.</td>\n                            <td>\n                              <QRCode \n                                size={50}\n                                value={item.code} \n                              />\n                            </td>\n                            <td>\n                              <span style={{ fontFamily:'monospace'}}>{item.code}</span>\n                            </td>\n                            <td>{product.name}</td>\n                            {item.isUsed ? \n                              (<td><Badge color=\"secondary\">YES</Badge></td>) :\n                              (<td><Badge color=\"success\">NO</Badge></td>) }\n                            <td>{format(new Date(item.createdAt),\"MMM dd, yyyy hh:mm a\")}</td>\n                          </tr>\n                        )}\n                      </tbody>\n                    </Table>\n                  )\n                  :\n                  (<p><em className=\"text-danger\">No vouchers added.</em></p>)\n                }\n              </div>\n            </FormGroup>\n          </Col>\n        </Row>\n      </>\n    );\n  }\n\n  render() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n\n    let userId = \"\";\n    if(userData) {\n      userId = userData.userId;\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n\n    let { product } = this.state;\n\n    const productCategories = this.state.productCategories;\n    const parentCategories = productCategories.filter(item => !item.parent);\n    const childCategoriesMain = productCategories.filter(item => item.parent);\n    let childCategories = [];\n\n    childCategoriesMain.forEach(item => {\n      if(item.provider === undefined || item.provider.toString() === userId ) {\n        childCategories.push(item);\n      }\n    });\n\n    let categoriesTree = [];\n    if (parentCategories) {\n      parentCategories.forEach(cat => {\n        const value = cat._id.toString();\n        const label = cat.name;\n        let sublist = [];\n\n        sublist = childCategories.filter( item => item.parent._id.toString() === value );\n\n        let children1 = [];\n        if(sublist instanceof Array && sublist.length > 0) {\n          let category1 = [];\n          sublist.forEach(cat => {\n            const value = cat._id;\n            const label = cat.name;\n            const category = {\n              value: value,\n              label: label,\n              children: [],\n            }\n            category1.push(category);\n          });\n          children1 = category1;\n        }\n        const children = children1;\n        const category = {\n          value: value,\n          label: label,\n          children: children,\n        }\n        categoriesTree.push(category);\n      });\n    }\n\n    const icons = {\n      check: <Fa className=\"rct-icon rct-icon-check\" icon={['far', 'check-square']} />,\n      uncheck: <Fa className=\"rct-icon rct-icon-uncheck\" icon={['far', 'square']} />,\n      halfCheck: <Fa className=\"rct-icon rct-icon-half-check\" icon={['far', 'check-square']} />,\n      expandClose: <Fa className=\"rct-icon rct-icon-expand-close\" icon=\"chevron-right\" />,\n      expandOpen: <Fa className=\"rct-icon rct-icon-expand-open\" icon=\"chevron-down\" />,\n      expandAll: <Fa className=\"rct-icon rct-icon-expand-all\" icon=\"plus-square\" />,\n      collapseAll: <Fa className=\"rct-icon rct-icon-collapse-all\" icon=\"minus-square\" />,\n      parentClose: <Fa className=\"rct-icon rct-icon-parent-close\" icon={['far', 'folder']} />,\n      parentOpen: <Fa className=\"rct-icon rct-icon-parent-open\" icon={['far', 'folder-open']} />,\n      leaf: <Fa className=\"rct-icon rct-icon-leaf-close\" icon={['far', 'file']} />\n    }\n\n    if(this.state.pageType !== 'sb-tours') {\n      if(this.state.isLoading) {\n        return (\n          <>\n            <div className=\"content\">\n              <Row>\n                <Col sm=\"12\" md=\"12\" lg=\"12\">\n                  <Card>\n                    <CardHeader>\n                      <h4 className=\"title\">Edit Product</h4>\n                    </CardHeader>\n                    <CardBody>\n                      <PulseLoader\n                        sizeUnit={\"px\"}\n                        size={15}\n                        color={'#1d8cf8'}\n                        loading={this.state.isLoading}\n                      />\n                    </CardBody>\n                  </Card>\n                </Col>\n              </Row>\n            </div>\n          </>\n        );\n      } else {\n        let queryStr = \"?\";\n        let query = \"\";\n        queryStr += (this.state.page && this.state.page > 1 ? `page=${this.state.page}&` : ``);\n        queryStr += (this.state.keyword && this.state.keyword !== '' ? `keyword=${this.state.keyword}&` : ``);\n        queryStr += (this.state.status && this.state.status !== '' ? `status=${this.state.status}&` : ``);\n        queryStr += (this.state.availability && this.state.availability !== '' ? `availability=${this.state.availability}&` : ``);\n        queryStr += (this.state.category && this.state.category !== '' ? `category=${this.state.category}&` : ``);\n        queryStr += (this.state.subCategory && this.state.subCategory !== '' ? `subCategory=${this.state.subCategory}&` : ``);\n        const lastChar = queryStr.substr(queryStr.length - 1);\n        if(lastChar === '&') {\n          query = queryStr.slice(0, -1);\n        }\n        const cancelLink = `/products${query}`;\n        if(this.state.product) {\n          return (\n            <>\n              <div className=\"content\">\n                <div className=\"react-notification-alert-container\">\n                  <NotificationAlert ref=\"notify\" />\n                </div>\n                <Row>\n                  <Col sm=\"12\" md=\"12\" lg=\"12\">\n                    <Alert color=\"success\" isOpen={this.state.messageOpen} toggle={this.onAlertDismiss}>\n                      {this.state.message}\n                    </Alert>\n                    <Card>\n                      <Form onSubmit={this.handleSubmit} onKeyPress={this.onKeyPress}>\n                        <CardHeader>\n                          <h4 className=\"title\">Edit Product - <em>{product.name}</em></h4>\n                        </CardHeader>\n                        <CardBody>\n                          <Row>\n                            {!pageInfo.hideTutorials &&\n                              <Col sm=\"12\">\n                                <Row>\n                                  <Col md=\"12\">\n                                    <Alert className=\"alert-compact\" color=\"primary\" isOpen={!this.state.hideTutorials} toggle={this.onDismiss} fade={false}>\n                                      <h4 className=\"alert-heading\">New on Products?</h4>\n                                      <hr />\n                                      <p className=\"mb-0\">\n                                        Check our videos here on how to manage your products.<br /> \n                                      </p>\n                                      <a className=\"btn btn-sm btn-primary-v2\" href=\"https://www.youtube.com/watch?v=k8VEDqbPv7w\">View Tutorials</a>\n                                      <Button\n                                        className=\"btn-fill btn-sm\"\n                                        color=\"danger\"\n                                        type=\"button\"\n                                        onClick={this.onHideTutorials}\n                                      >\n                                        Hide Permanently\n                                      </Button>\n                                    </Alert>\n                                  </Col>\n                                </Row>\n                              </Col>\n                            }\n                          </Row>\n                          <Row>\n                            <Col sm=\"12\" md=\"3\" lg=\"3\">\n                              {this.renderVerticalNavBar()}\n                            </Col>\n                            <Col sm=\"12\" md=\"9\" lg=\"9\">\n                              {(this.state.activeStep === 'product-info' &&\n                                this.state.steps.productInfo === true) ?\n                                this.renderProductInfoStep(this.state.product) :\n                                (this.state.activeStep === 'price' && this.state.steps.price === true) ?\n                                this.renderPriceStep(this.state.product) :\n                                (this.state.activeStep === 'product-settings' && this.state.steps.productSettings === true) ?\n                                this.renderProductSettings(this.state.product) :\n                                (this.state.activeStep === 'product-category' && this.state.steps.productCategory === true) ?\n                                this.renderProductCategory(categoriesTree,icons) :\n                                (this.state.activeStep === 'images' && this.state.steps.images === true) ?\n                                this.renderImages(this.state.product) :\n                                (this.state.activeStep === 'vouchers' && this.state.steps.vouchers === true && this.state.product.vouchers && this.state.product.vouchers.length > 0) ?\n                                this.renderVouchers(this.state.product) :\n                                this.renderProductInfoStep(this.state.product)\n                              }\n                            </Col>\n                          </Row>\n                        </CardBody>\n                        <CardFooter>\n                          <Button className=\"btn-round\" color=\"info\" type=\"submit\">Save</Button>\n                          <Link to={cancelLink} className=\"btn btn-round btn-light\">Cancel</Link>\n                        </CardFooter>\n                      </Form>\n                    </Card>\n                  </Col>\n                </Row>\n              </div>\n              <LoadingOverlay\n                active={this.state.isSaving}\n                spinner\n                text='Saving...'\n                >\n              </LoadingOverlay>\n              <LoadingOverlay\n                active={this.state.isGenerating}\n                spinner\n                text='Generating Vouchers Codes...'\n                >\n              </LoadingOverlay>\n            </>\n          );\n        } else {\n          return (\n            <>\n              <div className=\"content\">\n                <Row>\n                  <Col sm=\"12\" md=\"12\" lg=\"12\">\n                    <Card>\n                      <CardHeader>\n                        <h4 className=\"title\">Edit Product</h4>\n                      </CardHeader>\n                      <CardBody>\n                        <h4 className=\"text-danger\">Product not found</h4>\n                      </CardBody>\n                      <CardFooter>\n                        <Link to={cancelLink} className=\"btn btn-round btn-default\">Back to Products</Link>\n                      </CardFooter>\n                    </Card>\n                  </Col>\n                </Row>\n              </div>\n            </>\n          );\n        }\n      }\n    } else {\n      return (\n        <>\n          <div className=\"content\">\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4>This page is disabled.</h4>\n                  </CardHeader>\n                  <CardBody></CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    getProductById,\n    getProductTypes,\n    getProductCategories,\n    getProductCategoriesV2,\n    getProviderPlaces,\n    updateProduct,\n    uploadPhoto,\n    removePhoto,\n  }\n)(EditProduct);","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport api from \"../../config/api\";\nimport { Link } from \"react-router-dom\";\nimport { getSession, setSession } from \"../../config/session\";\nimport {\n  getProductsByPageId,\n  getProductsGroceryByPageId,\n  getProductsByProviderId,\n  updateProduct,\n  deleteProduct\n} from \"../../layouts/Admin/actions/ProductActions\";\nimport { getProductCategoriesAll, getProductCategoriesAllV2 } from \"../../layouts/Admin/actions/ProductCategoryActions\";\nimport { getProviderPlaces } from \"../../layouts/User/UserActions\";\nimport queryString from \"query-string\";\nimport Switch from \"react-toggle-switch\";\nimport { FontAwesomeIcon as Fa } from \"@fortawesome/react-fontawesome\";\nimport Pagination from \"react-js-pagination\";\nimport { PulseLoader } from \"react-spinners\";\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\nimport { format } from 'date-fns'\n\nimport defaultProductImage from \"assets/img/product-image-default.png\";\n\nimport { Button, Card, CardHeader, CardBody, CardFooter, Table, Row, Col, \n  Media, FormGroup, Input,\n} from \"reactstrap\";\n\nclass Tours extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tours: [],\n      checked: [],\n      defaultPage: \"\",\n      pagination: {},\n      activePage: 1,\n      selectedPage: \"\",\n      selectedAvailability: \"\",\n      selectedProductCategory: \"\",\n      selectedProductCategorySub: \"\",\n      sortBy: \"\",\n      sort: \"\",\n      status: \"\",\n      keyword: \"\",\n      size: 25,\n      isLoading: true,\n      isProcessing: false,\n      isGrocery: false,\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    if (userData !== null) {\n      let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n      const sessionToken = userData.sessionToken;\n    \n      if (defaultPage) {\n        if (defaultPage !== \"\") {\n          let url = this.props.location.search;\n          let query = queryString.parse(url);\n          let activePage = query.page ? Number(query.page) : 1;\n          let status = query.status ? query.status : \"\";\n          let sortBy = query.sortBy ? query.sortBy : \"created\";\n          let sort = query.sort ? query.sort : \"desc\";\n          let keyword = query.keyword ? query.keyword : \"\";\n          let size = query.size ? query.size : 25;\n          let queryStr = \"?\" + queryString.stringify(query);\n          this.setState({\n            activePage: activePage,\n            selectedPage: defaultPage,\n            status: status,\n            sort: sort,\n            sortBy: sortBy,\n            keyword: keyword,\n            size: size,\n          });\n          this.refreshProductList(queryStr);\n        } else {\n          this.props.getProviderPlaces(sessionToken, (error, result) => {\n            if (!error && result) {\n              if(result.places && result.places instanceof Array && result.places.length > 0 ) {\n                const defaultPlace = result.places.find(item => item.isDefault);\n                if(defaultPlace && defaultPlace._id) {\n                  defaultPage = defaultPlace._id;\n                  pageInfo = defaultPlace;\n                } else {\n                  defaultPage = result.places[0]._id;\n                  pageInfo = result.places[0];\n                }\n              }\n              setSession('pageInfo',JSON.stringify(pageInfo));\n              let url = this.props.location.search;\n              let query = queryString.parse(url);\n              let activePage = query.page ? Number(query.page) : 1;\n              let status = query.status ? query.status : \"\";\n              let sortBy = query.sortBy ? query.sortBy : \"created\";\n              let sort = query.sort ? query.sort : \"desc\";\n              let keyword = query.keyword ? query.keyword : \"\";\n              let size = query.size ? query.size : 25;\n              let queryStr = \"?\" + queryString.stringify(query);\n              this.setState({\n                activePage: activePage,\n                selectedPage: defaultPage,\n                status: status,\n                sort: sort,\n                sortBy: sortBy,\n                keyword: keyword,\n                size: size,\n              });\n              this.refreshProductList(queryStr);\n            } else {\n              this.setState({ isLoading: false });\n            }\n          });\n        }\n      } else {\n        this.props.getProviderPlaces(sessionToken, (error, result) => {\n          if (!error && result) {\n            if(result.places && result.places instanceof Array && result.places.length > 0 ) {\n              const defaultPlace = result.places.find(item => item.isDefault);\n              if(defaultPlace && defaultPlace._id) {\n                defaultPage = defaultPlace._id;\n                pageInfo = defaultPlace;\n              } else {\n                defaultPage = result.places[0]._id;\n                pageInfo = result.places[0];\n              }\n            }\n            setSession('pageInfo',JSON.stringify(pageInfo));\n            let url = this.props.location.search;\n            let query = queryString.parse(url);\n            let activePage = query.page ? Number(query.page) : 1;\n            let status = query.status ? query.status : \"\";\n            let sortBy = query.sortBy ? query.sortBy : \"created\";\n            let sort = query.sort ? query.sort : \"desc\";\n            let keyword = query.keyword ? query.keyword : \"\";\n            let size = query.size ? query.size : 25;\n            let queryStr = \"?\" + queryString.stringify(query);\n            this.setState({\n              activePage: activePage,\n              selectedPage: defaultPage,\n              status: status,\n              sort: sort,\n              sortBy: sortBy,\n              keyword: keyword,\n              size: size,\n            });\n            this.refreshProductList(queryStr);\n          } else {\n            this.setState({ isLoading: false });\n          }\n        });\n      }\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n  }\n\n  renderRows() {\n    if(this.state.isLoading) {\n      return (\n        <tr>\n          <td colSpan=\"6\">\n            <PulseLoader\n              sizeUnit={\"px\"}\n              size={15}\n              color={'#1d8cf8'}\n              loading={this.state.isLoading}\n            />\n          </td>\n        </tr>\n      );\n    } else {\n      if (\n        this.state.tours instanceof Array &&\n        this.state.tours.length > 0\n      ) {\n        return this.state.tours.map((item, index, toursArr) => (\n          <tr key={index}>\n            <td>\n              <Input\n                style={{position: 'inherit', margin: '0'}}\n                className=\"form-control\"\n                type=\"checkbox\"\n                name=\"product\"\n                value={item._id}\n                onClick={this.handleCheck}\n              />\n            </td>\n            <td width=\"450\">{this.renderImage(item)}</td>\n            <td width=\"150\">{format(new Date(item.createdAt),'MMM dd, yyyy hh:mm a')}</td>\n            <td align=\"right\">&#8369;{(item.tourDetails && item.tourDetails.price) ? numberWithCommas(item.tourDetails.price) : \"0.00\"}</td>\n            <td width=\"75\" align=\"center\">\n              <Link to={\"/tours/\" + item._id + \"/edit\"} style={{paddingRight:\"10px\"}}>\n                <Fa icon=\"edit\" />\n              </Link>\n              <Link to=\"#\" className=\"text-danger\" onClick={this.handleDelete} data-item={item._id} style={{paddingRight:\"10px\"}}>\n                <Fa icon=\"trash-alt\"/>\n              </Link>\n              <Link to=\"#\" onClick={this.cloneItem} data-item={item._id}>\n                <Fa icon=\"copy\"/>\n              </Link>\n            </td>\n            <td>\n              <Switch\n                onClick={() => {\n                  const nextStatus = !item.isActive;\n                  this.toggleSwitchIsActive(item);\n                  toursArr[index].isActive = nextStatus;\n                  this.setState({\n                    tours: toursArr\n                  });\n                }}\n                on={item.isActive}\n              />\n            </td>\n          </tr>\n        ));\n      } else {\n        return (\n          <tr>\n            <td colSpan=\"67\">\n              <strong className=\"text-danger\">\n                <em>No tours found.</em>\n              </strong>\n            </td>\n          </tr>\n        );\n      }\n    }\n  }\n\n  renderImage(item) {\n    const {\n      name,\n      photos,\n    } = item;\n\n    let primaryPhoto;\n    if (photos[0] !== undefined || photos[0] != null) {\n      primaryPhoto = photos[0];\n    } else {\n      primaryPhoto = {\n        thumb: defaultProductImage,\n      }\n    }\n    return (\n      <Media className=\"mt-1\">\n        { primaryPhoto && primaryPhoto.thumb &&\n          <Media left middle>\n            <Media\n              object\n              data-src={primaryPhoto.thumb}\n              src={primaryPhoto.thumb}\n              alt={name}\n              title={name}\n            />\n          </Media>\n        }\n        <Media body>\n          <Media>\n            <Link to={\"/tours/\" + item._id + \"/edit\"}>\n              {name}\n            </Link>\n          </Media>\n        </Media>\n      </Media>\n    );\n  }\n \n  toggleSwitchIsActive(tour) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const { _id: tourId } = tour;\n    let tourNew = {\n      isActive: !tour.isActive\n    }\n    api(sessionToken).patch(`/provider/tours/${tourId}/update-status`, tourNew)\n      .then(response => {\n        if (response && response.data) {\n          this.showNotification('Tour updated.');\n        }\n      })\n      .catch(error => {\n        this.setState({ submitted: false, isSaving: false });\n        if(error.response && typeof error.response === 'string' ) {\n          this.showNotificationError(error.response);\n        } else {\n          this.showNotificationError('There is a error updating the tour!');\n        }\n      });\n  }\n\n  showNotification(message) {\n    if(message && typeof message === 'string') {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 2\n      }\n      if(notification && this.refs.notify && this.refs.notify.notificationAlert) {\n        this.refs.notify.notificationAlert(notification);\n      }\n    }\n  }\n\n  showNotificationError(message) {\n    if(message && typeof message === 'string') {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 2\n      }\n      if(notification && this.refs.notify && this.refs.notify.notificationAlert) {\n        this.refs.notify.notificationAlert(notification);\n      }\n    }\n  }\n\n  handleChangeKeyword = (e) => {\n    let { value } = e.target;\n    this.setState({keyword: value});\n  }\n\n  handleEnter = (e) => {\n    let { key } = e;\n    if (key === 'Enter') {\n      this.setState({isLoading:true});\n      let { keyword } = this.state;\n      let url = this.props.location.search;\n      let query = queryString.parse(url);\n      delete query.message;\n      delete query.page;\n      if (keyword !== \"\") {\n        query.keyword = keyword;\n      } else {\n        delete query.keyword;\n      }\n      let queryStr = \"?\" + queryString.stringify(query);\n      this.refreshProductList(queryStr);\n    }\n  }\n\n  handleDelete = (e) => {\n    if (!window.confirm(\"Do you want to delete this tour?\")){\n      return false;\n    }\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    const message = \"Tour has been deleted!\";\n    let queryStr = \"?\" + queryString.stringify(query);\n    const placeId = e.currentTarget.dataset.item;\n    if(placeId) {\n      const userData = JSON.parse(getSession(\"userData\"));\n      if(userData) {\n        const sessionToken = userData.sessionToken;\n        api(sessionToken).delete(`/business/places?_id=${placeId}`)\n          .then(response => {\n            if (response && response.data) {\n              if(response.data && response.data.status === \"Deleted\") {\n                this.showNotification(message);\n                this.refreshProductList(queryStr);\n              }\n            }\n          })\n          .catch(error => {\n            if (error) {\n              if(error.response && error.response.status && error.response.status === 403) {\n                setTimeout(() => { \n                  this.setState({isLoading:true});\n                  let url = this.props.location.search;\n                  let query = queryString.parse(url);\n                  delete query.message;\n                  delete query.page;\n                  let queryStr = \"?\" + queryString.stringify(query);\n                  this.setState({ activePage: 1 });\n                  this.refreshProductList(queryStr);\n                }, 1000);\n                this.showNotificationError('You are not allowed to delete this tour.');\n              } else {\n                this.showNotificationError(error.response);\n              }\n            }\n          });\n      } else {\n        this.props.history.push(\"/login\");\n        window.location.reload();\n      }\n    }\n  }\n\n  cloneItem = (e) => {\n    if (!window.confirm(\"Do you want to clone this tour?\")){\n      return false;\n    }\n    const tourId = e.currentTarget.dataset.item;\n    if(tourId) {\n      const userData = JSON.parse(getSession(\"userData\"));\n      if (userData !== null) {\n        const sessionToken = userData.sessionToken;\n        api(sessionToken).get(`/provider/tours/${tourId}`)\n          .then(response => {\n            if(response && response.data) {\n              const { page:tour } = response.data;\n              const tourData = {\n                name: tour.name ? tour.name : \"\",\n                isSuperGuide: tour.tourDetails.isSuperGuide ? tour.tourDetails.isSuperGuide : true,\n                about: tour.about ? tour.about : \"\",\n                pageType: tour.pageType ? tour.pageType : \"5dea2304f6bba08323a3ddce\",\n                photos: tour.photos ? tour.photos : [],\n                price: tour.tourDetails.price ? tour.tourDetails.price : 0,\n                comparePrice: tour.tourDetails.comparePrice ? tour.tourDetails.comparePrice : 0,\n                numberOfPax: tour.tourDetails.numberOfPax ? tour.tourDetails.numberOfPax : 0,\n                numberOfGroups: tour.tourDetails.numberOfGroups ? tour.tourDetails.numberOfGroups : 0,\n                minNumber: tour.tourDetails.minNumber ? tour.tourDetails.minNumber : 0,\n                maxNumber: tour.tourDetails.maxNumber ? tour.tourDetails.maxNumber : 0,\n                highlights: tour.tourDetails.activities ? tour.tourDetails.activities : [],\n                sections: tour.tourDetails.sections ? tour.tourDetails.sections : [],\n                addons: tour.tourDetails.addons ? tour.tourDetails.addons : []\n              }\n              api(sessionToken).post(`/provider/tours`, tourData)\n                .then(response => {\n                  if (response && response.data && response.data.place) {\n                    setTimeout(() => {\n                      const { _id:tourId } = response.data.place;\n                      this.props.history.push(`/tours/${tourId}/edit?message=A tour has been cloned!`);\n                    }, 1000);\n                  }\n                })\n                .catch(error => {\n                  if(error.response && typeof error.response === 'string' ) {\n                    this.showNotificationError(error.response);\n                  } else {\n                    this.showNotificationError('There is an error cloning the tour!');\n                  }\n                });\n            } else {\n              this.showNotificationError('There is an error cloning the tour!');\n            }\n          })\n          .catch(error => {\n            this.showNotificationError('There is an error cloning the tour!');\n          })\n      } else {\n        this.props.history.push(\"/login\");\n        window.location.reload();\n      }\n    }\n  }\n\n  handleChangeProductStatus = (e) => {\n    this.setState({isLoading:true});\n    let { value } = e.target;\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    delete query.page;\n    if (value !== \"\") {\n      query.status = value;\n    } else {\n      delete query.status;\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ status: value, activePage: 1 });\n    this.refreshProductList(queryStr);\n  }\n\n  handlePageChange = (pageNumber) => {\n    this.setState({isLoading:true});\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.page = pageNumber;\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({ activePage: pageNumber });\n    this.refreshProductList(queryStr);\n  }\n\n  handleChangePerPage = (e) => {\n    this.setState({isLoading:true});\n    let { value } = e.target;\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    delete query.page;\n    if (value !== \"\") {\n      query.size = value;\n    } else {\n      delete query.size;\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({ size: value, activePage: 1 });\n    this.refreshProductList(queryStr);\n  }\n\n  handleCheckAll = (e) => {\n    let { checked: isChecked } = e.target;\n    const checkboxes = document.querySelectorAll('input[name=\"product\"]');\n    const checkboxesArr = Array.from(checkboxes);\n    if(isChecked) {\n      const checked = checkboxesArr.map(item => item.value );\n      this.setState({checked:checked});\n    } else {\n      this.setState({checked:[]});\n    }\n    checkboxes.forEach(checkbox => {\n      if (isChecked) {\n        checkbox.checked = true;\n      } else {\n        checkbox.checked = false;\n      }\n    });\n  }\n\n  handleCheck = (e) => {\n    let { value, checked: isChecked } = e.target;\n    if(isChecked) {\n      this.setState({checked: [...this.state.checked, value]});\n    } else {\n      const checked = this.state.checked.filter((item) => value !== item);\n      this.setState({checked:checked});\n    }\n  }\n\n  handleDeleteChecked = () => {\n    let items = 0;\n    let deletedItems = 0;\n    let hasError = false;\n    const checked = this.state.checked;\n    if(checked instanceof Array && checked.length > 0) {\n      if (!window.confirm(\"Are you sure you want to delete this tour(s)?\")){\n        return false;\n      }\n      this.setState({isProcessing:true});\n      let url = this.props.location.search;\n      let query = queryString.parse(url);\n      if(query.message) {\n        delete query.message;\n      }\n      checked.forEach((tourId, index, array) => {\n        const userData = JSON.parse(getSession(\"userData\"));\n        const sessionToken = userData.sessionToken;\n        let tour = this.state.tours.find(item => item._id === tourId );\n        tour.isActive = true;\n        if (tour) {\n          this.props.deleteProduct(\n            tourId,\n            sessionToken,\n            (error, result) => {\n              if(result.status===\"Deleted\") {\n                deletedItems++;\n              } else {\n                if (error) {\n                  hasError = true;\n                }\n              }\n              items++;\n              if(items === array.length) {\n                this.setState({isProcessing:false});\n                const checkAll = document.getElementById('check-all');\n                checkAll.checked = false;\n                const checkboxes = document.querySelectorAll('input[name=\"product\"]');\n                checkboxes.forEach(checkbox => {\n                  checkbox.checked = false;\n                });\n                if(deletedItems > 0) {\n                  const message = deletedItems + \" tours(s) has been deleted.\";\n                  this.showNotification(message);\n                  let queryStr = \"?\" + queryString.stringify(query);\n                  this.refreshProductList(queryStr);\n                } else {\n                  if(hasError) {\n                    this.showNotificationError('There is a error in deleting the tour(s)!');\n                  }\n                }\n              }\n            }\n          );\n        }\n      });\n    } else {\n      this.showNotificationError('Please select a tour!');\n    }\n  }\n\n  handlePublishChecked = () => {\n    const checked = this.state.checked;\n    let items = 0;\n    let updatedItems = 0;\n    let hasError = false;\n    if(checked instanceof Array && checked.length > 0) {\n      if (!window.confirm(\"Are you sure you want to publish this tour(s)?\")){\n        return false;\n      }\n      this.setState({isProcessing:true});\n      checked.forEach((tourId, index, array) => {\n        const userData = JSON.parse(getSession(\"userData\"));\n        const sessionToken = userData.sessionToken;\n        let tour = this.state.tours.find(item => item._id === tourId );\n        tour.isActive = true;\n        if (tour) {\n          this.props.updateProduct(\n            tour,\n            tourId,\n            sessionToken,\n            (error, result) => {\n              if (result) {\n                this.setState(prevState => {\n                  const list = prevState.tours.map((item) => checkedItems(item,prevState.tours));\n                  return {\n                    list,\n                  };\n                });\n                updatedItems++;\n              } else {\n                if (error) {\n                  hasError = true;\n                }\n              }\n              items++;\n              if(items === array.length) {\n                this.setState({isProcessing:false});\n                if(updatedItems > 0) {\n                  this.showNotification(updatedItems + ' tour(s) has been published!');\n                }\n                if(hasError) {\n                  this.showNotificationError('There is a error in updating the tour(s)!');\n                }\n              }\n            }\n          );\n        }\n      });\n    } else {\n      this.showNotificationError('Please select a tour!');\n      return false;\n    }\n  }\n\n  handleUnpublishChecked = () => {\n    const checked = this.state.checked;\n    let items = 0;\n    let updatedItems = 0;\n    let hasError = false;\n    if(checked instanceof Array && checked.length > 0) {\n      if (!window.confirm(\"Are you sure you want to unpublish this tour(s)?\")){\n        return false;\n      }\n      this.setState({isProcessing:true});\n      checked.forEach((tourId, index, array) => {\n        const userData = JSON.parse(getSession(\"userData\"));\n        const sessionToken = userData.sessionToken;\n        let tour = this.state.tours.find(item => item._id === tourId );\n        tour.isActive = false;\n        if (tour) {\n          this.props.updateProduct(\n            tour,\n            tourId,\n            sessionToken,\n            (error, result) => {\n              if (result) {\n                this.setState(prevState => {\n                  const list = prevState.tours.map(item => checkedItems(item,prevState.tours));\n                  return {\n                    list,\n                  };\n                });\n                updatedItems++;\n              } else {\n                if (error) {\n                  hasError = true;\n                }\n              }\n              items++;\n              if(items === array.length) {\n                this.setState({isProcessing:false});\n                if(updatedItems > 0) {\n                  this.showNotification(updatedItems + ' tour(s) has been unpublished!');\n                }\n                if(hasError) {\n                  this.showNotificationError('There is a error in updating the tour(s)!');\n                }\n              }\n            }\n          );\n        }\n      });\n    } else {\n      this.showNotificationError('Please select a tour!');\n      return false;\n    }\n  }\n\n  sortCreated = () => {\n    let sort = \"\";\n    if (this.state.sortBy === \"created\") {\n      if (this.state.sort !== \"desc\") {\n        sort = \"desc\";\n      } else {\n        sort = \"asc\";\n      }\n    } else {\n      sort = \"desc\";\n    }\n    let sortBy = \"created\";\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.sort = sort;\n    query.sortBy = sortBy;\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    this.refreshProductList(queryStr);\n  }\n\n  sortPrice = () => {\n    let sort = \"\";\n    if (this.state.sortBy === \"price\") {\n      if (this.state.sort !== \"desc\") {\n        sort = \"desc\";\n      } else {\n        sort = \"asc\";\n      }\n    } else {\n      sort = \"desc\";\n    }\n    let sortBy = \"price\";\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.sort = sort;\n    query.sortBy = sortBy;\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    this.refreshProductList(queryStr);\n  }\n\n  sortName = () => {\n    let sort = \"\";\n    if (this.state.sortBy === \"name\") {\n      if (this.state.sort !== \"desc\") {\n        sort = \"desc\";\n      } else {\n        sort = \"asc\";\n      }\n    } else {\n      sort = \"desc\";\n    }\n    let sortBy = \"name\";\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.sort = sort;\n    query.sortBy = sortBy;\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    this.refreshProductList(queryStr);\n  }\n\n  refreshProductList(queryStr) {\n    const query = queryString.parse(queryStr);\n    const message = query.message\n    const checkAll = document.getElementById('check-all');\n    checkAll.checked = false;\n    const checkboxes = document.querySelectorAll('input[name=\"product\"]');\n    checkboxes.forEach(checkbox => {\n      checkbox.checked = false;\n    });\n\n    if(message) {\n      delete query.message;\n      this.showNotification(message);\n    }\n\n    this.props.history.push(\"/tours\" + queryStr);\n    const userData = JSON.parse(getSession(\"userData\"));\n    const { sessionToken } = userData;\n\n    if (userData != null) {\n      api(sessionToken).get('/provider/tours', { params: query })\n      .then(response => {\n        if(response && response.data) {\n            const { tours, pagination } = response.data;\n            this.setState({\n              tours,\n              pagination\n            });\n          this.setState({isLoading:false});\n        } else {\n          this.setState({isLoading:false});\n        }\n      })\n      .catch(error => {\n        this.setState({isLoading:false});\n      })\n    } else {\n      this.setState({isLoading:false});\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"content\">\n          <div className=\"react-notification-alert-container\">\n            <NotificationAlert ref=\"notify\" />\n          </div>\n          <Row>\n            <Col md=\"12\">\n              <Card>\n                <CardHeader>\n                  <h3 className=\"title\">Tours List</h3>\n                  <Row>\n                    <Col md=\"6\">\n                      <Row>\n                        <Col md=\"6\">\n                          <FormGroup>\n                            <Input\n                              id=\"keyword\"\n                              name=\"keyword\"\n                              type=\"text\"\n                              placeholder=\"Search...\"\n                              onChange={this.handleChangeKeyword}\n                              onKeyPress={this.handleEnter}\n                              value={this.state.keyword}\n                            >\n                            </Input>\n                          </FormGroup>\n                        </Col>\n                      </Row>\n                    </Col>\n                    <Col md=\"6\">\n                      <Row>\n                        <Col className=\"offset-md-6\" md=\"6\">\n                          <FormGroup>\n                            <Input\n                              id=\"productStatus\"\n                              name=\"productStatus\"\n                              type=\"select\"\n                              onChange={this.handleChangeProductStatus}\n                              value={this.state.status}\n                            >\n                              <option value=\"\">Filter by status</option>\n                              <option value=\"active\">Active</option>\n                              <option value=\"inActive\">Inactive</option>\n                            </Input>\n                          </FormGroup>\n                        </Col>\n                      </Row>\n                    </Col>\n                  </Row>\n                  <Row>\n                    <Col className=\"pull-right\" md=\"12\">\n                      <Button\n                        alt=\"Unpublish\"\n                        title=\"Unpublish\"\n                        className=\"btn btn-sm btn-round btn-info pull-right\"\n                        onClick={this.handleUnpublishChecked}\n                      >\n                        <Fa icon=\"eye-slash\" />&nbsp;Unpublish\n                      </Button>\n                      <Button\n                        alt=\"Publish\"\n                        title=\"Publish\"\n                        className=\"btn btn-sm btn-round btn-info pull-right\"\n                        onClick={this.handlePublishChecked}\n                      >\n                        <Fa icon=\"eye\" />&nbsp;Publish\n                      </Button>\n                      <Button\n                        alt=\"Delete\"\n                        title=\"Delete\"\n                        className=\"btn btn-sm btn-round btn-info pull-right\"\n                        onClick={this.handleDeleteChecked}\n                      >\n                        <Fa icon=\"archive\" />&nbsp;Delete\n                      </Button>\n                      <Link\n                        to=\"/tours/new\"\n                        alt=\"Add New Product\"\n                        title=\"Add New Product\"\n                        className=\"btn btn-sm btn-round btn-info pull-right\"\n                      >\n                        <Fa icon=\"plus\" />&nbsp;Add New\n                      </Link>\n                    </Col>\n                  </Row>\n                </CardHeader>\n                <CardBody>\n                  <Table className=\"tablesorter table-striped\" responsive>\n                    <thead className=\"text-primary\">\n                      <tr>\n                        <th>\n                          <Input\n                            style={{position: 'inherit', margin: '0'}}\n                            type=\"checkbox\"\n                            id=\"check-all\"\n                            onClick={this.handleCheckAll}\n                          />\n                        </th>\n                        <th style={{whiteSpace:\"nowrap\"}} onClick={this.sortName}>\n                          Tour{\" \"}\n                          {this.state.sortBy === \"name\" &&\n                            this.state.sort === \"desc\" && (\n                              <Fa icon=\"arrow-down\" className=\"text-info\" />\n                            )}{\" \"}\n                          {this.state.sortBy === \"name\" &&\n                            this.state.sort === \"asc\" && (\n                              <Fa icon=\"arrow-up\" className=\"text-info\" />\n                            )}{\" \"}\n                          {this.state.sortBy !== \"name\" && (\n                              <Fa icon=\"arrow-down\" className=\"text-disabled\" />\n                            )}{\" \"}\n                        </th>\n                        <th style={{whiteSpace:\"nowrap\"}} onClick={this.sortCreated}>\n                          Added{\" \"}\n                          {this.state.sortBy === \"created\" &&\n                            this.state.sort === \"desc\" && (\n                              <Fa icon=\"arrow-down\" className=\"text-info\" />\n                            )}{\" \"}\n                          {this.state.sortBy === \"created\" &&\n                            this.state.sort === \"asc\" && (\n                              <Fa icon=\"arrow-up\" className=\"text-info\" />\n                            )}{\" \"}\n                          {this.state.sortBy !== \"created\" && (\n                              <Fa icon=\"arrow-down\" className=\"text-disabled\" />\n                            )}{\" \"}\n                        </th>\n                        <th style={{whiteSpace:\"nowrap\"}} className=\"text-right\" onClick={this.sortPrice}>\n                          <span style={{ display: \"block\" }}>\n                            Price{\" \"}\n                            {this.state.sortBy === \"price\" &&\n                              this.state.sort === \"desc\" && (\n                                <Fa icon=\"arrow-down\" className=\"text-info\" />\n                              )}{\" \"}\n                            {this.state.sortBy === \"price\" &&\n                              this.state.sort === \"asc\" && (\n                                <Fa icon=\"arrow-up\" className=\"text-info\" />\n                              )}{\" \"}\n                            {this.state.sortBy !== \"price\" && (\n                              <Fa icon=\"arrow-down\" className=\"text-disabled\" />\n                            )}{\" \"}\n                          </span>\n                        </th>\n                        <th>&nbsp;</th>\n                        <th style={{whiteSpace:\"nowrap\"}}>Publish</th>\n                      </tr>\n                    </thead>\n                    <tbody>{this.renderRows(this.state.tours)}</tbody>\n                  </Table>\n                </CardBody>\n                <CardFooter>\n                  <Row>\n                    <Col md=\"12\">\n                      <Row className=\"pull-right\">\n                        <Col md=\"4\" lg=\"4\">\n                          {this.state.pagination && this.state.pagination.total > 0 && (\n                            <Input\n                              style={{marginBottom:'5px'}}\n                              id=\"perPage\"\n                              name=\"perPage\"\n                              type=\"select\"\n                              onChange={this.handleChangePerPage}\n                              value={this.state.size}\n                            >\n                              <option value=\"10\">10 / page</option>\n                              <option value=\"25\">25 / page</option>\n                              <option value=\"50\">50 / page</option>\n                              <option value=\"100\">100 / page</option>\n                            </Input>\n                          )}\n                        </Col>\n                        <Col md=\"8\" lg=\"8\">\n                          {this.state.pagination &&\n                            this.state.pagination.total > 0 && (\n                              <>\n                                <Pagination\n                                  innerClass=\"pagination\"\n                                  activePage={this.state.activePage}\n                                  itemsCountPerPage={this.state.pagination.limit}\n                                  totalItemsCount={this.state.pagination.total}\n                                  pageRangeDisplayed={3}\n                                  onChange={this.handlePageChange}\n                                />\n                                <p>Page <em>{this.state.activePage}</em> of <em>{Math.ceil(this.state.pagination.total/this.state.pagination.limit)}</em> of <em>{this.state.pagination.total}</em> tours.</p>\n                              </>\n                            )}\n                        </Col>\n                      </Row>\n                    </Col>\n                  </Row>\n                </CardFooter>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n        <LoadingOverlay\n          active={this.state.isProcessing}\n          spinner\n          text='Processing...'\n          >\n        </LoadingOverlay>\n      </>\n    );\n  }\n}\n\nconst numberWithCommas = x => {\n  return priceRound(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n};\n\nconst checkedItems = (item,tour) => {\n  if (item._id === tour._id) {\n    return item = tour;\n  }\n}\n\nconst priceRound = (price, dec) => {\n  if (dec === undefined) {\n    dec = 2;\n  }\n  if (price !== 0) {\n    if (!price || isNaN(price)) {\n      throw new Error(\"price is not a number\" + price);\n    }\n  }\n  const str = parseFloat(Math.round(price * 100) / 100).toFixed(dec);\n\n  return str;\n};\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    getProductsByPageId,\n    getProductsGroceryByPageId,\n    getProductsByProviderId,\n    getProviderPlaces,\n    getProductCategoriesAll,\n    getProductCategoriesAllV2,\n    updateProduct,\n    deleteProduct\n  }\n)(Tours);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { getSession } from \"../../config/session\";\nimport api from \"../../config/api\";\nimport { \n  getProductCategories,\n  getProductCategoriesV2,\n  getProductCategoriesAll,\n  getProductCategoriesAllV2,\n  deleteProductCategory\n} from \"../../layouts/Admin/actions/ProductCategoryActions\";\nimport { getPageById } from \"../../layouts/Admin/actions/PageActions\";\nimport { format } from 'date-fns'\nimport queryString from \"query-string\";\nimport { FontAwesomeIcon as Fa } from \"@fortawesome/react-fontawesome\";\nimport Pagination from \"react-js-pagination\";\nimport { PulseLoader } from 'react-spinners';\nimport NotificationAlert from \"react-notification-alert\";\nimport DatePicker from \"react-datepicker\";\nimport Switch from \"react-toggle-switch\";\n\nimport imageComming from \"assets/img/product-image-default.png\";\n\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardTitle,\n  CardFooter,\n  Label,\n  Modal,\n  ModalBody,\n  ModalFooter,\n  Table,\n  Row,\n  Col,\n  FormGroup,\n  Input,\n} from \"reactstrap\";\n\nclass TourDates extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tourDate: {\n        type: \"\",\n        status: \"\",\n        place: \"\",\n        placeName: \"\",\n        price: \"\",\n        promotionalText: \"\",\n        isActive: false,\n        dateStart: new Date(),\n        dateEnd: new Date()\n      },\n      tourDates: [],\n      tour: \"\",\n      tours: [],\n      tourDateId: \"\",\n      useCreatedProductCategory: false,\n      place: {},\n      defaultPage: \"\",\n      pagination: {},\n      activePage: 1,\n      selectedPage: \"\",\n      sortBy: \"\",\n      sort: \"\",\n      keyword: \"\",\n      size: 25,\n      message: \"\",\n      isLoading: true,\n      addTourDateModalOpen: false,\n      submittedTourDate: false,\n      addingTourDate: false,\n      editTourDateModalOpen: false,\n      submittedTourDateEdit: false,\n      edingTourDate: false,\n      today: new Date(),\n      dateStart: new Date(),\n      dateEnd: new Date()\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    let activePage = query.page ? Number(query.page) : 1;\n    let tour = query.tour ? query.tour : \"\";\n    let sortBy = query.sortBy ? query.sortBy : \"created\";\n    let sort = query.sort ? query.sort : \"desc\";\n    let message = query.message ? query.message : \"\";\n    let keyword = query.keyword;\n    let queryStr = \"?\" + queryString.stringify(query);\n    if (userData !== null) {\n      const sessionToken = userData.sessionToken;\n      this.setState({\n        tourDate: {\n          type: \"\",\n          status: \"\",\n          place: \"\",\n          placeName: \"\",\n          price: \"\",\n          promotionalText: \"\",\n          isActive: false,\n          dateStart: new Date(),\n          dateEnd: new Date()\n        },\n        tour,\n        activePage: activePage,\n        sort: sort,\n        sortBy: sortBy,\n        keyword: keyword,\n        message: message,\n      });\n      this.refreshTourDates(queryStr);\n      api(sessionToken).get('/provider/tours')\n        .then(response => {\n          if(response && response.data) {\n              const { tours } = response.data;\n              this.setState({\n                tours\n              });\n            this.setState({isLoading:false});\n          } else {\n            this.setState({isLoading:false});\n          }\n        })\n        .catch(error => {\n          this.setState({isLoading:false});\n        })\n    }\n  }\n\n  renderRows() {\n    if(this.state.isLoading) {\n      return (\n        <tr>\n          <td colSpan=\"8\">\n            <PulseLoader\n              sizeUnit={\"px\"}\n              size={15}\n              color={'#1d8cf8'}\n              loading={this.state.isLoading}\n            />\n          </td>\n        </tr>\n      );\n    } else {\n      if (\n        this.state.tourDates instanceof Array &&\n        this.state.tourDates.length > 0\n      ) {\n        return this.state.tourDates.map((item , index, tourDatesArr) => (\n          <tr key={item._id}>\n            <td>{format(new Date(item.dateStart),'MMM dd, yyyy')} - {format(new Date(item.dateEnd),'MMM dd, yyyy')}</td>\n            <td>&#8369;{numberWithCommas(item.price)}</td>\n            <td>{item.place && item.place.name}</td>\n            <td>\n              <Switch\n                onClick={() => {\n                  const nextStatus = !item.isActive;\n                  this.toggleSwitchIsActive(item);\n                  tourDatesArr[index].isActive = nextStatus;\n                  this.setState({\n                    tourDates: tourDatesArr\n                  });\n                }}\n                on={item.isActive}\n              />\n            </td>\n            <td width=\"75\" align=\"center\">\n              <Link to=\"#\" style={{paddingRight:\"10px\"}} onClick={this.editTourDate} data-id={item._id}>\n                <Fa icon=\"edit\" />\n              </Link>\n              <Link to=\"#\" className=\"text-danger\" onClick={this.handleDelete} data-item={item._id}>\n                <Fa icon=\"trash-alt\"/>\n              </Link>\n            </td>\n          </tr>\n        ));\n      } else {\n        return (\n          <tr>\n            <td colSpan=\"5\">\n              <strong className=\"text-danger\">\n                <em>No dates found</em>\n              </strong>\n            </td>\n          </tr>\n        );\n      }\n    }\n  }\n\n  renderImage(item) {\n    const {\n      name,\n      photos,\n    } = item;\n\n    let imgSrc = imageComming;\n    if(photos instanceof Array && photos.length > 0) {\n      imgSrc = photos[0].thumb;\n    }\n    return (\n      <img\n        className=\"thumb\"\n        src={imgSrc}\n        alt={name}\n        title={name}\n      />\n    );\n  }\n\n  renderPlaces() {\n    if (this.state.places !== undefined || this.state.places != null) {\n      return this.state.places.map((item, index) => (\n        <option key={index} value={item.place._id.toString()}>\n          {item.place.name}\n        </option>\n      ));\n    }\n  }\n\n  handleChangeKeyword = (e) => {\n    let { value } = e.target;\n    this.setState({keyword: value});\n  }\n\n  handleEnter = (e) => {\n    let { key } = e;\n    if (key === 'Enter') {\n      this.setState({ isLoading:true, activePage:1 });\n      let { keyword } = this.state;\n\n      let url = this.props.location.search;\n      let query = queryString.parse(url);\n      delete query.page;\n      delete query.message;\n      if (keyword !== \"\") {\n        query.keyword = keyword;\n      } else {\n        delete query.keyword;\n      }\n      let queryStr = \"?\" + queryString.stringify(query);\n      this.refreshTourDates(queryStr);\n    }\n  }\n\n  handleChangeTourDate = (e) => {\n    let { name, value } = e.target;\n    this.setState({\n      tourDate: {\n        ...this.state.tourDate,\n        [name]: value\n      }\n    });\n  }\n\n  handleChangeStartDate = (date) => {\n    this.setState({dateStart: date});\n    this.setState({\n      tourDate: {\n        ...this.state.tourDate,\n        dateStart: date\n      }\n    });\n  }\n\n  handleChangeEndDate = (date) => {\n    this.setState({dateEnd: date});\n    this.setState({\n      tourDate: {\n        ...this.state.tourDate,\n        dateEnd: date\n      }\n    });\n  }\n\n  handleDelete = (e) => {\n    if (!window.confirm(\"Do you want to delete this item?\")){\n      return false;\n    }\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    if(query.message) {\n      delete query.message;\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n    const tourDateId = e.currentTarget.dataset.item;\n    if(tourDateId) {\n      const userData = JSON.parse(getSession(\"userData\"));\n      if(userData) {\n        const sessionToken = userData.sessionToken;\n        api(sessionToken).delete(`/provider/tour-dates/${tourDateId}`)\n          .then(response => {\n            if (response && response.data) {\n              if(response.data && response.data.status === 'deleted') {\n                this.showNotification('Item has been deleted successfully!');\n                this.refreshTourDates(queryStr);\n              }\n            }\n          })\n          .catch(error => {\n            if (error) {\n              if(error.response && error.response.status && error.response.status === 403) {\n                setTimeout(() => { \n                  this.setState({isLoading:true});\n                  let url = this.props.location.search;\n                  let query = queryString.parse(url);\n                  delete query.message;\n                  delete query.page;\n                  let queryStr = \"?\" + queryString.stringify(query);\n                  this.setState({ activePage: 1 });\n                  this.refreshTourDates(queryStr);\n                }, 1000);\n                this.showNotificationError('You are not allowed to delete this tour date.');\n              } else {\n                this.showNotificationError(error.response);\n              }\n            }\n          });\n      } else {\n        this.props.history.push(\"/login\");\n        window.location.reload();\n      }\n    }\n  }\n\n  handleChangeTour = (e) => {\n    this.setState({ isLoading: true });\n    let { value } = e.target;\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    if(query.message) {\n      delete query.message;\n    }\n\n    if (value !== \"\") {\n      query.tour = value;\n    } else {\n      delete query.tour;\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({ tour: value, activePage: 1 });\n    this.refreshTourDates(queryStr);\n  }\n\n  handlePageChange = (pageNumber) => {\n    this.setState({ isLoading: true });\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.page = pageNumber;\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ activePage: pageNumber });\n    this.refreshTourDates(queryStr);\n  }\n\n  handleChangePerPage = (e) => {\n    this.setState({isLoading:true});\n    let { value } = e.target;\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    if (value !== \"\") {\n      query.size = value;\n    } else {\n      delete query.size;\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({ size: value });\n    this.refreshTourDates(queryStr);\n  }\n\n  sortPrice = () => {\n    let sort = \"\";\n    if (this.state.sortBy === \"price\") {\n      if (this.state.sort !== \"desc\") {\n        sort = \"desc\";\n      } else {\n        sort = \"asc\";\n      }\n    } else {\n      sort = \"desc\";\n    }\n\n    let sortBy = \"price\";\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.sort = sort;\n    query.sortBy = sortBy\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    this.refreshTourDates(queryStr);\n  }\n\n  toggleSwitchIsActive(tourDate) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const { _id: tourDateId } = tourDate;\n    let tourDateNew = {\n      isActive: !tourDate.isActive\n    }\n    api(sessionToken).patch(`/provider/tour-dates/${tourDateId}/update-status`, tourDateNew)\n      .then(response => {\n        if (response && response.data) {\n          this.showNotification('Tour Date updated.');\n        }\n      })\n      .catch(error => {\n        this.setState({ submitted: false, isSaving: false });\n        if(error.response && typeof error.response === 'string' ) {\n          this.showNotificationError(error.response);\n        } else {\n          this.showNotificationError('There is a error updating the Tour Date!');\n        }\n      });\n  }\n\n  showNotification(message) {\n    if(message && typeof message === 'string') {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 2\n      }\n      if(notification && this.refs.notify && this.refs.notify.notificationAlert) {\n        this.refs.notify.notificationAlert(notification);\n      }\n    }\n  }\n\n  showNotificationError(message) {\n    if(message && typeof message === 'string') {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 2\n      }\n      if(notification && this.refs.notify && this.refs.notify.notificationAlert) {\n        this.refs.notify.notificationAlert(notification);\n      }\n    }\n  }\n\n  refreshTourDates(queryStr) {\n    const query = queryString.parse(queryStr);\n    const message = query.message\n    if(message) {\n      delete query.message;\n      this.showNotification(message);\n    }\n    \n    this.props.history.push(\"/tour-dates\" + queryStr);\n    const userData = JSON.parse(getSession(\"userData\"));\n    const { sessionToken } = userData;\n\n    if (userData !== null) {\n      if(userData && userData.isSBTours) {\n        api(sessionToken).get('/provider/tour-dates', { params: query })\n          .then(response => {\n            if(response && response.data) {\n              const { tourDates, pagination } = response.data;\n              this.setState({\n                tourDates,\n                pagination\n              });\n              this.setState({isLoading:false});\n            } else {\n              this.setState({isLoading:false});\n            }\n          })\n          .catch(error => {\n            console.error({error});\n            this.setState({isLoading:false});\n          })\n      }\n    }\n  } \n\n  renderTours() {\n    if (this.state.tours !== undefined || this.state.tours !== null) {\n      const tours = this.state.tours;\n      return tours.map((item, index) => (\n        <option key={index} value={item._id}>\n          {item.name}\n        </option>\n      ));\n    }\n  }\n\n  renderAddTourDateModal() {\n    return (\n      <Modal className=\"modal-lg\" isOpen={this.state.addTourDateModalOpen} toggle={this.addTourDateModalOpen} backdrop=\"static\">\n        <div className=\"modal-header\">\n          <Col sm=\"12\"><h4 className=\"modal-title\">Add Tour Date</h4></Col>\n          <button type=\"button\" className=\"close\" onClick={this.toggleAddTourDateModal} aria-label=\"Close\" style={{color:\"rgba(0, 0, 0, 0.6)\"}}><span aria-hidden=\"true\">×</span></button>\n        </div>\n        <ModalBody>\n          <form action=\"\">\n            <Col sm=\"12\">\n              <Row>\n                <Col sm=\"6\">\n                  <FormGroup className={ this.state.submitted && !this.state.tourDate.dateStart ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"dateStart\" className=\"control-label\" style={{display:'block'}}>Start Date:</label>\n                    <DatePicker\n                      id=\"add-dateStart\"\n                      name=\"startDate\"\n                      className=\"form-control\"\n                      autoComplete=\"off\"\n                      selectsStart\n                      startDate={this.state.dateStart}\n                      endDate={this.state.dateEnd}\n                      minDate={this.state.today}\n                      selected={this.state.dateStart}\n                      onChange={this.handleChangeStartDate}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"6\">\n                  <FormGroup className={ this.state.submitted && !this.state.tourDate.dateEnd ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"add-dateEnd\" className=\"control-label\" style={{display:'block'}}>End Date:</label>\n                    <DatePicker\n                      id=\"add-dateEnd\"\n                      name=\"startDate\"\n                      className=\"form-control\"\n                      autoComplete=\"off\"\n                      selectsStart\n                      startDate={this.state.dateStart}\n                      endDate={this.state.dateEnd}\n                      minDate={this.state.dateStart}\n                      selected={this.state.dateEnd}\n                      onChange={this.handleChangeEndDate}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedTourDate && !this.state.tourDate.price ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"add-price\" className=\"control-label\">Price <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"add-price\"\n                      name=\"price\"\n                      placeholder=\"&#8369;\"\n                      type=\"text\"\n                      defaultValue={this.state.tourDate.price}\n                      onChange={this.handleChangeTourDate}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedTourDate && !this.state.tourDate.place ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"add-tour\" className=\"control-label\">Tour <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"add-tour\"\n                      name=\"place\"\n                      placeholder=\"Select tour\"\n                      type=\"select\"\n                      onChange={this.handleChangeTourDate}\n                      value={this.state.tourDate.place}\n                    >\n                      <option value=\"\">-Select-</option>\n                      {this.renderTours()}\n                    </Input>\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"tour-date-type\" className=\"control-label\">Type</label>\n                    <Input\n                      id=\"add-type\"\n                      name=\"type\"\n                      type=\"select\"\n                      onChange={this.handleChangeTourDate}\n                      value={this.state.tourDate.type}\n                    >\n                      <option value=\"solo\">Solo</option>\n                      <option value=\"joiner\">Joiner</option>\n                      <option value=\"couple\">Couple</option>\n                    </Input>\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\" md=\"6\" lg=\"6\">\n                  <FormGroup>\n                    <Label>\n                      <Switch\n                        onClick={() => {\n                          this.setState({\n                            tourDate: {\n                              ...this.state.tourDate,\n                              isActive: !this.state.tourDate.isActive\n                            }\n                          });\n                        }}\n                        on={this.state.tourDate.isActive}\n                      />\n                      Is Active\n                    </Label>\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"add-promotionalText\" className=\"control-label\">Promotional Text</label>\n                    <Input\n                      id=\"add-promotionalText\"\n                      name=\"promotionalText\"\n                      placeholder=\"Promotional Text\"\n                      type=\"textarea\"\n                      defaultValue={this.state.tourDate.promotionalText}\n                      onChange={this.handleChangeTourDate}\n                    />\n                  </FormGroup>\n                </Col>\n              </Row>\n            </Col>\n          </form>\n        </ModalBody>\n        <ModalFooter>\n          <Col sm=\"12\">\n            <Button color=\"info\" onClick={this.handleAddTourDate}>Add</Button>{' '}\n              {this.state.addingTourDate && (\n                <img\n                  alt=\"loading\"\n                  src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n                />\n              )}\n            <Button color=\"secondary\" onClick={this.toggleAddTourDateModal}>Cancel</Button>\n          </Col>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n\n  toggleAddTourDateModal = () => {\n    this.setState(prevState => ({\n      addTourDateModalOpen: !prevState.addTourDateModalOpen,\n      tourDate: {\n        type: \"\",\n        status: \"\",\n        place: \"\",\n        placeName: \"\",\n        price: \"\",\n        promotionalText: \"\",\n        isActive: false,\n        dateStart: new Date(),\n        dateEnd: new Date()\n      },\n      dateStart: new Date(),\n      dateEnd: new Date()\n    }));\n  }\n\n  handleAddTourDate = (e) => {\n    e.preventDefault();\n    this.setState({ addingTourDate: true, submittedTourDate: true });\n    let { tourDate } = this.state;\n    delete tourDate.placeName;\n    if(tourDate && tourDate.dateStart && tourDate.dateEnd && tourDate.price && tourDate.place) {\n      const userData = JSON.parse(getSession(\"userData\"));\n      const sessionToken = userData.sessionToken;\n      if (!window.confirm(\"Do you want to save this item?\")){\n        return false;\n      }\n      this.setState({ submitted: true, isSaving: true });\n      api(sessionToken).post(`/provider/tour-dates`, tourDate)\n        .then(response => {\n          if (response && response.data) {\n            let url = this.props.location.search;\n            let query = queryString.parse(url);\n            let activePage = query.page ? Number(query.page) : 1;\n            let tour = query.tour ? query.tour : \"\";\n            let sortBy = query.sortBy ? query.sortBy : \"created\";\n            let sort = query.sort ? query.sort : \"desc\";\n            let keyword = query.keyword;\n            let queryStr = \"?\" + queryString.stringify(query);\n\n            if(query.message) {\n              delete query.message;\n            }\n          \n            this.setState({\n              activePage: activePage,\n              tour: tour,\n              sort: sort,\n              sortBy: sortBy,\n              keyword: keyword,\n            });\n\n            this.refreshTourDates(queryStr);\n            this.setState({ addingTourDate: false, submittedAddon: false });\n            this.toggleAddTourDateModal();\n            this.showNotification('Tour date has been added!');\n          }\n        })\n        .catch(error => {\n          this.setState({ addingTourDate: false, submittedAddon: false });\n          if(error.response && typeof error.response === 'string' ) {\n            this.showNotificationError(error.response);\n          } else {\n            this.showNotificationError('There is a error saving the tour date!');\n          }\n        });\n    } else {\n      this.setState({ addingTourDate: false });\n      this.showNotificationError('Some fields are required!');\n    }\n  }\n\n  handleEditTourDate = (e) => {\n    e.preventDefault();\n    let { tourDateId, tourDate } = this.state;\n    delete tourDate.placeName;\n    if(tourDate && tourDate.dateStart && tourDate.dateEnd && tourDate.price && tourDate.place) {\n      const userData = JSON.parse(getSession(\"userData\"));\n      const sessionToken = userData.sessionToken;\n      if (!window.confirm(\"Do you want to save the changes to this item?\")) {\n        return false;\n      } else {\n        this.setState({ editingTourDate: true, submittedTourDateEdit: true });\n      }\n      api(sessionToken).patch(`/provider/tour-dates/${tourDateId}`, tourDate)\n        .then(response => {\n          if (response && response.data) {\n            let url = this.props.location.search;\n            let query = queryString.parse(url);\n            let activePage = query.page ? Number(query.page) : 1;\n            let tour = query.tour ? query.tour : \"\";\n            let sortBy = query.sortBy ? query.sortBy : \"created\";\n            let sort = query.sort ? query.sort : \"desc\";\n            let keyword = query.keyword;\n            let queryStr = \"?\" + queryString.stringify(query);\n\n            if(query.message) {\n              delete query.message;\n            }\n            this.setState(prevState => ({\n              editTourDateModalOpen: !prevState.editTourDateModalOpen,\n              submittedTourDateEdit: false,\n              editingTourDate: false, \n              activePage: activePage,\n              tour: tour,\n              sort: sort,\n              sortBy: sortBy,\n              keyword: keyword,\n            }));\n            this.refreshTourDates(queryStr);\n            this.showNotification('Tour date has been added!');\n          }\n        })\n        .catch(error => {\n          this.setState({ editingTourDate: false, submittedTourDateEdit: false });\n          if(error.response && typeof error.response === 'string' ) {\n            this.showNotificationError(error.response);\n          } else {\n            this.showNotificationError('There is a error saving the tour date!');\n          }\n        });\n    } else {\n      this.setState({ editingTourDate: false });\n      this.showNotificationError('Some fields are required!');\n    }\n  }\n\n  editTourDate = (e) => {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const tourDateId = e.currentTarget.dataset.id;\n    if (userData !== null) {\n      const sessionToken = userData.sessionToken;\n      api(sessionToken).get(`/provider/tour-dates/${tourDateId}`)\n        .then(response => {\n          if(response && response.data) {\n            const { tourDate } = response.data;\n            if(tourDate) {\n              this.setState(prevState => ({ \n                submittedHighlightEdit: false,\n                editTourDateModalOpen: !prevState.editTourDateModalOpen,\n                tourDateId: tourDate._id,\n                tourDate: {\n                  type: tourDate.type ? tourDate.type : \"\",\n                  status: tourDate.status ? tourDate.status : \"\",\n                  place: tourDate.place._id ? tourDate.place._id : \"\",\n                  placeName: tourDate.place.name ? tourDate.place.name : \"\",\n                  price: tourDate.price ? tourDate.price : \"\",\n                  promotionalText: tourDate.promotionalText ? tourDate.promotionalText : \"\",\n                  isActive: tourDate.isActive ? tourDate.isActive : false,\n                  dateStart: tourDate.dateStart ? new Date(tourDate.dateStart) : new Date(),\n                  dateEnd: tourDate.dateEnd ? new Date(tourDate.dateEnd) : new Date()\n                },\n                dateStart: new Date(),\n                dateEnd: new Date()\n              }));\n            }\n          }\n        })\n        .catch(error => {\n          console.error({error});\n        })\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n    \n  }\n\n  renderEditTourDateModal() {\n    return (\n      <Modal className=\"modal-lg\" isOpen={this.state.editTourDateModalOpen} toggle={this.editTourDateModalOpen} backdrop=\"static\">\n        <div className=\"modal-header\">\n          <Col sm=\"12\">\n            <h4 className=\"modal-title\">Edit Tour Date - <em className=\"text-info\">{this.state.tourDate.placeName} - {format(new Date(this.state.tourDate.dateStart),'MMM dd, yyyy')} to {format(new Date(this.state.tourDate.dateEnd),'MMM dd, yyyy')}</em></h4>\n          </Col>\n          <button type=\"button\" className=\"close\" onClick={this.toggleEditTourDateModal} aria-label=\"Close\" style={{color:\"rgba(0, 0, 0, 0.6)\"}}><span aria-hidden=\"true\">×</span></button>\n        </div>\n        <ModalBody>\n          <form action=\"\">\n            <Col sm=\"12\">\n              <Row>\n                <Col sm=\"6\">\n                  <FormGroup className={ this.state.submitted && !this.state.tourDate.dateStart ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"dateStart\" className=\"control-label\" style={{display:'block'}}>Start Date:</label>\n                    <DatePicker\n                      id=\"add-dateStart\"\n                      name=\"startDate\"\n                      className=\"form-control\"\n                      autoComplete=\"off\"\n                      selectsStart\n                      startDate={this.state.tourDate.dateStart}\n                      endDate={this.state.dateEnd}\n                      minDate={this.state.today}\n                      selected={this.state.tourDate.dateStart}\n                      onChange={this.handleChangeStartDate}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"6\">\n                  <FormGroup className={ this.state.submitted && !this.state.tourDate.dateEnd ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"add-dateEnd\" className=\"control-label\" style={{display:'block'}}>End Date:</label>\n                    <DatePicker\n                      id=\"add-dateEnd\"\n                      name=\"startDate\"\n                      className=\"form-control\"\n                      autoComplete=\"off\"\n                      selectsStart\n                      startDate={this.state.tourDate.dateStart}\n                      endDate={this.state.dateEnd}\n                      minDate={this.state.dateStart}\n                      selected={this.state.tourDate.dateEnd}\n                      onChange={this.handleChangeEndDate}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedTourDate && !this.state.tourDate.price ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"add-price\" className=\"control-label\">Price <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"add-price\"\n                      name=\"price\"\n                      placeholder=\"&#8369;\"\n                      type=\"text\"\n                      defaultValue={this.state.tourDate.price}\n                      onChange={this.handleChangeTourDate}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedTourDate && !this.state.tourDate.place ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"add-tour\" className=\"control-label\">Tour <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"add-tour\"\n                      name=\"place\"\n                      placeholder=\"Select tour\"\n                      type=\"select\"\n                      onChange={this.handleChangeTourDate}\n                      value={this.state.tourDate.place}\n                    >\n                      <option value=\"\">-Select-</option>\n                      {this.renderTours()}\n                    </Input>\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"tour-date-type\" className=\"control-label\">Type</label>\n                    <Input\n                      id=\"add-type\"\n                      name=\"type\"\n                      type=\"select\"\n                      onChange={this.handleChangeTourDate}\n                      value={this.state.tourDate.type}\n                    >\n                      <option value=\"solo\">Solo</option>\n                      <option value=\"joiner\">Joiner</option>\n                      <option value=\"couple\">Couple</option>\n                    </Input>\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\" md=\"6\" lg=\"6\">\n                  <FormGroup>\n                    <Label>\n                      <Switch\n                        onClick={() => {\n                          this.setState({\n                            tourDate: {\n                              ...this.state.tourDate,\n                              isActive: !this.state.tourDate.isActive\n                            }\n                          });\n                        }}\n                        on={this.state.tourDate.isActive}\n                      />\n                      Is Active\n                    </Label>\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"add-promotionalText\" className=\"control-label\">Promotional Text</label>\n                    <Input\n                      id=\"add-promotionalText\"\n                      name=\"promotionalText\"\n                      placeholder=\"Promotional Text\"\n                      type=\"textarea\"\n                      defaultValue={this.state.tourDate.promotionalText}\n                      onChange={this.handleChangeTourDate}\n                    />\n                  </FormGroup>\n                </Col>\n              </Row>\n            </Col>\n          </form>\n        </ModalBody>\n        <ModalFooter>\n          <Col sm=\"12\">\n            <Button color=\"info\" onClick={this.handleEditTourDate}>Save</Button>{' '}\n              {this.state.editingTourDate && (\n                <img\n                  alt=\"loading\"\n                  src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n                />\n              )}\n            <Button color=\"secondary\" onClick={this.toggleEditTourDateModal}>Cancel</Button>\n          </Col>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n\n  toggleEditTourDateModal = () => {\n    if(this.state.editTourDateModalOpen === true) {\n      if (!window.confirm(\"Do you want to discard these changes?\")){\n        return false;\n      }\n    }\n    this.setState(prevState => ({\n      submittedTourDateEdit: false,\n      editTourDateModalOpen: !prevState.editTourDateModalOpen,\n      tourDate: {\n        type: \"\",\n        status: \"\",\n        place: \"\",\n        placeName: \"\",\n        price: \"\",\n        promotionalText: \"\",\n        isActive: false,\n        dateStart: new Date(),\n        dateEnd: new Date()\n      },\n      dateStart: new Date(),\n      dateEnd: new Date()\n    }));\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"content\">\n          <div className=\"react-notification-alert-container\">\n            <NotificationAlert ref=\"notify\" />\n          </div>\n          <Row>\n            <Col md=\"12\">\n              <Card>\n                <CardHeader>\n                  <CardTitle tag=\"h4\">\n                    <strong>Tour Dates</strong>\n                  </CardTitle>\n                  <Row>\n                    <Col md=\"4\" sm=\"6\">\n                      <FormGroup>\n                        <label htmlFor=\"tour\" className=\"control-label\">\n                          Tour:\n                        </label>\n                        <Input\n                          id=\"tour\"\n                          name=\"tour\"\n                          placeholder=\"Select tour\"\n                          type=\"select\"\n                          onChange={this.handleChangeTour}\n                          value={this.state.tour}\n                        >\n                          <option value=\"\">All</option>\n                          {this.renderTours()}\n                        </Input>\n                      </FormGroup>\n                    </Col>\n                    <Col md=\"4\" sm=\"6\" className=\"pull-right offset-md-4 offset-sm-3\">\n                      <Button type=\"button\" onClick={this.toggleAddTourDateModal} className=\"pull-right btn btn-round btn-info btn-sm\">\n                        <Fa icon=\"plus\" />&nbsp;Add New\n                      </Button>\n                    </Col>\n                  </Row>\n                </CardHeader>\n                <CardBody>\n                  <Table className=\"tablesorter table-striped responsive\" responsive>\n                    <thead className=\"text-primary\">\n                      <tr>\n                        <th>Date</th>\n                        <th onClick={this.sortPrice}>\n                          Price{\" \"}\n                          {this.state.sortBy === \"price\" &&\n                            this.state.sort === \"desc\" && (\n                              <Fa icon=\"arrow-down\" className=\"text-info\" />\n                            )}{\" \"}\n                          {this.state.sortBy === \"price\" &&\n                            this.state.sort === \"asc\" && (\n                              <Fa icon=\"arrow-up\" className=\"text-info\" />\n                            )}{\" \"}\n                          {this.state.sortBy !== \"price\" && (\n                              <Fa icon=\"arrow-down\" className=\"text-disabled\" />\n                            )}{\" \"}\n                        </th>\n                        <th>Place</th>\n                        <th>Active</th>\n                        <th>&nbsp;</th>\n                      </tr>\n                    </thead>\n                    <tbody>{this.renderRows()}</tbody>\n                  </Table>\n                </CardBody>\n                <CardFooter>\n                  <Row>\n                    <Col md=\"12\">\n                      <Row className=\"pull-right\">\n                        <Col md=\"4\" lg=\"4\">\n                          <FormGroup>\n                            {this.state.pagination && this.state.pagination.total > 0 &&\n                              <Input\n                                style={{marginBottom:'5px'}}\n                                id=\"perPage\"\n                                name=\"perPage\"\n                                type=\"select\"\n                                onChange={this.handleChangePerPage}\n                                value={this.state.size}\n                              >\n                                <option value=\"10\">10 / page</option>\n                                <option value=\"25\">25 / page</option>\n                                <option value=\"50\">50 / page</option>\n                                <option value=\"100\">100 / page</option>\n                              </Input>\n                            }\n                          </FormGroup>\n                        </Col>\n                        <Col md=\"8\" lg=\"8\">\n                          {this.state.pagination && this.state.pagination.total > 0 &&\n                            <>\n                              <Pagination\n                                innerClass=\"pagination\"\n                                activePage={this.state.activePage}\n                                itemsCountPerPage={this.state.pagination.limit}\n                                totalItemsCount={this.state.pagination.total}\n                                pageRangeDisplayed={3}\n                                onChange={this.handlePageChange}\n                              />\n                              <p><strong>Page <em>{this.state.activePage}</em> of <em>{Math.ceil(this.state.pagination.total/this.state.pagination.limit)}</em> of <em>{this.state.pagination.total}</em> items.</strong></p>\n                            </>\n                          }\n                        </Col>\n                      </Row>\n                    </Col>\n                  </Row>\n                </CardFooter>\n              </Card>\n            </Col>\n          </Row>\n          <div className=\"portal\">\n            {this.renderAddTourDateModal()}\n            {this.renderEditTourDateModal()}\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nconst numberWithCommas = x => {\n  return priceRound(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n};\n\nconst priceRound = (price, dec) => {\n  if (dec === undefined) {\n    dec = 2;\n  }\n  if (price !== 0) {\n    if (!price || isNaN(price)) {\n      throw new Error(\"price is not a number\" + price);\n    }\n  }\n  const str = parseFloat(Math.round(price * 100) / 100).toFixed(dec);\n\n  return str;\n};\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    getProductCategories, \n    getProductCategoriesV2, \n    getProductCategoriesAll, \n    getProductCategoriesAllV2, \n    deleteProductCategory,\n    getPageById,\n  }\n)(TourDates);","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getSession } from \"../../config/session\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon as Fa } from '@fortawesome/react-fontawesome';\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\nimport Select from 'react-select';\nimport DatePicker from \"react-datepicker\";\n\nimport { addTour } from \"../../layouts/Admin/actions/PageActions\";\n\nimport { Button, Card, CardHeader, CardBody, CardFooter, FormGroup, Form, Input, \n  Row, Col, Label, ListGroup, ListGroupItem, Modal, ModalBody, ModalFooter\n} from \"reactstrap\";\n\nconst options = [\n  { value: 'times', label: <strong><Fa icon=\"times\" /> fa-times</strong> },\n  { value: 'trash', label: <strong><Fa icon=\"trash\" /> fa-trash</strong> },\n  { value: 'file', label: <strong><Fa icon=\"file\" /> fa-file</strong> },\n  { value: 'file-alt', label: <strong><Fa icon=\"file-alt\" /> fa-file-alt</strong> },\n  { value: 'map', label: <strong><Fa icon=\"map\" /> fa-map</strong> },\n  { value: 'cube', label: <strong><Fa icon=\"cube\" /> fa-cube</strong> },\n  { value: 'question-circle', label: <strong><Fa icon=\"question-circle\" /> fa-question-circle</strong> },\n  { value: 'times-circle', label: <strong><Fa icon=\"times-circle\" /> fa-times-circle</strong> },\n  { value: 'exclamation-triangle', label: <strong><Fa icon=\"exclamation-triangle\" /> fa-exclamation-triangle</strong> },\n]\n\nclass AddTour extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tour: {\n        name: \"\",\n        pageType: \"5dea2304f6bba08323a3ddce\",\n        about: \"\",\n        numberOfPax: \"\",\n        numberOfGroups: \"\",\n        minNumber: \"\",\n        maxNumber: \"\",\n        isSuperGuide: true,\n        highlights: [],\n        sections: [],\n        addons: [],\n      },\n      highlight: {\n        name: \"\",\n        order: 1,\n        day: 1,\n        image: \"\",\n        description: \"\",\n        dateTime: new Date(),\n      },\n      section: {\n        name: \"\",\n        order: 1,\n        route: \"\",\n        iconName: \"\",\n        iconType: \"FontAwesome\",\n        title: \"\",\n        text: \"\",\n      },\n      addon: {\n        name: \"\",\n        image: \"\",\n        price: \"0\",\n        description: \"\",\n      },\n      pageType: 'sb-tours',\n      isLoading: false,\n      submitted: false,\n      submittedHighlight: false,\n      submittedSection: false,\n      submittedAddon: false,\n      isSaving: false,\n      addingHighlight: false,\n      addHighlightModalOpen: false,\n      addingSection: false,\n      addSectionModalOpen: false,\n      addAddonModalOpen: false,\n      addingAddon: false,\n      messageOpen: false,\n      dateStart: new Date(),\n      dateNow: new Date(),\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    if (userData === null) {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n  }\n\n  handleChangeDesc = (data) => {\n    this.setState({\n      tour: {\n        ...this.state.tour,\n        about: data\n      }\n    });\n  }\n\n  handleChange = (e) => {\n    let { name, value, type } = e.target;\n    if (type === \"checkbox\") {\n      const checked = e.target.checked;\n      value = checked;\n    }\n    this.setState({\n      tour: {\n        ...this.state.tour,\n        [name]: value\n      }\n    });\n  }\n\n  handleChangeHighlight = (e) => {\n    let { name, value } = e.target;\n    this.setState({\n      highlight: {\n        ...this.state.highlight,\n        [name]: value\n      }\n    });\n  }\n\n  handleChangeDateTime = (date) => {\n    this.setState({dateStart: date});\n    this.setState({\n      highlight: {\n        ...this.state.highlight,\n        dateTime: date\n      }\n    });\n  }\n\n  handleChangeSection = (e) => {\n    let { name, value } = e.target;\n    this.setState({\n      section: {\n        ...this.state.section,\n        [name]: value\n      }\n    });\n  }\n\n  handleChangeSectionIcon = (e) => {\n    let value = e.value;\n    this.setState({\n      section: {\n        ...this.state.section,\n        iconName: value\n      }\n    });\n  }\n\n  handleChangeAddon = (e) => {\n    let { name, value } = e.target;\n    this.setState({\n      addon: {\n        ...this.state.addon,\n        [name]: value\n      }\n    });\n  }\n\n  handleAddHighlight = (e) => {\n    e.preventDefault();\n    let highlightsLength = 1;\n    let { highlights } = this.state.tour;\n    if(highlights instanceof Array && highlights.length > 0) {\n      highlightsLength = highlights.length + 1;\n    }\n    this.setState({ submittedHighlight: true, addingHighlight: true });\n    const { highlight } = this.state;\n    let isAdded = false;\n    if(highlight && highlight.name && highlight.order && highlight.day) {\n      if(highlights && highlights.length > 0) {\n        const added = highlights.find(item => item.name === highlight.name);\n        if(typeof added === 'object' && added.name !==\"\") {\n          isAdded = true;\n        }\n      }\n      if(!isAdded) {\n        highlights = [...highlights,highlight];\n        this.setState({\n          submittedHighlight: false,\n          addingHighlight: false,\n          tour: {\n            ...this.state.tour,\n            highlights: highlights\n          },\n          highlight: {\n            name: \"\",\n            order: highlightsLength + 1,\n            day: 1,\n            image: \"\",\n            description: \"\",\n            dateTime: new Date(),\n          }\n        });\n        this.setState(prevState => ({ addHighlightModalOpen: !prevState.addHighlightModalOpen }));\n        this.showNotification('Tour highlight has been added!');\n      } else {\n        this.setState({ submittedHighlight: false, addingHighlight: false });\n        this.showNotificationError('Tour highlight is already on the list!');\n      }\n    } else {\n      this.setState({ addingHighlight: false });\n      this.showNotificationError('Some fields are required!');\n    }\n  }\n\n  handleAddSection = (e) => {\n    e.preventDefault();\n    let sectionsLength = 1;\n    let { sections } = this.state.tour;\n    if(sections instanceof Array && sections.length > 0) {\n      sectionsLength = sections.length + 1;\n    }\n    this.setState({ submittedSection: true, addingSection: true });\n    const { section } = this.state;\n    let data = [];\n    let sectionData = {\n      title: section.title,\n      text: section.text,\n    }\n    data = [...data,sectionData];\n    section.data = data;\n    let isAdded = false;\n    if(section && section.name && section.order && section.iconName && section.route) {\n      if(sections && sections.length > 0) {\n        const added = sections.find(item => item.name === section.name);\n        if(typeof added === 'object' && added.name !==\"\") {\n          isAdded = true;\n        }\n      }\n      if(!isAdded) {\n        delete section.title;\n        delete section.text;\n        sections = [...sections,section];\n        this.setState({ \n          submittedSection: false,\n          addingSection: false,\n          tour: {\n            ...this.state.tour,\n            sections: sections\n          },\n          section: {\n            name: \"\",\n            order: sectionsLength + 1,\n            route: \"\",\n            iconName: \"\",\n            iconType: \"FontAwesome\",\n            title: \"\",\n            text: \"\",\n          }\n        });\n        this.toggleAddSectionModal();\n        this.showNotification('Tour section has been added!');\n      } else {\n        this.setState({ submittedSection: false, addingSection: false });\n        this.showNotificationError('Tour section is already on the list!');\n      }\n    } else {\n      this.setState({ addingSection: false });\n      this.showNotificationError('Some fields are required!');\n    }\n  }\n\n  handleAddAddon = (e) => {\n    e.preventDefault();\n    let { addons } = this.state.tour;\n    this.setState({ submittedAddon: true, addingAddon: true });\n    const { addon } = this.state;\n    let isAdded = false;\n    if(addon && addon.title && addon.price) {\n      if(addons && addons.length > 0) {\n        const added = addons.find(item => item.title === addon.title);\n        if(typeof added === 'object' && added.title !==\"\") {\n          isAdded = true;\n        }\n      }\n      if(!isAdded) {\n        addons = [...addons,addon];\n        this.setState({ \n          addingAddon: false,\n          tour: {\n            ...this.state.tour,\n            addons: addons\n          },\n          addon: {\n            title: \"\",\n            image: \"\",\n            price: \"0\",\n            description: \"\",\n          }\n        });\n        this.toggleAddAddonModal();\n        this.showNotification('Tour addon has been added!');\n      } else {\n        this.setState({ submittedAddon: false, addingAddon: false });\n        this.showNotificationError('Tour addon is already on the list!');\n      }\n    } else {\n      this.setState({ addingAddon: false });\n      this.showNotificationError('Some fields are required!');\n    }\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        iconName: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        iconName: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const userData = JSON.parse(getSession(\"userData\"));\n\n    if(userData) {\n      const sessionToken = userData.sessionToken;\n      const tour = {...this.state.tour};\n      if ( tour.name && !isNaN(tour.price) && !isNaN(tour.numberOfPax) ) {\n        if (!window.confirm(\"Do you want to save this tour?\")) {\n          return false;\n        }\n        this.setState({ submitted: true, isSaving: true });\n        this.props.addTour(tour, sessionToken, (error, result) => {\n          if (result) {\n            setTimeout(() => {\n              this.setState({ submitted: false, isSaving: false });\n              if (result && result.place) {\n                const { _id:tourId } = result.place;\n                this.props.history.push(`/tours/${tourId}/edit?message=A tour has been added!`);\n              }\n            }, 1000);\n          } else {\n            if (error) {\n              setTimeout(() => { this.setState({ submitted: false, isSaving: false }); }, 1000);\n              if(error.response && typeof error.response === 'string' ) {\n                this.showNotificationError(error.response);\n              } else {\n                this.showNotificationError('There is a error saving the tour!');\n              }\n            } else {\n              setTimeout(() => { this.setState({ submitted: false, isSaving: false }); }, 1000);\n              this.showNotificationError('An unknown error occured. Please try again.');\n            }\n          }\n        });\n      } else {\n        this.setState({ submitted: true });\n        this.showNotificationError('Some fields are required. Please fill in the required fields.');\n      }\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n  }\n\n  onKeyPress = e => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n    }\n  };\n\n  renderProductTypes() {\n    if (\n      this.state.tourTypes !== undefined ||\n      this.state.tourTypes !== null\n    ) {\n      const activeProductTypes = this.state.tourTypes.filter(\n        item => item.isActive\n      );\n      return activeProductTypes.map((item, index) => (\n        <option key={index} value={item._id}>\n          {item.name}\n        </option>\n      ));\n    }\n  }\n\n  renderPlaces() {\n    if (this.state.places !== undefined || this.state.places !== null) {\n      return this.state.places.map((item, index) => (\n        <option key={index} value={item.place._id}>\n          {item.place.name}\n        </option>\n      ));\n    }\n  }\n\n  renderTourHighlights() {\n    if(this.state.tour && this.state.tour.highlights && this.state.tour.highlights.length > 0) {\n      return(\n        <ListGroup>\n          {this.state.tour.highlights.map((item, index) => {\n            return(\n              <ListGroupItem key={index}>\n                <span>\n                  <Label className=\"header-label text-info-v2\">{item.name}</Label>\n                  <span onClick={this.removeHighlight} className=\"pointer text-muted pull-right-v2\" data-id={index}><Fa icon=\"times\" /></span>\n                  <br />\n                  {item.description}\n                </span>\n              </ListGroupItem>\n            );\n          })}\n        </ListGroup>\n      );\n    } else {\n      return(\n        <em className=\"text-danger\">Please add a highlight.</em>\n      );\n    }\n  }\n\n  renderTourSections() {\n    if(this.state.tour && this.state.tour.sections && this.state.tour.sections.length > 0) {\n      return(\n        <ListGroup>\n          {this.state.tour.sections.map((item, index) => {\n            return(\n              <ListGroupItem key={index}>\n                <span>\n                  <Label className=\"header-label text-info-v2\"><Fa icon={item.iconName} /> {item.name}</Label>\n                  <span onClick={this.removeSection} className=\"pointer text-muted pull-right-v2\" data-id={index}><Fa icon=\"times\" /></span>\n                  <br />\n                  {item.description}\n                </span>\n              </ListGroupItem>\n            );\n          })}\n        </ListGroup>\n      );\n    } else {\n      return(\n        <em className=\"text-danger\">Please add a section.</em>\n      );\n    }\n  }\n\n  renderTourAddons() {\n    if(this.state.tour && this.state.tour.addons && this.state.tour.addons.length > 0) {\n      return(\n        <ListGroup>\n          {this.state.tour.addons.map((item, index) => {\n            return(\n              <ListGroupItem key={index}>\n                <span>\n                  <Label className=\"header-label text-info-v2\"><Fa icon={item.iconName} /> {item.title}</Label>\n                  <span onClick={this.removeAddon} className=\"pointer text-muted pull-right-v2\" data-id={index}><Fa icon=\"times\" /></span><br />\n                  <Label className=\"text-navy\">&#8369;{numberWithCommas(item.price)}</Label><br />\n                  {item.description}\n                </span>\n              </ListGroupItem>\n            );\n          })}\n        </ListGroup>\n      );\n    } else {\n      return(\n        <em className=\"text-danger\">Please add an addon.</em>\n      );\n    }\n  }\n\n  renderAddHighlightModal() {\n    return (\n      <Modal className=\"modal-lg\" isOpen={this.state.addHighlightModalOpen} toggle={this.toggleAddHighlightModal} backdrop=\"static\">\n        <div className=\"modal-header\">\n          <h4 className=\"modal-title\">Add Tour Highlight</h4>\n          <button type=\"button\" className=\"close\" onClick={this.toggleAddHighlightModal} aria-label=\"Close\" style={{color:\"rgba(0, 0, 0, 0.6)\"}}><span aria-hidden=\"true\">×</span></button>\n        </div>\n        <ModalBody>\n          <form action=\"\">\n            <Col sm=\"12\">\n              <Row>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedHighlight && !this.state.highlight.name ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"name\" className=\"control-label\">Tour Highlight <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"name\"\n                      name=\"name\"\n                      className=\"name\"\n                      placeholder=\"Highlight\"\n                      type=\"text\"\n                      defaultValue={this.state.highlight.name}\n                      onChange={this.handleChangeHighlight}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\" md=\"6\" lg=\"6\">\n                  <FormGroup className={ this.state.submittedHighlight && !this.state.highlight.order ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"order\" className=\"control-label\">Order <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"order\"\n                      name=\"order\"\n                      className=\"order\"\n                      placeholder=\"Order\"\n                      type=\"number\"\n                      defaultValue={this.state.highlight.order}\n                      onChange={this.handleChangeHighlight}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\" md=\"6\" lg=\"6\">\n                  <FormGroup className={ this.state.submittedHighlight && !this.state.highlight.day ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"day\" className=\"control-label\">Day <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"day\"\n                      name=\"day\"\n                      placeholder=\"Day\"\n                      type=\"number\"\n                      defaultValue={this.state.highlight.day}\n                      onChange={this.handleChangeHighlight}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\" md=\"6\" lg=\"6\">\n                  <FormGroup className={ this.state.submittedHighlight && !this.state.highlight.dateTime ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"dateTime\" className=\"control-label\" style={{display:'block'}}>\n                      Date Time:\n                    </label>\n                    <DatePicker\n                      id=\"dateTime\"\n                      name=\"dateTime\"\n                      className=\"form-control\"\n                      autoComplete=\"off\"\n                      selectsStart\n                      startDate={this.state.dateStart}\n                      minDate={this.state.dateNow}\n                      selected={this.state.highlight.dateTime}\n                      onChange={this.handleChangeDateTime}\n                      showTimeSelect\n                      timeFormat=\"HH:mm\"\n                      timeIntervals={15}\n                      timeCaption=\"time\"\n                      dateFormat=\"MMM d, yyyy h:mm aa\"\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"description\" className=\"control-label\">Description</label>\n                    <Input\n                      id=\"description\"\n                      name=\"description\"\n                      placeholder=\"Description\"\n                      type=\"textarea\"\n                      defaultValue={this.state.highlight.description}\n                      onChange={this.handleChangeHighlight}\n                    />\n                  </FormGroup>\n                </Col>\n              </Row>\n            </Col>\n          </form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"info\" onClick={this.handleAddHighlight}>Add</Button>{' '}\n            {this.state.addingHighlight && (\n              <img\n                alt=\"loading\"\n                src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n              />\n            )}\n          <Button color=\"secondary\" onClick={this.toggleAddHighlightModal}>Cancel</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n\n  toggleAddHighlightModal = () => {\n    if(this.state.addHighlightModalOpen) {\n      if (!window.confirm(\"Do you want to discard this highlight?\")){\n        return false;\n      }\n    }\n    let highlightsLength = 1;\n    let { highlights } = this.state.tour;\n    if(highlights instanceof Array && highlights.length > 0) {\n      highlightsLength = highlights.length + 1;\n    }\n    this.setState(prevState => ({\n      submittedHighlight: false,\n      addHighlightModalOpen: !prevState.addHighlightModalOpen,\n      highlight: {\n        name: \"\",\n        order: highlightsLength,\n        day: 1,\n        image: \"\",\n        description: \"\",\n        dateTime: new Date(),\n      }\n    }));\n  }\n\n  removeHighlight = (e) => {\n    if (!window.confirm(\"Are you sure you sure you want to remove this highlight?\")){\n      return false;\n    }\n    const itemIndex = Number(e.currentTarget.dataset.id);\n    const { highlights } = this.state.tour;\n    if(highlights instanceof Array && highlights.length > 0) {\n      const newHighlights = highlights.filter((item, index) => index !== itemIndex);\n      this.setState({\n        tour: {\n          ...this.state.tour,\n          highlights: newHighlights\n        },\n      })\n    }\n  }\n\n  renderAddSectionModal() {\n    return (\n      <Modal className=\"modal-lg\" isOpen={this.state.addSectionModalOpen} toggle={this.toggleAddSectionModal} backdrop=\"static\">\n        <div className=\"modal-header\">\n          <h4 className=\"modal-title\">Add Tour Section</h4>\n          <button type=\"button\" className=\"close\" onClick={this.toggleAddSectionModal} aria-label=\"Close\" style={{color:\"rgba(0, 0, 0, 0.6)\"}}><span aria-hidden=\"true\">×</span></button>\n        </div>\n        <ModalBody>\n          <form action=\"\">\n            <Col sm=\"12\">\n              <Row>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedSection && !this.state.section.name ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"name\" className=\"control-label\">Tour Section <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"name\"\n                      name=\"name\"\n                      placeholder=\"Section Name\"\n                      type=\"text\"\n                      defaultValue={this.state.section.name}\n                      onChange={this.handleChangeSection}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedSection && !this.state.section.order ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"order\" className=\"control-label\">Order <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"order\"\n                      name=\"order\"\n                      placeholder=\"Order\"\n                      type=\"number\"\n                      defaultValue={this.state.section.order}\n                      onChange={this.handleChangeSection}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedSection && !this.state.section.route ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"route\" className=\"control-label\">Route <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"route\"\n                      name=\"route\"\n                      placeholder=\"Section Route\"\n                      type=\"text\"\n                      defaultValue={this.state.section.route}\n                      onChange={this.handleChangeSection}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedSection && !this.state.section.iconName ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"location\" className=\"control-label\">Icon <em className=\"text-muted\">(Required)</em></label>\n                    <Select\n                      className=\"react-select\"\n                      styles={{fontSize:'13px !important'}}\n                      options={options}\n                      onChange={this.handleChangeSectionIcon}\n                      placeholder=\"Select icon\"\n                      defaultValue={options.filter(item => item.value === this.state.section.iconName)}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"title\" className=\"control-label\">Title</label>\n                    <Input\n                      id=\"title\"\n                      name=\"title\"\n                      placeholder=\"Section Title\"\n                      type=\"text\"\n                      defaultValue={this.state.section.title}\n                      onChange={this.handleChangeSection}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"text\" className=\"control-label\">Text</label>\n                    <Input\n                      id=\"text\"\n                      name=\"text\"\n                      placeholder=\"Section Text\"\n                      type=\"textarea\"\n                      defaultValue={this.state.section.text}\n                      onChange={this.handleChangeSection}\n                    />\n                  </FormGroup>\n                </Col>\n              </Row>\n            </Col>\n          </form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"info\" onClick={this.handleAddSection}>Add</Button>{' '}\n            {this.state.addingHighlight && (\n              <img\n                alt=\"loading\"\n                src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n              />\n            )}\n          <Button color=\"secondary\" onClick={this.toggleAddSectionModal}>Cancel</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n\n  toggleAddSectionModal = () => {\n    let sectionsLength = 1;\n    let { sections } = this.state.tour;\n    if(sections instanceof Array && sections.length > 0) {\n      sectionsLength = sections.length + 1;\n    }\n    this.setState(prevState => ({\n      submittedSection: false,\n      addSectionModalOpen: !prevState.addSectionModalOpen,\n      section: {\n        name: \"\",\n        order: sectionsLength,\n        route: \"\",\n        iconName: \"\",\n        iconType: \"FontAwesome\",\n        title: \"\",\n        text: \"\",\n      }\n    }));\n  }\n\n  removeSection = (e) => {\n    if (!window.confirm(\"Are you sure you sure you want to remove this section?\")){\n      return false;\n    }\n    const itemIndex = Number(e.currentTarget.dataset.id);\n    const { sections } = this.state.tour;\n    if(sections instanceof Array && sections.length > 0) {\n      const newSections = sections.filter((item, index) => index !== itemIndex);\n      this.setState({\n        tour: {\n          ...this.state.tour,\n          sections: newSections\n        }\n      })\n    }\n  }\n\n  renderAddTourAddonModal() {\n    return (\n      <Modal className=\"modal-lg\" isOpen={this.state.addAddonModalOpen} toggle={this.toggleAddAddonModal} backdrop=\"static\">\n        <div className=\"modal-header\">\n          <h4 className=\"modal-title\">Add Tour Addon</h4>\n          <button type=\"button\" className=\"close\" onClick={this.toggleAddAddonModal} aria-label=\"Close\" style={{color:\"rgba(0, 0, 0, 0.6)\"}}><span aria-hidden=\"true\">×</span></button>\n        </div>\n        <ModalBody>\n          <form action=\"\">\n            <Col sm=\"12\">\n              <Row>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedAddon && !this.state.addon.title ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"name\" className=\"control-label\">Title <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"title\"\n                      name=\"title\"\n                      placeholder=\"Title\"\n                      type=\"text\"\n                      defaultValue={this.state.addon.title}\n                      onChange={this.handleChangeAddon}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedAddon && !this.state.addon.price ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"price\" className=\"control-label\">Price <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"price\"\n                      name=\"price\"\n                      placeholder=\"&#8369;\"\n                      type=\"text\"\n                      defaultValue={this.state.addon.price}\n                      onChange={this.handleChangeAddon}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"description\" className=\"control-label\">Description</label>\n                    <Input\n                      id=\"description\"\n                      name=\"description\"\n                      placeholder=\"Description\"\n                      type=\"textarea\"\n                      defaultValue={this.state.addon.description}\n                      onChange={this.handleChangeAddon}\n                    />\n                  </FormGroup>\n                </Col>\n              </Row>\n            </Col>\n          </form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"info\" onClick={this.handleAddAddon}>Add</Button>{' '}\n            {this.state.addingAddon && (\n              <img\n                alt=\"loading\"\n                src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n              />\n            )}\n          <Button color=\"secondary\" onClick={this.toggleAddAddonModal}>Cancel</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n\n  toggleAddAddonModal = () => {\n    this.setState(prevState => ({\n      submittedAddon: false,\n      addAddonModalOpen: !prevState.addAddonModalOpen,\n      section: {\n        title: \"\",\n        image: \"\",\n        price: \"0\",\n        description: \"\",\n      }\n    }));\n  }\n\n  removeAddon = (e) => {\n    if (!window.confirm(\"Are you sure you sure you want to remove this addon?\")){\n      return false;\n    }\n    const itemIndex = Number(e.currentTarget.dataset.id);\n    const { addons } = this.state.tour;\n    if(addons instanceof Array && addons.length > 0) {\n      const newAddons = addons.filter((item, index) => index !== itemIndex);\n      this.setState({\n        tour: {\n          ...this.state.tour,\n          addons: newAddons\n        }\n      })\n    }\n  }\n\n  render() {\n    let { submitted, pageType } = this.state;\n\n    if(pageType === 'sb-tours') {\n      return (\n        <>\n          <div className=\"content\">\n            <div className=\"react-notification-alert-container\">\n              <NotificationAlert ref=\"notify\" />\n            </div>\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <Form onSubmit={this.handleSubmit} onKeyPress={this.onKeyPress}>\n                    <CardHeader>\n                      <h3 className=\"title\">Add New Tour</h3>\n                    </CardHeader>\n                    <CardBody>\n                      <Row style={{marginBottom:'20px'}}>\n                        <Col sm=\"12\" md=\"3\" lg=\"3\">\n                          <legend>General</legend>\n                          <p>Change general information for this tour.</p>\n                        </Col>\n                        <Col sm=\"12\" md=\"9\" lg=\"9\">\n                          <Row>\n                            <Col sm=\"12\" md=\"12\" lg=\"12\">\n                              <FormGroup className={submitted && !this.state.tour.name ? \" has-danger\" : \"\" }>\n                                <label htmlFor=\"name\" className=\"control-label\">\n                                  Tour Name <em className=\"text-muted\">(Required)</em>\n                                </label>\n                                <Input\n                                  id=\"name\"\n                                  name=\"name\"\n                                  placeholder=\"Tour Name\"\n                                  type=\"text\"\n                                  defaultValue={this.state.tour.name}\n                                  onChange={this.handleChange}\n                                />\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                          <Row>\n                            <Col sm=\"12\" md=\"12\" lg=\"12\">\n                              <Row>\n                                <Col className=\"pr-md-1\" md=\"4\">\n                                  <FormGroup className={ submitted && !this.state.tour.numberOfPax ? \" has-danger\" : \"\" }>\n                                    <label htmlFor=\"price\" className=\"control-label\">\n                                      No. of Pax <em className=\"text-muted\">(Required)</em>\n                                    </label>\n                                    <Input\n                                      id=\"numberOfPax\"\n                                      name=\"numberOfPax\"\n                                      placeholder=\"No. of Pax\"\n                                      type=\"number\"\n                                      defaultValue={this.state.tour.numberOfPax}\n                                      onChange={this.handleChange}\n                                    />\n                                  </FormGroup>\n                                </Col>\n                                <Col className=\"px-md-1\" md=\"4\">\n                                  <FormGroup className={ submitted && !this.state.tour.price ? \" has-danger\" : \"\" }>\n                                    <label htmlFor=\"price\" className=\"control-label\">\n                                      Price <em className=\"text-muted\">(Required)</em>\n                                    </label>\n                                    <Input\n                                      id=\"price\"\n                                      name=\"price\"\n                                      placeholder=\"&#8369;\"\n                                      type=\"text\"\n                                      defaultValue={this.state.tour.price}\n                                      onChange={this.handleChange}\n                                    />\n                                  </FormGroup>\n                                </Col>\n                                <Col className=\"pl-md-1\" md=\"4\">\n                                  <FormGroup>\n                                    <label htmlFor=\"compare-price\" className=\"control-label\">Compare Price</label>\n                                    <Input\n                                      id=\"comparePrice\"\n                                      name=\"comparePrice\"\n                                      placeholder=\"&#8369;\"\n                                      type=\"text\"\n                                      defaultValue={this.state.tour.comparePrice}\n                                      onChange={this.handleChange}\n                                    />\n                                  </FormGroup>\n                                </Col>\n                              </Row>\n                            </Col>\n                          </Row>\n                          <Row>\n                            <Col md=\"12\">\n                              <FormGroup>\n                                <label htmlFor=\"about\"><strong>About</strong></label>\n                                <Input\n                                  style={{height: '200px'}}\n                                  id=\"about\"\n                                  name=\"about\"\n                                  placeholder=\"About\"\n                                  type=\"textarea\"\n                                  value={this.state.section.about}\n                                  onChange={this.handleChangeSection}\n                                />\n                              </FormGroup>\n                            </Col>\n                          </Row>            \n                        </Col>\n                      </Row>\n                      <Row>\n                        <Col sm=\"12\" md=\"3\" lg=\"3\">\n                          <legend>Tour Settings</legend>\n                        </Col>\n                        <Col sm=\"12\" md=\"9\" lg=\"9\">\n                          <Row>\n                            <Col className=\"pr-md-1\" md=\"4\">\n                              <FormGroup className={ submitted && !this.state.tour.numberOfGroups ? \" has-danger\" : \"\" }>\n                                <label htmlFor=\"price\" className=\"control-label\">No. of Groups <em className=\"text-muted\">(Required)</em></label>\n                                <Input\n                                  id=\"numberOfGroups\"\n                                  name=\"numberOfGroups\"\n                                  placeholder=\"No. of Groups\"\n                                  type=\"number\"\n                                  defaultValue={this.state.tour.numberOfGroups}\n                                  onChange={this.handleChange}\n                                />\n                              </FormGroup>\n                            </Col>\n                            <Col className=\"px-md-1\" md=\"4\">\n                              <FormGroup>\n                                <label htmlFor=\"minNumber\" className=\"control-label\">Min. number</label>\n                                <Input\n                                  id=\"minNumber\"\n                                  name=\"minNumber\"\n                                  placeholder=\"Min. number\"\n                                  type=\"number\"\n                                  defaultValue={this.state.tour.minNumber}\n                                  onChange={this.handleChange}\n                                />\n                              </FormGroup>\n                            </Col>\n                            <Col className=\"pl-md-1\" md=\"4\">\n                              <FormGroup>\n                                <label htmlFor=\"maxNumber\" className=\"control-label\">Max number</label>\n                                <Input\n                                  id=\"maxNumber\"\n                                  name=\"maxNumber\"\n                                  placeholder=\"Nax number\"\n                                  type=\"number\"\n                                  defaultValue={this.state.tour.maxNumber}\n                                  onChange={this.handleChange}\n                                />\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                          <Row>\n                            <Col sm=\"12\">\n                              <legend>Tour Highlights</legend>\n                            </Col>\n                            <Col sm=\"12\">\n                              {this.renderTourHighlights()}\n                            </Col>\n                            <Col sm=\"12\">\n                              <FormGroup>\n                                <Button color=\"primary-v2\" className=\"btn-sm\" type=\"button\" onClick={this.toggleAddHighlightModal}><Fa icon=\"plus\" /> Add Highlight</Button>\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                          <Row>\n                            <Col sm=\"12\">\n                              <legend>Tour Sections</legend>\n                            </Col>\n                            <Col sm=\"12\">\n                              {this.renderTourSections()}\n                            </Col>\n                            <Col sm=\"12\">\n                              <FormGroup>\n                                <Button color=\"primary-v2\" className=\"btn-sm\" type=\"button\" onClick={this.toggleAddSectionModal}><Fa icon=\"plus\" /> Add Section</Button>\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                          <Row>\n                            <Col sm=\"12\">\n                              <legend>Tour Addons</legend>\n                            </Col>\n                            <Col sm=\"12\">\n                              {this.renderTourAddons()}\n                            </Col>\n                            <Col sm=\"12\">\n                              <FormGroup>\n                                <Button color=\"primary-v2\" className=\"btn-sm\" type=\"button\" onClick={this.toggleAddAddonModal}><Fa icon=\"plus\" /> Add Addon</Button>\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                        </Col>\n                      </Row>\n                    </CardBody>\n                    <CardFooter className=\"pull-right\">\n                      <Button color=\"info\" type=\"submit\">Save</Button>\n                      <Link to=\"/tours\" className=\"btn btn-light\">Cancel</Link>\n                    </CardFooter>\n                  </Form>\n                </Card>\n              </Col>\n            </Row>\n            <div>\n              {this.renderAddHighlightModal()}\n              {this.renderAddSectionModal()}\n              {this.renderAddTourAddonModal()}\n            </div>\n            <LoadingOverlay\n              active={this.state.isSaving}\n              spinner\n              text='Saving...'\n              >\n            </LoadingOverlay>\n          </div>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <div className=\"content\">\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4>This page is disabled.</h4>\n                  </CardHeader>\n                  <CardBody></CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </>\n      );\n    }\n  }\n}\n\nconst numberWithCommas = x => {\n  return priceRound(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n};\n\nconst priceRound = (price, dec) => {\n  if (dec === undefined) {\n    dec = 2;\n  }\n  if (price !== 0) {\n    if (!price || isNaN(price)) {\n      throw new Error(\"price is not a number\" + price);\n    }\n  }\n  const str = parseFloat(Math.round(price * 100) / 100).toFixed(dec);\n\n  return str;\n};\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    addTour,\n  }\n)(AddTour);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getSession } from \"../../config/session\";\nimport api from \"../../config/api\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon as Fa } from '@fortawesome/react-fontawesome';\nimport queryString from \"query-string\";\nimport { PulseLoader, SyncLoader } from 'react-spinners';\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\nimport Select from 'react-select';\nimport DatePicker from \"react-datepicker\";\n\nimport { \n  getProductById, \n  getProductTypes,\n  getProductCategories,\n  getProductCategoriesV2,\n  updateProduct,\n  uploadPhoto,\n  removePhoto,\n} from \"../../layouts/Admin/actions/ProductActions\";\n\nimport { getProviderPlaces } from \"../../layouts/User/UserActions\";\n\nimport { Alert, Button, Card, CardHeader, CardBody, CardFooter, FormGroup, Form, Input, \n  Row, Col, Label, ListGroup, ListGroupItem, Media, Modal, ModalBody, ModalFooter\n} from \"reactstrap\";\n\nconst options = [\n  { value: 'times', label: <strong><Fa icon=\"times\" /> fa-times</strong> },\n  { value: 'trash', label: <strong><Fa icon=\"trash\" /> fa-trash</strong> },\n  { value: 'file', label: <strong><Fa icon=\"file\" /> fa-file</strong> },\n  { value: 'file-alt', label: <strong><Fa icon=\"file-alt\" /> fa-file-alt</strong> },\n  { value: 'map', label: <strong><Fa icon=\"map\" /> fa-map</strong> },\n  { value: 'cube', label: <strong><Fa icon=\"cube\" /> fa-cube</strong> },\n  { value: 'question-circle', label: <strong><Fa icon=\"question-circle\" /> fa-question-circle</strong> },\n  { value: 'times-circle', label: <strong><Fa icon=\"times-circle\" /> fa-times-circle</strong> },\n  { value: 'exclamation-triangle', label: <strong><Fa icon=\"exclamation-triangle\" /> fa-exclamation-triangle</strong> },\n]\n\nconst divStyle = {\n  position: 'relative',\n  height: 145,\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  borderWidth: 2,\n  borderColor: '#666',\n  borderStyle: 'solid',\n  borderRadius: 5\n};\n\nclass EditProduct extends React.Component {\n  constructor(props) {\n    super(props);\n    const tourId = props.match.params._id;\n    this.state = {\n      tourId,\n      tour: {\n        name: \"\",\n        about: \"\",\n        photos: [],\n        numberOfPax: \"\",\n        numberOfGroups: \"\",\n        minNumber: \"\",\n        maxNumber: \"\",\n        highlights: [],\n        sections: [],\n        addons: [],\n      },\n      highlight: {\n        name: \"\",\n        order: 1,\n        day: 1,\n        image: {},\n        description: \"\",\n        dateTime: new Date(),\n      },\n      highlightEdit: {\n        index: \"\",\n        name: \"\",\n        order: 1,\n        day: 1,\n        image: {},\n        description: \"\",\n        dateTime: new Date(),\n      },\n      section: {\n        name: \"\",\n        order: 1,\n        route: \"\",\n        iconName: \"\",\n        iconType: \"FontAwesome\",\n        map: {},\n        title: \"\",\n        text: \"\",\n      },\n      sectionEdit: {\n        index: \"\",\n        name: \"\",\n        order: 1,\n        route: \"\",\n        iconName: \"\",\n        iconType: \"FontAwesome\",\n        map: {},\n        title: \"\",\n        text: \"\",\n      },\n      addon: {\n        name: \"\",\n        image: {},\n        price: \"0\",\n        type: \"group\",\n        description: \"\",\n      },\n      addonEdit: {\n        name: \"\",\n        image: {},\n        price: \"0\",\n        type: \"group\",\n        description: \"\",\n      },\n      \n      pageType: 'sb-tours',\n      isLoading: false,\n      submitted: false,\n      isSaving: false,\n      \n      addHighlightModalOpen: false,\n      submittedHighlight: false,\n      addingHighlight: false,\n      \n      editHighlightModalOpen: false,\n      submittedHighlightEdit: false,\n      editingHighlight: false,\n\n      addSectionModalOpen: false,\n      submittedSection: false,\n      addingSection: false,\n\n      editSectionModalOpen: false,\n      submittedSectionEdit: false,\n      editingSection: false,\n      \n      addAddonModalOpen: false,\n      submittedAddon: false,\n      addingAddon: false,\n\n      editAddonModalOpen: false,\n      submittedAddonEdit: false,\n      editingAddon: false,\n      \n      messageOpen: false,\n      isUploading: false,\n      isUploadingHighlight: false,\n      isUploadingSection: false,\n      isUploadingAddon: false,\n\n      dateStart: new Date(),\n      dateNow: new Date(),\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const url = this.props.location.search;\n    const query = queryString.parse(url);\n    const message = query.message;\n    if(message) {\n      this.setState({\n        message: message,\n        messageOpen: true,\n      });\n    }\n\n    if (userData !== null) {\n      const sessionToken = userData.sessionToken;\n      const tourId = this.state.tourId;\n\n      api(sessionToken).get(`/provider/tours/${tourId}`)\n        .then(response => {\n          if(response && response.data) {\n              const { page:tour } = response.data;\n              this.setState({\n                tour: {\n                  name: tour.name ? tour.name : \"\",\n                  about: tour.about ? tour.about : \"\",\n                  photos: tour.photos ? tour.photos : [],\n                  price: tour.tourDetails.price,\n                  comparePrice: tour.tourDetails.comparePrice,\n                  numberOfPax: tour.tourDetails.numberOfPax,\n                  numberOfGroups: tour.tourDetails.numberOfGroups,\n                  minNumber: tour.tourDetails.minNumber,\n                  maxNumber: tour.tourDetails.maxNumber,\n                  highlights: tour.tourDetails.activities ? tour.tourDetails.activities : [],\n                  sections: tour.tourDetails.sections ? tour.tourDetails.sections : [],\n                  addons: tour.tourDetails.addons ? tour.tourDetails.addons : [],\n                },\n              });\n            this.setState({isLoading:false});\n          } else {\n            this.setState({isLoading:false});\n          }\n        })\n        .catch(error => {\n          this.setState({isLoading:false});\n        })\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n  }\n\n  handleChangeDesc = (data) => {\n    this.setState({\n      tour: {\n        ...this.state.tour,\n        about: data\n      }\n    });\n  }\n\n  handleChange = (e) => {\n    let { name, value, type } = e.target;\n    if (type === \"checkbox\") {\n      const checked = e.target.checked;\n      value = checked;\n    }\n    this.setState({\n      tour: {\n        ...this.state.tour,\n        [name]: value\n      }\n    });\n  }\n  \n  handleChangeHighlight = (e) => {\n    let { name, value } = e.target;\n    this.setState({\n      highlight: {\n        ...this.state.highlight,\n        [name]: value\n      }\n    });\n  }\n\n  handleChangeHighlightEdit = (e) => {\n    let { name, value } = e.target;\n    this.setState({\n      highlightEdit: {\n        ...this.state.highlightEdit,\n        [name]: value\n      }\n    });\n  }\n\n  handleChangeDateTime = (date) => {\n    this.setState({dateStart: date});\n    this.setState({\n      highlight: {\n        ...this.state.highlight,\n        dateTime: date\n      }\n    });\n  }\n\n  handleChangeDateTimeEdit = (date) => {\n    this.setState({dateStart: date});\n    this.setState({\n      highlightEdit: {\n        ...this.state.highlightEdit,\n        dateTime: date\n      }\n    });\n  }\n\n  handleChangeSection = (e) => {\n    let { name, value } = e.target;\n    this.setState({\n      section: {\n        ...this.state.section,\n        [name]: value\n      }\n    });\n  }\n\n  handleChangeSectionIcon = (e) => {\n    let value = e.value;\n    this.setState({\n      section: {\n        ...this.state.section,\n        iconName: value\n      }\n    });\n  }\n\n  handleChangeSectionEdit = (e) => {\n    let { name, value } = e.target;\n    this.setState({\n      sectionEdit: {\n        ...this.state.sectionEdit,\n        [name]: value\n      }\n    });\n  }\n\n  handleChangeSectionIconEdit = (e) => {\n    let value = e.value;\n    this.setState({\n      sectionEdit: {\n        ...this.state.sectionEdit,\n        iconName: value\n      }\n    });\n  }\n\n  handleChangeCheckbox = (e) => {\n    let { name } = e.target;\n    this.setState(prevState => ({\n      tourDate: {\n        ...this.state.tourDate,\n        [name]: !prevState.tourDate.name\n      }\n    }));\n  }\n\n  handleChangeAddon = (e) => {\n    let { name, value } = e.target;\n    this.setState({\n      addon: {\n        ...this.state.addon,\n        [name]: value\n      }\n    });\n  }\n\n  handleChangeAddonEdit = (e) => {\n    let { name, value } = e.target;\n    this.setState({\n      addonEdit: {\n        ...this.state.addonEdit,\n        [name]: value\n      }\n    });\n  }\n\n  handleAddHighlight = (e) => {\n    e.preventDefault();\n    let highlightsLength = 1;\n    let { highlights } = this.state.tour;\n    if(highlights instanceof Array && highlights.length > 0) {\n      highlightsLength = highlights.length + 1;\n    }\n    this.setState({ submittedHighlight: true, addingHighlight: true });\n    const { highlight } = this.state;\n    let isAdded = false;\n    if(highlight && highlight.name && highlight.order && highlight.day) {\n      if(highlights && highlights.length > 0) {\n        const added = highlights.find(item => item.name === highlight.name);\n        if(typeof added === 'object' && added.name !==\"\") {\n          isAdded = true;\n        }\n      }\n      if(!isAdded) {\n        highlights = [...highlights,highlight];\n        this.setState({ \n          submittedHighlight: false,\n          addingHighlight: false,\n          tour: {\n            ...this.state.tour,\n            highlights: highlights\n          },\n          highlight: {\n            id: \"\",\n            name: \"\",\n            order: highlightsLength + 1,\n            day: 1,\n            image: \"\",\n            description: \"\",\n            dateTime: new Date(),\n          }\n        });\n        this.setState(prevState => ({ addHighlightModalOpen: !prevState.addHighlightModalOpen }));\n        this.showNotification('Tour highlight has been added!');\n      } else {\n        this.setState({ submittedHighlight: false, addingHighlight: false });\n        this.showNotificationError('Tour highlight is already on the list!');\n      }\n    } else {\n      this.setState({ addingHighlight: false });\n      this.showNotificationError('Some fields are required!');\n    }\n  }\n\n  handleEditHighlight = (e) => {\n    e.preventDefault();\n    let { highlights } = this.state.tour;\n    this.setState({ submittedHighlightEdit: true, editingHighlight: true });\n    const { highlightEdit } = this.state;\n    let newHighlights = highlights.filter((item, index) => index !== highlightEdit.index);\n    \n    let isAdded = false;\n    if(highlightEdit && highlightEdit.name && highlightEdit.order && highlightEdit.day) {\n      if(newHighlights && newHighlights.length > 0) {\n        const added = newHighlights.find(item => item.name === highlightEdit.name);\n        if(typeof added === 'object' && added.name !==\"\") {\n          isAdded = true;\n        }\n      }\n      if(!isAdded) {\n        for( var i = 0; i < highlights.length; i++){ \n          if (i === highlightEdit.index) {\n            delete highlightEdit.index;\n            highlights.splice(i, 1, highlightEdit); \n          }\n        }\n        this.setState({ \n          submittedHighlightEdit: false,\n          editingHighlight: false,\n          tour: {\n            ...this.state.tour,\n            highlights: highlights\n          },\n          highlightEdit: {\n            index: \"\",\n            name: \"\",\n            order: 1,\n            day: 1,\n            image: {},\n            description: \"\",\n            dateTime: new Date(),\n          }\n        });\n        //this.toggleEditHighlightModal();\n        this.setState(prevState => ({ editHighlightModalOpen: !prevState.editHighlightModalOpen }) )\n        this.showNotification('Tour highlight has been updated!');\n      } else {\n        this.setState({ submittedHighlightEdit: false, editingHighlight: false });\n        this.showNotificationError('Tour highlight name is already on the list!');\n      }\n    } else {\n      this.setState({ editingHighlight: false });\n      this.showNotificationError('Some fields are required!');\n    }\n  }\n\n  handleAddSection = (e) => {\n    e.preventDefault();\n    let sectionsLength = 1;\n    let { sections } = this.state.tour;\n    if(sections instanceof Array && sections.length > 0) {\n      sectionsLength = sections.length + 1;\n    }\n    this.setState({ submittedSection: true, addingSection: true });\n    let { section } = this.state;\n    let data = [];\n    let sectionData = {\n      title: section.title,\n      text: section.text,\n    }\n    data = [...data,sectionData];\n    section.data = data;\n    let isAdded = false;\n    if(section && section.name && section.order && section.iconName && section.route) {\n      if(sections && sections.length > 0) {\n        const added = sections.find(item => item.name === section.name);\n        if(typeof added === 'object' && added.name !==\"\") {\n          isAdded = true;\n        }\n      }\n      if(!isAdded) {\n        delete section.title;\n        delete section.text;\n        sections = [...sections,section];\n        this.setState({ \n          submittedSection: false, \n          addingSection: false,\n          tour: {\n            ...this.state.tour,\n            sections: sections\n          },\n          section: {\n            name: \"\",\n            order: sectionsLength + 1,\n            route: \"\",\n            iconName: \"\",\n            iconType: \"FontAwesome\",\n            map: {},\n            title: \"\",\n            text: \"\",\n          }\n        });\n        this.toggleAddSectionModal();\n        this.showNotification('Tour section has been added!');\n      } else {\n        this.setState({ submittedSection: false, addingSection: false });\n        this.showNotificationError('Tour section is already on the list!');\n      }\n    } else {\n      this.setState({ addingSection: false });\n      this.showNotificationError('Some fields are required!');\n    }\n  }\n\n  handleEditSection = (e) => {\n    e.preventDefault();\n    let sectionsLength = 1;\n    let { sections } = this.state.tour;\n    if(sections instanceof Array && sections.length > 0) {\n      sectionsLength = sections.length + 1;\n    }\n    this.setState({ submittedSectionEdit: true, editingSection: true });\n    let { sectionEdit } = this.state;\n    let newSections = sections.filter((item, index) => index !== sectionEdit.index);\n    let data = [];\n    let sectionData = {\n      title: sectionEdit.title,\n      text: sectionEdit.text,\n    }\n    data = [...data,sectionData];\n    sectionEdit.data = data;\n    let isAdded = false;\n    if(sectionEdit && sectionEdit.name && sectionEdit.order && sectionEdit.iconName && sectionEdit.route) {\n      if(newSections && newSections.length > 0) {\n        const added = newSections.find(item => item.name === sectionEdit.name);\n        if(typeof added === 'object' && added.name !==\"\") {\n          isAdded = true;\n        }\n      }\n      if(!isAdded) {\n        delete sectionEdit.title;\n        delete sectionEdit.text;\n        for( var i = 0; i < sections.length; i++){ \n          if (i === sectionEdit.index) {\n            delete sectionEdit.index;\n            sections.splice(i, 1, sectionEdit); \n          }\n        }\n        //sections = [...sections,sectionEdit];\n        this.setState({ \n          submittedSectionEdit: false, \n          editingSection: false,\n          tour: {\n            ...this.state.tour,\n            sections: sections\n          },\n          sectionEdit: {\n            index: \"\",\n            name: \"\",\n            order: sectionsLength + 1,\n            route: \"\",\n            iconName: \"\",\n            iconType: \"FontAwesome\",\n            map: {},\n            title: \"\",\n            text: \"\",\n          }\n        });\n        this.setState(prevState => ({ editSectionModalOpen: !prevState.editSectionModalOpen }) )\n        this.showNotification('Tour section has been updated!');\n      } else {\n        this.setState({ submittedSectionEdit: false, editingSection: false });\n        this.showNotificationError('Tour section is already on the list!');\n      }\n    } else {\n      this.setState({ editingSection: false });\n      this.showNotificationError('Some fields are required!');\n    }\n  }\n\n  handleAddAddon = (e) => {\n    e.preventDefault();\n    let { addons } = this.state.tour;\n    this.setState({ submittedAddon: true, addingAddon: true });\n    const { addon } = this.state;\n    let isAdded = false;\n    if(addon && addon.name && addon.price) {\n      if(addons && addons.length > 0) {\n        const added = addons.find(item => item.name === addon.name);\n        if(typeof added === 'object' && added.name !==\"\") {\n          isAdded = true;\n        }\n      }\n      if(!isAdded) {\n        addons = [...addons,addon];\n        this.setState({\n          submittedAddon: false,\n          addingAddon: false,\n          tour: {\n            ...this.state.tour,\n            addons: addons\n          },\n          addon: {\n            name: \"\",\n            image: {},\n            price: \"0\",\n            type: \"group\",\n            description: \"\",\n          }\n        });\n        this.toggleAddAddonModal();\n        this.showNotification('Tour addon has been added!');\n      } else {\n        this.setState({ submittedAddon: false, addingAddon: false });\n        this.showNotificationError('Tour addon is already on the list!');\n      }\n    } else {\n      this.setState({ addingAddon: false });\n      this.showNotificationError('Some fields are required!');\n    }\n  }\n\n  handleEditAddon = (e) => {\n    e.preventDefault();\n    let { addons } = this.state.tour;\n    this.setState({ submittedAddonEdit: true, editingAddon: true });\n    const { addonEdit } = this.state;\n    let newAddons = addons.filter((item, index) => index !== addonEdit.index);\n    let isAdded = false;\n    if(addonEdit && addonEdit.name && addonEdit.price) {\n      if(newAddons && newAddons.length > 0) {\n        const added = newAddons.find(item => item.name === addonEdit.name);\n        if(typeof added === 'object' && added.name !==\"\") {\n          isAdded = true;\n        }\n      }\n      if(!isAdded) {\n        for( var i = 0; i < addons.length; i++){ \n          if (i === addonEdit.index) {\n            delete addonEdit.index;\n            addons.splice(i, 1, addonEdit); \n          }\n        }\n        this.setState({\n          submittedAddonEdit: false,\n          editingAddon: false,\n          tour: {\n            ...this.state.tour,\n            addons: addons\n          },\n          addonEdit: {\n            name: \"\",\n            image: {},\n            price: \"0\",\n            type: \"group\",\n            description: \"\",\n          }\n        });\n        this.toggleEditAddonModal();\n        this.showNotification('Tour addon has been added!');\n      } else {\n        this.setState({ submittedAddonEdit: false, editingAddon: false });\n        this.showNotificationError('Tour addon is already on the list!');\n      }\n    } else {\n      this.setState({ editingAddon: false });\n      this.showNotificationError('Some fields are required!');\n    }\n  }\n\n  handleFileUpload = (e) => {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const files = e.target.files;\n    const images = this.state.tour.photos;\n    if(files[0]) {\n      if(images.length<6) {\n        this.setState({isUploading: true});\n        const tourId = this.state.tourId;\n        const sessionToken = userData.sessionToken;\n        const images = this.state.tour.photos;\n        const formData = new FormData();\n        formData.append('file', files[0]);\n        api(sessionToken)\n          .post(`/provider/tours/${tourId}/media`, formData)\n          .then(resp => {\n            this.setState({ isUploading:false });\n            const photo = resp.data;\n            if(photo._id) {\n              images.push(photo);\n              this.setState({\n                tour: {\n                  ...this.state.tour,\n                  photos: images\n                }\n              });\n            }\n          })\n          .catch(error => {\n            this.setState({ isUploading:false });\n            if (error.response && typeof error.response === 'string') {\n              console.error(error.response);\n              this.showNotificationError(error.response);\n            } else {\n              console.error({error});\n              this.showNotificationError('There is an error uploading the file. Please try again');\n            }\n          });\n      } else {\n        this.setState({ isUploading:false });\n        console.log('No. of files: ',files.length);\n        this.showNotificationError('You are only allowed to upload a maximum of 6 files!');\n      }\n    }\n  }\n\n  handleFileUploadHighlight = (e) => {\n    const files = e.target.files;\n    if(files[0]) {\n      this.setState({isUploadingHighlight: true});\n      const userData = JSON.parse(getSession(\"userData\"));\n      const tourId = this.state.tourId;\n      const sessionToken = userData.sessionToken;\n      const formData = new FormData();\n      formData.append('file', files[0]);\n      api(sessionToken)\n        .post(`/provider/tours/${tourId}/upload-content-image`, formData)\n        .then(resp => {\n          this.setState({ isUploadingHighlight:false });\n          const image = resp.data;\n          if(image) {\n            this.setState({\n              highlight: {\n                ...this.state.highlight,\n                image: image\n              }\n            });\n          }\n        })\n        .catch(error => {\n          this.setState({ isUploadingHighlight:false });\n          if (error.response && typeof error.response === 'string') {\n            console.error(error.response);\n            this.showNotificationError(error.response);\n          } else {\n            console.error({error});\n            this.showNotificationError('There is an error uploading the file. Please try again');\n          }\n        });\n    }\n  }\n\n  handleFileUploadHighlightEdit = (e) => {\n    const files = e.target.files;\n    if(files[0]) {\n      this.setState({isUploadingHighlight: true});\n      const userData = JSON.parse(getSession(\"userData\"));\n      const tourId = this.state.tourId;\n      const sessionToken = userData.sessionToken;\n      const formData = new FormData();\n      formData.append('file', files[0]);\n      api(sessionToken)\n        .post(`/provider/tours/${tourId}/upload-content-image`, formData)\n        .then(resp => {\n          this.setState({ isUploadingHighlight:false });\n          const image = resp.data;\n          if(image) {\n            this.setState({\n              highlightEdit: {\n                ...this.state.highlightEdit,\n                image: image\n              }\n            });\n          }\n        })\n        .catch(error => {\n          this.setState({ isUploadingHighlight:false });\n          if (error.response && typeof error.response === 'string') {\n            console.error(error.response);\n            this.showNotificationError(error.response);\n          } else {\n            console.error({error});\n            this.showNotificationError('There is an error uploading the file. Please try again');\n          }\n        });\n    }\n  }\n\n  handleFileUploadSection = (e) => {\n    const files = e.target.files;\n    if(files[0]) {\n      this.setState({isUploadingSection: true});\n      const userData = JSON.parse(getSession(\"userData\"));\n      const tourId = this.state.tourId;\n      const sessionToken = userData.sessionToken;\n      const formData = new FormData();\n      formData.append('file', files[0]);\n      api(sessionToken)\n        .post(`/provider/tours/${tourId}/upload-content-image`, formData)\n        .then(resp => {\n          this.setState({ isUploadingSection:false });\n          const image = resp.data;\n          if(image) {\n            this.setState({\n              section: {\n                ...this.state.section,\n                map: image\n              }\n            });\n          }\n        })\n        .catch(error => {\n          this.setState({ isUploadingSection:false });\n          if (error.response && typeof error.response === 'string') {\n            console.error(error.response);\n            this.showNotificationError(error.response);\n          } else {\n            console.error({error});\n            this.showNotificationError('There is an error uploading the file. Please try again');\n          }\n        });\n    }\n  }\n\n  handleFileUploadSectionEdit = (e) => {\n    const files = e.target.files;\n    if(files[0]) {\n      this.setState({isUploadingSection: true});\n      const userData = JSON.parse(getSession(\"userData\"));\n      const tourId = this.state.tourId;\n      const sessionToken = userData.sessionToken;\n      const formData = new FormData();\n      formData.append('file', files[0]);\n      api(sessionToken)\n        .post(`/provider/tours/${tourId}/upload-content-image`, formData)\n        .then(resp => {\n          this.setState({ isUploadingSection:false });\n          const image = resp.data;\n          if(image) {\n            this.setState({\n              sectionEdit: {\n                ...this.state.sectionEdit,\n                map: image\n              }\n            });\n          }\n        })\n        .catch(error => {\n          this.setState({ isUploadingSection:false });\n          if (error.response && typeof error.response === 'string') {\n            console.error(error.response);\n            this.showNotificationError(error.response);\n          } else {\n            console.error({error});\n            this.showNotificationError('There is an error uploading the file. Please try again');\n          }\n        });\n    }\n  }\n\n  handleFileUploadAddon = (e) => {\n    const files = e.target.files;\n    if(files[0]) {\n      this.setState({isUploadingAddon: true});\n      const userData = JSON.parse(getSession(\"userData\"));\n      const tourId = this.state.tourId;\n      const sessionToken = userData.sessionToken;\n      const formData = new FormData();\n      formData.append('file', files[0]);\n      api(sessionToken)\n        .post(`/provider/tours/${tourId}/upload-content-image`, formData)\n        .then(resp => {\n          this.setState({ isUploadingAddon:false });\n          const image = resp.data;\n          if(image) {\n            this.setState({\n              addon: {\n                ...this.state.addon,\n                image: image\n              }\n            });\n          }\n        })\n        .catch(error => {\n          this.setState({ isUploadingAddon:false });\n          if (error.response && typeof error.response === 'string') {\n            console.error(error.response);\n            this.showNotificationError(error.response);\n          } else {\n            console.error({error});\n            this.showNotificationError('There is an error uploading the file. Please try again');\n          }\n        });\n    }\n  }\n\n  handleFileUploadAddonEdit = (e) => {\n    const files = e.target.files;\n    if(files[0]) {\n      this.setState({isUploadingAddon: true});\n      const userData = JSON.parse(getSession(\"userData\"));\n      const tourId = this.state.tourId;\n      const sessionToken = userData.sessionToken;\n      const formData = new FormData();\n      formData.append('file', files[0]);\n      api(sessionToken)\n        .post(`/provider/tours/${tourId}/upload-content-image`, formData)\n        .then(resp => {\n          this.setState({ isUploadingAddon:false });\n          const image = resp.data;\n          if(image) {\n            this.setState({\n              addonEdit: {\n                ...this.state.addonEdit,\n                image: image\n              }\n            });\n          }\n        })\n        .catch(error => {\n          this.setState({ isUploadingAddon:false });\n          if (error.response && typeof error.response === 'string') {\n            console.error(error.response);\n            this.showNotificationError(error.response);\n          } else {\n            console.error({error});\n            this.showNotificationError('There is an error uploading the file. Please try again');\n          }\n        });\n    }\n  }\n\n  removeImage = (e) => {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const tourId = this.state.tourId;\n    const mediaId = e.currentTarget.dataset.id;\n    const sessionToken = userData.sessionToken;\n    api(sessionToken)\n      .delete(`provider/tours/${tourId}/media/${mediaId}`)\n      .then(resp => {\n        if(resp && resp.data.deleted==='ok') {\n          const images = this.state.tour.photos;\n          const newImages = images.filter(item => item._id.toString() !== mediaId);\n          this.setState({\n            tour: {\n              ...this.state.tour,\n              photos: newImages\n            }\n          });\n          this.showNotification('Image was successfully removed.');\n        }\n      })\n      .catch(error => {\n        if (error.response && typeof error.response === 'string') {\n          console.error(error.response);\n          this.showNotificationError(error.response);\n        } else {\n          console.error({error});\n          this.showNotificationError('There is error removing the image.');\n        }\n      });\n  }\n\n  removeImageHighlight = (e) => {\n    this.setState({\n      highlight: {\n        ...this.state.highlight,\n        image: \"\"\n      }\n    });\n    this.showNotification('Highlight image has been removed!');\n  }\n\n  removeImageHighlightEdit = (e) => {\n    this.setState({\n      highlightEdit: {\n        ...this.state.highlightEdit,\n        image: \"\"\n      }\n    });\n    this.showNotification('Highlight image has been removed!');\n  }\n\n  removeImageSection = (e) => {\n    this.setState({\n      section: {\n        ...this.state.section,\n        map: {}\n      }\n    });\n    this.showNotification('Section image has been removed!');\n  }\n\n  removeImageSectionEdit = (e) => {\n    this.setState({\n      sectionEdit: {\n        ...this.state.sectionEdit,\n        map: \"\"\n      }\n    });\n    this.showNotification('Section image has been removed!');\n  }\n\n  removeImageAddon = (e) => {\n    this.setState({\n      addonEdit: {\n        ...this.state.addon,\n        image: \"\"\n      }\n    });\n    this.showNotification('Addon image has been removed!');\n  }\n\n  removeImageAddonEdit = (e) => {\n    this.setState({\n      addonEdit: {\n        ...this.state.addonEdit,\n        image: \"\"\n      }\n    });\n    this.showNotification('Addon image has been removed!');\n  }\n\n  onAlertDismiss = (e) => {\n    this.setState(prevState => ({\n      messageOpen: !prevState.messageOpen\n    }));\n  };\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        iconName: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        iconName: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const userData = JSON.parse(getSession(\"userData\"));\n    let sessionToken = \"\";\n    let tour;\n    let tourId;\n    if(userData) {\n      sessionToken = userData.sessionToken;\n      tour = {...this.state.tour};\n      tourId = this.state.tourId;\n      delete tour.photos;\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n\n    if (tour) {\n      if ( tour.name && !isNaN(tour.price) && !isNaN(tour.numberOfPax) ) {\n        if (!window.confirm(\"Do you want to save this item?\")){\n          return false;\n        }\n        this.setState({ submitted: true, isSaving: true });\n        api(sessionToken).patch(`/provider/tours/${tourId}`, tour)\n          .then(response => {\n            if (response && response.data) {\n              this.setState({ submitted: false, isSaving: false });\n              this.props.history.push(\"/tours?message=Tour changes has been saved!\");\n            }\n          })\n          .catch(error => {\n            this.setState({ submitted: false, isSaving: false });\n            if(error.response && typeof error.response === 'string' ) {\n              this.showNotificationError(error.response);\n            } else {\n              this.showNotificationError('There is a error saving the tour!');\n            }\n          });\n      } else {\n        this.setState({ submitted: true });\n        this.showNotificationError('Some fields are required. Please fill the required fields.');\n      }\n    } else {\n      setTimeout(() => { this.setState({ submitted: false, isSaving: false }); }, 1000);\n      this.showNotificationError('Product information is missing.');\n    }\n  }\n\n  onKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n    }\n  }\n\n  renderProductTypes() {\n    if(this.state.tourTypes !== undefined || this.state.tourTypes != null) {\n      const activeProductTypes = this.state.tourTypes.filter(item => item.isActive);\n      return activeProductTypes.map((item, index) => (\n        <option key={index} value={item._id}>{item.name}</option>\n      ));\n    }\n  }\n\n  renderTourHighlights() {\n    if(this.state.tour && this.state.tour.highlights && this.state.tour.highlights.length > 0) {\n      return(\n        <ListGroup>\n          {this.state.tour.highlights.map((item, index) => {\n            return(\n              <ListGroupItem key={index}>\n                <span>\n                  <Label className=\"pointer header-label text-info-v2\" onClick={this.editHighlight} data-id={index}>{item.name}</Label>\n                  <span className=\"pointer text-muted pull-right-v2\" onClick={this.removeHighlight} data-id={index}><Fa icon=\"times\" /></span>\n                  <br />\n                  <Media className=\"mt-1\">\n                    {item.image && item.image.thumb &&\n                      <Media left middle>\n                        <Media\n                          object\n                          data-src={item.image.thumb}\n                          src={item.image.thumb}\n                          alt={item.name}\n                          title={item.name}\n                        />\n                      </Media>\n                    }\n                    <Media body>\n                      <Media>\n                        <p>{item.description}</p>\n                      </Media>\n                    </Media>\n                  </Media>\n                </span>\n              </ListGroupItem>\n            );\n          })}\n        </ListGroup>\n      );\n    } else {\n      return(\n        <em className=\"text-danger\">Please add a highlight.</em>\n      );\n    }\n  }\n\n  renderTourSections() {\n    if(this.state.tour && this.state.tour.sections && this.state.tour.sections.length > 0) {\n      return(\n        <ListGroup>\n          {this.state.tour.sections.map((item, index) => {\n            return(\n              <ListGroupItem key={index}>\n                <span>\n                  <Label className=\"pointer header-label text-info-v2\" onClick={this.editSection} data-id={index}><Fa icon={item.iconName} /> {item.name}</Label>\n                  <span onClick={this.removeSection} className=\"text-muted pull-right-v2\" data-id={index}><Fa icon=\"times\" /></span>\n                  <br />\n                  {item.description}\n                </span>\n              </ListGroupItem>\n            );\n          })}\n        </ListGroup>\n      );\n    } else {\n      return(\n        <em className=\"text-danger\">Please add a section.</em>\n      );\n    }\n  }\n\n  renderTourAddons() {\n    if(this.state.tour && this.state.tour.addons && this.state.tour.addons.length > 0) {\n      return(\n        <ListGroup>\n          {this.state.tour.addons.map((item, index) => {\n            return(\n              <ListGroupItem key={index}>\n                <span>\n                  <Label className=\"pointer header-label text-info-v2\" onClick={this.editAddon} data-id={index}>{item.name}</Label>\n                  <span className=\"pointer text-muted pull-right-v2\" onClick={this.removeAddon} data-id={index}><Fa icon=\"times\" /></span><br />\n                  <Media className=\"mt-1\">\n                    {item.image && item.image.thumb &&\n                      <Media left middle>\n                        <Media\n                          object\n                          data-src={item.image.thumb}\n                          src={item.image.thumb}\n                          alt={item.name}\n                          title={item.name}\n                        />\n                      </Media>\n                    }\n                    <Media body>\n                      <Media>\n                        <Label className=\"text-navy\">&#8369;{numberWithCommas(item.price)}</Label>\n                      </Media>\n                      <Media>\n                        <p>{item.description}</p>\n                      </Media>\n                    </Media>\n                  </Media>  \n                </span>\n              </ListGroupItem>\n            );\n          })}\n        </ListGroup>\n      );\n    } else {\n      return(\n        <em className=\"text-danger\">Please add an addon.</em>\n      );\n    }\n  }\n\n  renderAddHighlightModal() {\n    return (\n      <Modal className=\"modal-lg\" isOpen={this.state.addHighlightModalOpen} toggle={this.toggleAddHighlightModal} backdrop=\"static\">\n        <div className=\"modal-header\">\n          <h4 className=\"modal-title\">Add Tour Highlight</h4>\n          <button type=\"button\" className=\"close\" onClick={this.toggleAddHighlightModal} aria-label=\"Close\" style={{color:\"rgba(0, 0, 0, 0.6)\"}}><span aria-hidden=\"true\">×</span></button>\n        </div>\n        <ModalBody>\n          <form action=\"\">\n            <Col sm=\"12\">\n              <Row>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedHighlight && !this.state.highlight.name ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"name\" className=\"control-label\">Tour Highlight <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"name\"\n                      name=\"name\"\n                      placeholder=\"Highlight\"\n                      type=\"text\"\n                      defaultValue={this.state.highlight.name}\n                      onChange={this.handleChangeHighlight}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"image\" className=\"control-label\">Image</label>\n                    <div style={{ border: '1px solid #ccc', borderRadius: '3px', padding: '3px' }}>\n                      <Input name=\"images\" label='upload file' type='file' onChange={this.handleFileUploadHighlight} style={{ position:'relative', cursor: 'pointer' }} />\n                    </div>\n                    {this.state.highlight.image && this.state.highlight.image.thumb &&\n                      <div className=\"item-image\" style={{border:'0',padding:'10px'}}>\n                        <img alt={this.state.highlight.name} title={this.state.highlight.name} src={this.state.highlight.image.thumb}/>\n                        <button type=\"button\" onClick={this.removeImageHighlight} className=\"remove-image-tour\"><span style={{color:'#fefefe'}}>&times;</span></button>\n                      </div>\n                    }\n                    {this.state.isUploadingHighlight &&\n                      <div className=\"item-image\" style={{border:'0',padding:'10px'}}>\n                        <SyncLoader\n                          sizeUnit={\"px\"}\n                          size={15}\n                          color={\"#1d8cf8\"}\n                          loading={this.state.isUploadingHighlight}\n                        />\n                      </div>\n                    }\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\" md=\"6\" lg=\"6\">\n                  <FormGroup className={ this.state.submittedHighlight && !this.state.highlight.order ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"order\" className=\"control-label\">Order <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"order\"\n                      name=\"order\"\n                      placeholder=\"Order\"\n                      type=\"number\"\n                      defaultValue={this.state.highlight.order}\n                      onChange={this.handleChangeHighlight}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\" md=\"6\" lg=\"6\">\n                  <FormGroup className={ this.state.submittedHighlight && !this.state.highlight.day ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"day\" className=\"control-label\">Day <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"day\"\n                      name=\"day\"\n                      placeholder=\"Day\"\n                      type=\"number\"\n                      defaultValue={this.state.highlight.day}\n                      onChange={this.handleChangeHighlight}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\" md=\"6\" lg=\"6\">\n                  <FormGroup className={ this.state.submittedHighlight && !this.state.highlight.dateTime ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"dateTime\" className=\"control-label\" style={{display:'block'}}>\n                      Date Time:\n                    </label>\n                    <DatePicker\n                      id=\"dateTime\"\n                      name=\"dateTime\"\n                      className=\"form-control\"\n                      autoComplete=\"off\"\n                      selectsStart\n                      startDate={this.state.dateStart}\n                      minDate={this.state.dateNow}\n                      selected={this.state.highlight.dateTime}\n                      onChange={this.handleChangeDateTime}\n                      showTimeSelect\n                      timeFormat=\"HH:mm\"\n                      timeIntervals={15}\n                      timeCaption=\"time\"\n                      dateFormat=\"MMM d, yyyy h:mm aa\"\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"description\" className=\"control-label\">Description</label>\n                    <Input\n                      id=\"description\"\n                      name=\"description\"\n                      placeholder=\"Description\"\n                      type=\"textarea\"\n                      defaultValue={this.state.highlight.description}\n                      onChange={this.handleChangeHighlight}\n                    />\n                  </FormGroup>\n                </Col>\n              </Row>\n            </Col>\n          </form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"info\" onClick={this.handleAddHighlight}>Add</Button>{' '}\n            {this.state.addingHighlight && (\n              <img\n                alt=\"loading\"\n                src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n              />\n            )}\n          <Button color=\"secondary\" onClick={this.toggleAddHighlightModal}>Cancel</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n\n  toggleAddHighlightModal = () => {\n    if(this.state.addHighlightModalOpen) {\n      if (!window.confirm(\"Do you want to discard this highlight?\")){\n        return false;\n      }\n    }\n    let highlightsLength = 1;\n    let { highlights } = this.state.tour;\n    if(highlights instanceof Array && highlights.length > 0) {\n      highlightsLength = highlights.length + 1;\n    }\n    this.setState(prevState => ({\n      submittedHighlight: false,\n      addHighlightModalOpen: !prevState.addHighlightModalOpen,\n      highlight: {\n        name: \"\",\n        order: highlightsLength,\n        day: 1,\n        image: \"\",\n        description: \"\",\n        dateTime: new Date(),\n      }\n    }));\n  }\n\n  renderEditHighlightModal() {\n    return (\n      <Modal className=\"modal-lg\" isOpen={this.state.editHighlightModalOpen} toggle={this.toggleEditHighlightModal} backdrop=\"static\">\n        <div className=\"modal-header\">\n          <h4 className=\"modal-title\">Edit Tour Highlight - <em className=\"text-info\">{this.state.highlightEdit.name}</em></h4>\n          <button type=\"button\" className=\"close\" onClick={this.toggleEditHighlightModal} aria-label=\"Close\" style={{color:\"rgba(0, 0, 0, 0.6)\"}}><span aria-hidden=\"true\">×</span></button>\n        </div>\n        <ModalBody>\n          <form action=\"\">\n            <Col sm=\"12\">\n              <Row>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedHighlightEdit && !this.state.highlightEdit.name ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"name\" className=\"control-label\">Tour Highlight <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"name\"\n                      name=\"name\"\n                      placeholder=\"Highlight\"\n                      type=\"text\"\n                      defaultValue={this.state.highlightEdit.name}\n                      onChange={this.handleChangeHighlightEdit}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"image\" className=\"control-label\">Image</label>\n                    <div style={{ border: '1px solid #ccc', borderRadius: '3px', padding: '3px' }}>\n                      <Input name=\"images\" label='upload file' type='file' onChange={this.handleFileUploadHighlightEdit} style={{ position:'relative', cursor: 'pointer' }} />\n                    </div>\n                    {this.state.highlightEdit.image && this.state.highlightEdit.image.thumb &&\n                      <div className=\"item-image\" style={{border:'0',padding:'10px'}}>\n                        <img alt={this.state.highlightEdit.name} title={this.state.highlightEdit.name} src={this.state.highlightEdit.image.thumb}/>\n                        <button type=\"button\" onClick={this.removeImageHighlightEdit} className=\"remove-image-tour\"><span style={{color:'#fefefe'}}>&times;</span></button>\n                      </div>\n                    }\n                    {this.state.isUploadingHighlight &&\n                      <div className=\"item-image\" style={{border:'0',padding:'10px'}}>\n                        <SyncLoader\n                          sizeUnit={\"px\"}\n                          size={15}\n                          color={'#1d8cf8'}\n                          loading={this.state.isUploadingHighlight}\n                        />\n                      </div>\n                    }\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\" md=\"6\" lg=\"6\">\n                  <FormGroup className={ this.state.submittedHighlightEdit && !this.state.highlightEdit.order ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"order\" className=\"control-label\">Order <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"order\"\n                      name=\"order\"\n                      placeholder=\"Order\"\n                      type=\"number\"\n                      defaultValue={this.state.highlightEdit.order}\n                      onChange={this.handleChangeHighlightEdit}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\" md=\"6\" lg=\"6\">\n                  <FormGroup className={ this.state.submittedHighlightEdit && !this.state.highlightEdit.day ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"day\" className=\"control-label\">Day <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"day\"\n                      name=\"day\"\n                      placeholder=\"Day\"\n                      type=\"number\"\n                      defaultValue={this.state.highlightEdit.day}\n                      onChange={this.handleChangeHighlightEdit}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\" md=\"6\" lg=\"6\">\n                  <FormGroup className={ this.state.highlightEdit && !this.state.highlightEdit.dateTime ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"dateTime\" className=\"control-label\" style={{display:'block'}}>\n                      Date Time:\n                    </label>\n                    <DatePicker\n                      id=\"dateTime\"\n                      name=\"dateTime\"\n                      className=\"form-control\"\n                      autoComplete=\"off\"\n                      selectsStart\n                      startDate={this.state.dateStart}\n                      minDate={this.state.dateNow}\n                      selected={this.state.highlightEdit.dateTime}\n                      onChange={this.handleChangeDateTimeEdit}\n                      showTimeSelect\n                      timeFormat=\"HH:mm\"\n                      timeIntervals={15}\n                      timeCaption=\"time\"\n                      dateFormat=\"MMM d, yyyy h:mm aa\"\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"description\" className=\"control-label\">Description</label>\n                    <Input\n                      id=\"description\"\n                      name=\"description\"\n                      placeholder=\"Description\"\n                      type=\"textarea\"\n                      defaultValue={this.state.highlightEdit.description}\n                      onChange={this.handleChangeHighlightEdit}\n                    />\n                  </FormGroup>\n                </Col>\n              </Row>\n            </Col>\n          </form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"info\" onClick={this.handleEditHighlight}>Save</Button>{' '}\n            {this.state.editingHighlight && (\n              <img\n                alt=\"loading\"\n                src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n              />\n            )}\n          <Button color=\"secondary\" onClick={this.toggleEditHighlightModal}>Cancel</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n\n  editHighlight = (e) => {\n    const itemIndex = Number(e.currentTarget.dataset.id);\n    const { highlights } = this.state.tour;\n    if(highlights instanceof Array && highlights.length > 0) {\n      const highlight = highlights.find((item, index) => index === itemIndex);\n      this.setState(prevState => ({ \n        submittedHighlightEdit: false,\n        editHighlightModalOpen: !prevState.editHighlightModalOpen,\n        highlightEdit: {\n          index: itemIndex,\n          name: highlight.name ? highlight.name : \"\",\n          order: highlight.order ? highlight.order : \"\",\n          day: highlight.day ? highlight.day : \"\",\n          image: highlight.image ? highlight.image : \"\",\n          description: highlight.description ? highlight.description : \"\",\n          dateTime: highlight.dateTime ?  new Date(highlight.dateTime) : new Date(),\n        } \n      }));\n    }\n  }\n\n  toggleEditHighlightModal = () => {\n    if(this.state.editHighlightModalOpen === true) {\n      if (!window.confirm(\"Do you want to discard these changes?\")){\n        return false;\n      }\n    }\n    this.setState(prevState => ({\n      submittedHighlightEdit: false,\n      editHighlightModalOpen: !prevState.editHighlightModalOpen,\n      highlight: {\n        name: \"\",\n        order: \"\",\n        day: \"\",\n        image: {},\n        description: \"\",\n        dateTime: new Date(),\n      }\n    }));\n  }\n\n  removeHighlight = (e) => {\n    if (!window.confirm(\"Do you want to remove this highlight?\")){\n      return false;\n    }\n    const itemIndex = Number(e.currentTarget.dataset.id);\n    const { highlights } = this.state.tour;\n    if(highlights instanceof Array && highlights.length > 0) {\n      const newHighlights = highlights.filter((item, index) => index !== itemIndex);\n      this.setState({\n        tour: {\n          ...this.state.tour,\n          highlights: newHighlights\n        },\n      })\n    }\n  }\n\n  renderAddSectionModal() {\n    return (\n      <Modal className=\"modal-lg\" isOpen={this.state.addSectionModalOpen} toggle={this.toggleAddSectionModal} backdrop=\"static\">\n        <div className=\"modal-header\">\n          <h4 className=\"modal-title\">Add Tour Section</h4>\n          <button type=\"button\" className=\"close\" onClick={this.toggleAddSectionModal} aria-label=\"Close\" style={{color:\"rgba(0, 0, 0, 0.6)\"}}><span aria-hidden=\"true\">×</span></button>\n        </div>\n        <ModalBody>\n          <form action=\"\">\n            <Col sm=\"12\">\n              <Row>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedSection && !this.state.section.name ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"name\" className=\"control-label\">Tour Section <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"name\"\n                      name=\"name\"\n                      placeholder=\"Section Name\"\n                      type=\"text\"\n                      defaultValue={this.state.section.name}\n                      onChange={this.handleChangeSection}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedSection && !this.state.section.order ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"price\" className=\"control-label\">Order <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"order\"\n                      name=\"order\"\n                      placeholder=\"Order\"\n                      type=\"number\"\n                      defaultValue={this.state.section.order}\n                      onChange={this.handleChangeSection}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedSection && !this.state.section.route ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"route\" className=\"control-label\">Route <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"route\"\n                      name=\"route\"\n                      placeholder=\"Section Route\"\n                      type=\"text\"\n                      defaultValue={this.state.section.route}\n                      onChange={this.handleChangeSection}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedSection && !this.state.section.iconName ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"location\" className=\"control-label\">Icon <em className=\"text-muted\">(Required)</em></label>\n                    <Select\n                      className=\"react-select\"\n                      styles={{fontSize:'13px !important'}}\n                      options={options}\n                      onChange={this.handleChangeSectionIcon}\n                      placeholder=\"Select icon\"\n                      defaultValue={options.filter(item => item.value === this.state.section.iconName)}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col className=\"pr-md-1\" sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"image\" className=\"control-label\">Image</label>\n                    <div style={{ border: '1px solid #ccc', borderRadius: '3px', padding: '3px' }}>\n                      <Input name=\"images\" label='upload file' type='file' onChange={this.handleFileUploadSection} style={{ position:'relative', cursor: 'pointer' }} />\n                    </div>\n                    {this.state.section.map && this.state.section.map.thumb &&\n                      <div className=\"item-image\" style={{border:'0',padding:'10px'}}>\n                        <img alt={this.state.section.name} title={this.state.section.name} src={this.state.section.map.thumb}/>\n                        <button type=\"button\" onClick={this.removeImageSection} className=\"remove-image-tour\"><span style={{color:'#fefefe'}}>&times;</span></button>\n                      </div>\n                    }\n                    {this.state.isUploadingSection &&\n                      <div className=\"item-image\" style={{border:'0',padding:'10px'}}>\n                        <SyncLoader\n                          sizeUnit={\"px\"}\n                          size={15}\n                          color={\"#1d8cf8\"}\n                          loading={this.state.isUploadingSection}\n                        />\n                      </div>\n                    }\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"title\" className=\"control-label\">Title</label>\n                    <Input\n                      id=\"title\"\n                      name=\"title\"\n                      placeholder=\"Section Title\"\n                      type=\"text\"\n                      defaultValue={this.state.section.title}\n                      onChange={this.handleChangeSection}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"text\" className=\"control-label\">Text</label>\n                    <Input\n                      id=\"text\"\n                      name=\"text\"\n                      placeholder=\"Section Text\"\n                      type=\"textarea\"\n                      defaultValue={this.state.section.text}\n                      onChange={this.handleChangeSection}\n                    />\n                  </FormGroup>\n                </Col>\n              </Row>\n            </Col>\n          </form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"info\" onClick={this.handleAddSection}>Add</Button>{' '}\n            {this.state.addingSection && (\n              <img\n                alt=\"loading\"\n                src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n              />\n            )}\n          <Button color=\"secondary\" onClick={this.toggleAddSectionModal}>Cancel</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n\n  toggleAddSectionModal = () => {\n    let sectionsLength = 1;\n    let { sections } = this.state.tour;\n    if(sections instanceof Array && sections.length > 0) {\n      sectionsLength = sections.length + 1;\n    }\n    this.setState(prevState => ({\n      addSectionModalOpen: !prevState.addSectionModalOpen,\n      section: {\n        name: \"\",\n        order: sectionsLength,\n        route: \"\",\n        iconName: \"\",\n        iconType: \"FontAwesome\",\n        map: {},\n        title: \"\",\n        text: \"\",\n      }\n    }));\n  }\n\n  renderEditSectionModal() {\n    return (\n      <Modal className=\"modal-lg\" isOpen={this.state.editSectionModalOpen} toggle={this.toggleEditSectionModal} backdrop=\"static\">\n        <div className=\"modal-header\">\n          <h4 className=\"modal-title\">Edit Tour Section - <em>{this.state.sectionEdit.name}</em></h4>\n          <button type=\"button\" className=\"close\" onClick={this.toggleEditSectionModal} aria-label=\"Close\" style={{color:\"rgba(0, 0, 0, 0.6)\"}}><span aria-hidden=\"true\">×</span></button>\n        </div>\n        <ModalBody>\n          <form action=\"\">\n            <Col sm=\"12\">\n              <Row>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedSectionEdit && !this.state.sectionEdit.name ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"name\" className=\"control-label\">Tour Section <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"name\"\n                      name=\"name\"\n                      placeholder=\"Section Name\"\n                      type=\"text\"\n                      defaultValue={this.state.sectionEdit.name}\n                      onChange={this.handleChangeSectionEdit}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedSection && !this.state.sectionEdit.order ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"price\" className=\"control-label\">Order <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"order\"\n                      name=\"order\"\n                      placeholder=\"Order\"\n                      type=\"number\"\n                      defaultValue={this.state.sectionEdit.order}\n                      onChange={this.handleChangeSectionEdit}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedSectionEdit && !this.state.sectionEdit.route ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"route\" className=\"control-label\">Route <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"route\"\n                      name=\"route\"\n                      placeholder=\"Section Route\"\n                      type=\"text\"\n                      defaultValue={this.state.sectionEdit.route}\n                      onChange={this.handleChangeSectionEdit}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedSectionEdit && !this.state.sectionEdit.iconName ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"location\" className=\"control-label\">Icon <em className=\"text-muted\">(Required)</em></label>\n                    <Select\n                      className=\"react-select\"\n                      styles={{fontSize:'13px !important'}}\n                      options={options}\n                      onChange={this.handleChangeSectionIconEdit}\n                      placeholder=\"Select icon\"\n                      defaultValue={options.filter(item => item.value === this.state.sectionEdit.iconName)}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col className=\"pr-md-1\" sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"image\" className=\"control-label\">Image</label>\n                    <div style={{ border: '1px solid #ccc', borderRadius: '3px', padding: '3px' }}>\n                      <Input name=\"images\" label='upload file' type='file' onChange={this.handleFileUploadSectionEdit} style={{ position:'relative', cursor: 'pointer' }} />\n                    </div>\n                    {this.state.sectionEdit.map && this.state.sectionEdit.map.thumb &&\n                      <div className=\"item-image\" style={{border:'0',padding:'10px'}}>\n                        <img alt={this.state.sectionEdit.name} title={this.state.sectionEdit.name} src={this.state.sectionEdit.map.thumb}/>\n                        <button type=\"button\" onClick={this.removeImageSectionEdit} className=\"remove-image-tour\"><span style={{color:'#fefefe'}}>&times;</span></button>\n                      </div>\n                    }\n                    {this.state.isUploadingSection &&\n                      <div className=\"item-image\" style={{border:'0',padding:'10px'}}>\n                        <SyncLoader\n                          sizeUnit={\"px\"}\n                          size={15}\n                          color={\"#1d8cf8\"}\n                          loading={this.state.isUploadingSection}\n                        />\n                      </div>\n                    }\n                  </FormGroup>\n                </Col>\n\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"title\" className=\"control-label\">Title</label>\n                    <Input\n                      id=\"title\"\n                      name=\"title\"\n                      placeholder=\"Section Title\"\n                      type=\"text\"\n                      defaultValue={this.state.sectionEdit.title}\n                      onChange={this.handleChangeSectionEdit}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"text\" className=\"control-label\">Text</label>\n                    <Input\n                      id=\"text\"\n                      name=\"text\"\n                      placeholder=\"Section Text\"\n                      type=\"textarea\"\n                      defaultValue={this.state.sectionEdit.text}\n                      onChange={this.handleChangeSectionEdit}\n                    />\n                  </FormGroup>\n                </Col>\n              </Row>\n            </Col>\n          </form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"info\" onClick={this.handleEditSection}>Save</Button>{' '}\n            {this.state.editingSection && (\n              <img\n                alt=\"loading\"\n                src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n              />\n            )}\n          <Button color=\"secondary\" onClick={this.toggleEditSectionModal}>Cancel</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n\n  toggleEditSectionModal = () => {\n    if(this.state.editSectionModalOpen === true) {\n      if (!window.confirm(\"Do you want to discard these changes?\")){\n        return false;\n      }\n    }\n    this.setState(prevState => ({\n      editSectionModalOpen: !prevState.editSectionModalOpen,\n      submittedSectionEdit: false,\n      sectionEdit: {\n        index: \"\",\n        name: \"\",\n        order: \"\",\n        route: \"\",\n        iconName: \"\",\n        map: {},\n        title: \"\",\n        text: \"\",\n      }\n    }));\n  }\n\n  editSection = (e) => {\n    let sectionsLength = 1;\n    const itemIndex = Number(e.currentTarget.dataset.id);\n    let { sections } = this.state.tour;\n    if(sections instanceof Array && sections.length > 0) {\n      sectionsLength = sections.length + 1;\n      const section = sections.find((item, index) => index === itemIndex);\n      const data = (section.data instanceof Array && section.data.length > 0) ? section.data[0] : null;\n      this.setState(prevState => ({\n        editSectionModalOpen: !prevState.editSectionModalOpen,\n        submittedSectionEdit: false,\n        sectionEdit: {\n          index: itemIndex,\n          name: section.name ? section.name : \"\",\n          order: section.order ? section.order : sectionsLength,\n          route: section.route ? section.route : \"\",\n          iconName: section.iconName ? section.iconName : \"\",\n          map: section.map ? section.map : {},\n          title: (data && data.title) ? data.title : \"\",\n          text: (data && data.text) ? data.text : \"\",\n        }\n      }));\n    }\n  }\n\n  removeSection = (e) => {\n    if (!window.confirm(\"Are you sure you want to remove this section?\")){\n      return false;\n    }\n    const itemIndex = Number(e.currentTarget.dataset.id);\n    const { sections } = this.state.tour;\n    if(sections instanceof Array && sections.length > 0) {\n      const newSections = sections.filter((item, index) => index !== itemIndex);\n      this.setState({\n        tour: {\n          ...this.state.tour,\n          sections: newSections\n        }\n      })\n    }\n  }\n\n  renderAddTourAddonModal() {\n    return (\n      <Modal isOpen={this.state.addAddonModalOpen} toggle={this.toggleAddAddonModal} backdrop=\"static\">\n        <div className=\"modal-header\">\n          <h4 className=\"modal-title\">Add Tour Addon</h4>\n          <button type=\"button\" className=\"close\" onClick={this.toggleAddAddonModal} aria-label=\"Close\" style={{color:\"rgba(0, 0, 0, 0.6)\"}}><span aria-hidden=\"true\">×</span></button>\n        </div>\n        <ModalBody>\n          <form action=\"\">\n            <Col sm=\"12\">\n              <Row>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedAddon && !this.state.addon.name ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"name\" className=\"control-label\">Title <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"name\"\n                      name=\"name\"\n                      placeholder=\"Name\"\n                      type=\"text\"\n                      defaultValue={this.state.addon.name}\n                      onChange={this.handleChangeAddon}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"image\" className=\"control-label\">Image</label>\n                    <div style={{ border: '1px solid #ccc', borderRadius: '3px', padding: '3px' }}>\n                      <Input name=\"images\" label='upload file' type='file' onChange={this.handleFileUploadAddon} style={{ position:'relative', cursor: 'pointer' }} />\n                    </div>\n                    {this.state.addon.image && this.state.addon.image.thumb &&\n                      <div className=\"item-image\" style={{border:'0',padding:'10px'}}>\n                        <img alt={this.state.addon.name} title={this.state.addon.name} src={this.state.addon.image.thumb}/>\n                        <button type=\"button\" onClick={this.removeImageAddon} className=\"remove-image-tour\"><span style={{color:'#fefefe'}}>&times;</span></button>\n                      </div>\n                    }\n                    {this.state.isUploadingAddon &&\n                      <div className=\"item-image\" style={{border:'0',padding:'10px'}}>\n                        <SyncLoader\n                          sizeUnit={\"px\"}\n                          size={15}\n                          color={'#1d8cf8'}\n                          loading={this.state.isUploadingAddon}\n                        />\n                      </div>\n                    }\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedAddon && !this.state.addon.price ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"price\" className=\"control-label\">Price <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"price\"\n                      name=\"price\"\n                      placeholder=\"&#8369;\"\n                      type=\"text\"\n                      defaultValue={this.state.addon.price}\n                      onChange={this.handleChangeAddon}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"addon-type\" className=\"control-label\">Type:</label>\n                    <Input\n                      id=\"addon-type\"\n                      name=\"type\"\n                      type=\"select\"\n                      onChange={this.handleChangeAddon}\n                      value={this.state.addon.type}\n                    >\n                      <option value=\"group\">Group</option>\n                      <option value=\"person\">Person</option>\n                    </Input>\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"description\" className=\"control-label\">Description</label>\n                    <Input\n                      id=\"description\"\n                      name=\"description\"\n                      placeholder=\"Description\"\n                      type=\"textarea\"\n                      defaultValue={this.state.addon.description}\n                      onChange={this.handleChangeAddon}\n                    />\n                  </FormGroup>\n                </Col>\n              </Row>\n            </Col>\n          </form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"info\" onClick={this.handleAddAddon}>Add</Button>{' '}\n            {this.state.addingAddon && (\n              <img\n                alt=\"loading\"\n                src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n              />\n            )}\n          <Button color=\"secondary\" onClick={this.toggleAddAddonModal}>Cancel</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n\n  renderEditTourAddonModal() {\n    return (\n      <Modal className=\"modal-lg\" isOpen={this.state.editAddonModalOpen} toggle={this.toggleEditAddonModal} backdrop=\"static\">\n        <div className=\"modal-header\">\n          <h4 className=\"modal-title\">Edit Tour Addon - <em className=\"text-info\">{this.state.addonEdit.name}</em></h4>\n          <button type=\"button\" className=\"close\" onClick={this.toggleEditAddonModal} aria-label=\"Close\" style={{color:\"rgba(0, 0, 0, 0.6)\"}}><span aria-hidden=\"true\">×</span></button>\n        </div>\n        <ModalBody>\n          <form action=\"\">\n            <Col sm=\"12\">\n              <Row>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedAddonEdit && !this.state.addonEdit.name ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"name\" className=\"control-label\">Title <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"name\"\n                      name=\"name\"\n                      placeholder=\"Name\"\n                      type=\"text\"\n                      defaultValue={this.state.addonEdit.name}\n                      onChange={this.handleChangeAddonEdit}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"image\" className=\"control-label\">Image</label>\n                    <div style={{ border: '1px solid #ccc', borderRadius: '3px', padding: '3px' }}>\n                      <Input name=\"images\" label='upload file' type='file' onChange={this.handleFileUploadAddonEdit} style={{ position:'relative', cursor: 'pointer' }} />\n                    </div>\n                    {this.state.addonEdit.image && this.state.addonEdit.image.thumb &&\n                      <div className=\"item-image\" style={{border:'0',padding:'10px'}}>\n                        <img alt={this.state.addonEdit.name} title={this.state.addonEdit.name} src={this.state.addonEdit.image.thumb}/>\n                        <button type=\"button\" onClick={this.removeImageAddonEdit} className=\"remove-image-tour\"><span style={{color:'#fefefe'}}>&times;</span></button>\n                      </div>\n                    }\n                    {this.state.isUploadingAddon &&\n                      <div className=\"item-image\" style={{border:'0',padding:'10px'}}>\n                        <SyncLoader\n                          sizeUnit={\"px\"}\n                          size={15}\n                          color={'#1d8cf8'}\n                          loading={this.state.isUploadingAddon}\n                        />\n                      </div>\n                    }\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup className={ this.state.submittedAddonEdit && !this.state.addonEdit.price ? \" has-danger\" : \"\" }>\n                    <label htmlFor=\"price\" className=\"control-label\">Price <em className=\"text-muted\">(Required)</em></label>\n                    <Input\n                      id=\"price\"\n                      name=\"price\"\n                      placeholder=\"&#8369;\"\n                      type=\"text\"\n                      defaultValue={this.state.addonEdit.price}\n                      onChange={this.handleChangeAddonEdit}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"addon-type\" className=\"control-label\">Type:</label>\n                    <Input\n                      id=\"addon-type\"\n                      name=\"type\"\n                      type=\"select\"\n                      onChange={this.handleChangeAddonEdit}\n                      value={this.state.addonEdit.type}\n                    >\n                      <option value=\"group\">Group</option>\n                      <option value=\"person\">Person</option>\n                    </Input>\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <label htmlFor=\"description\" className=\"control-label\">Description</label>\n                    <Input\n                      id=\"description\"\n                      name=\"description\"\n                      placeholder=\"Description\"\n                      type=\"textarea\"\n                      defaultValue={this.state.addonEdit.description}\n                      onChange={this.handleChangeAddonEdit}\n                    />\n                  </FormGroup>\n                </Col>\n              </Row>\n            </Col>\n          </form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"info\" onClick={this.handleEditAddon}>Save</Button>{' '}\n            {this.state.editingAddon && (\n              <img\n                alt=\"loading\"\n                src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n              />\n            )}\n          <Button color=\"secondary\" onClick={this.toggleEditAddonModal}>Cancel</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n\n  editAddon = (e) => {\n    const itemIndex = Number(e.currentTarget.dataset.id);\n    const { addons } = this.state.tour;\n    if(addons instanceof Array && addons.length > 0) {\n      const addon = addons.find((item, index) => index === itemIndex);\n      this.setState(prevState => ({ \n        submittedAddonEdit: false,\n        editAddonModalOpen: !prevState.editAddonModalOpen,\n        addonEdit: {\n          index: itemIndex,\n          name: addon.name ? addon.name : \"\",\n          image: addon.image ? addon.image : \"\",\n          price: addon.price ? addon.price : \"0\",\n          type: addon.type ? addon.type : \"group\",\n          description: addon.description ? addon.description : \"\",\n        } \n      }));\n    }\n  }\n\n  toggleAddAddonModal = () => {\n    this.setState(prevState => ({\n      addAddonModalOpen: !prevState.addAddonModalOpen,\n      addon: {\n        name: \"\",\n        image: {},\n        price: \"0\",\n        description: \"\",\n      }\n    }));\n  }\n\n  toggleEditAddonModal = () => {\n    this.setState(prevState => ({\n      editAddonModalOpen: !prevState.editAddonModalOpen,\n      addonEdit: {\n        name: \"\",\n        image: {},\n        price: \"0\",\n        description: \"\",\n      }\n    }));\n  }\n\n  removeAddon = (e) => {\n    if (!window.confirm(\"Are you sure you sure you want to remove this addon?\")){\n      return false;\n    }\n    const itemIndex = Number(e.currentTarget.dataset.id);\n    const { addons } = this.state.tour;\n    if(addons instanceof Array && addons.length > 0) {\n      const newAddons = addons.filter((item, index) => index !== itemIndex);\n      this.setState({\n        tour: {\n          ...this.state.tour,\n          addons: newAddons\n        }\n      })\n    }\n  }\n\n  render() {\n    const userData = JSON.parse(getSession(\"userData\"));\n\n    if(!userData) {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n\n    let { submitted } = this.state;\n\n    if(this.state.isLoading) {\n      return (\n        <>\n          <div className=\"content\">\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">Edit Tour</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <PulseLoader\n                      sizeUnit={\"px\"}\n                      size={15}\n                      color={'#1d8cf8'}\n                      loading={this.state.isLoading}\n                    />\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </>\n      );\n    } else {\n      if(this.state.tour) {\n        return (\n          <>\n            <div className=\"content\">\n              <div className=\"react-notification-alert-container\">\n                <NotificationAlert ref=\"notify\" />\n              </div>\n              <Row>\n                <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Alert color=\"info\" isOpen={this.state.messageOpen} toggle={this.onAlertDismiss}>\n                  {this.state.message}\n                </Alert>\n                </Col>\n                <Col sm=\"12\" md=\"12\" lg=\"12\">\n                  <Card>\n                    <Form onSubmit={this.handleSubmit} onKeyPress={this.onKeyPress}>\n                      <CardHeader>\n                        <h3 className=\"title\">Edit Tour - <em className=\"text-info\">{this.state.tour.name}</em></h3>\n                      </CardHeader>\n                      <CardBody>\n                        <Row style={{marginBottom:'20px'}}>\n                          <Col sm=\"12\" md=\"3\" lg=\"3\">\n                            <legend>General</legend>\n                            <p>Change general information for this tour.</p>\n                          </Col>\n                          <Col sm=\"12\" md=\"9\" lg=\"9\">\n                            <Row>\n                              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                                <FormGroup className={submitted && !this.state.tour.name ? \" has-danger\" : \"\" }>\n                                  <label htmlFor=\"name\" className=\"control-label\">\n                                    Tour Name <em className=\"text-muted\">(Required)</em>\n                                  </label>\n                                  <Input\n                                    id=\"name\"\n                                    name=\"name\"\n                                    placeholder=\"Tour Name\"\n                                    type=\"text\"\n                                    defaultValue={this.state.tour.name}\n                                    onChange={this.handleChange}\n                                  />\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                                <Row>\n                                  <Col className=\"pr-md-1\" md=\"4\">\n                                    <FormGroup className={ submitted && !this.state.tour.numberOfPax ? \" has-danger\" : \"\" }>\n                                      <label htmlFor=\"price\" className=\"control-label\">\n                                        No. of Pax <em className=\"text-muted\">(Required)</em>\n                                      </label>\n                                      <Input\n                                        id=\"numberOfPax\"\n                                        name=\"numberOfPax\"\n                                        placeholder=\"No. of Pax\"\n                                        type=\"number\"\n                                        defaultValue={this.state.tour.numberOfPax}\n                                        onChange={this.handleChange}\n                                      />\n                                    </FormGroup>\n                                  </Col>\n                                  <Col className=\"px-md-1\" md=\"4\">\n                                    <FormGroup className={ submitted && !this.state.tour.price ? \" has-danger\" : \"\" }>\n                                      <label htmlFor=\"price\" className=\"control-label\">\n                                        Price <em className=\"text-muted\">(Required)</em>\n                                      </label>\n                                      <Input\n                                        id=\"price\"\n                                        name=\"price\"\n                                        placeholder=\"&#8369;\"\n                                        type=\"text\"\n                                        defaultValue={this.state.tour.price}\n                                        onChange={this.handleChange}\n                                      />\n                                    </FormGroup>\n                                  </Col>\n                                  <Col className=\"pl-md-1\" md=\"4\">\n                                    <FormGroup>\n                                      <label htmlFor=\"compare-price\" className=\"control-label\">Compare Price</label>\n                                      <Input\n                                        id=\"comparePrice\"\n                                        name=\"comparePrice\"\n                                        placeholder=\"&#8369;\"\n                                        type=\"text\"\n                                        defaultValue={this.state.tour.comparePrice}\n                                        onChange={this.handleChange}\n                                      />\n                                    </FormGroup>\n                                  </Col>\n                                </Row>\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col sm=\"12\" md=\"6\" lg=\"6\">\n                                <FormGroup>\n                                  <label htmlFor=\"images\"><strong>Upload Photo</strong></label>\n                                  <div className=\"upload-photo\" style={{ margin: '10px auto', border: '1px solid #ccc', 'backgroundColor': '#efefef' }}>\n                                  <Input name=\"images\" label='upload file' type='file' onChange={this.handleFileUpload} style={divStyle} />\n                                    <ul className=\"product-photos\">\n                                      {this.state.tour.photos.length > 0 &&\n                                        <>\n                                          {this.state.tour.photos.map(({original, thumb, _id: id }) => \n                                            <li key={id} >\n                                              <img alt={original} title={id} src={thumb}/>\n                                              <button data-id={id} type=\"button\" onClick={this.removeImage} className=\"remove-image\"><span style={{color:'#fefefe'}}>&times;</span></button>\n                                            </li>\n                                          )}\n                                        </>\n                                      }\n                                      {this.state.isUploading &&\n                                        <li style={{border:'0',padding:'10px'}}>\n                                          <SyncLoader\n                                            sizeUnit={\"px\"}\n                                            size={15}\n                                            color={'#1d8cf8'}\n                                            loading={this.state.isUploading}\n                                          />\n                                        </li>\n                                      }\n                                    </ul> \n                                  </div>\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col md=\"12\">\n                                <FormGroup>\n                                  <label htmlFor=\"about\"><strong>About</strong></label>\n                                  <Input\n                                    style={{height: '200px'}}\n                                    id=\"about\"\n                                    name=\"about\"\n                                    placeholder=\"About\"\n                                    type=\"textarea\"\n                                    value={this.state.tour.about}\n                                    onChange={this.handleChange}\n                                  />\n                                </FormGroup>\n                              </Col>\n                            </Row>            \n                          </Col>\n                        </Row>\n                        <Row>\n                          <Col sm=\"12\" md=\"3\" lg=\"3\">\n                            <legend>Tour Settings</legend>\n                          </Col>\n                          <Col sm=\"12\" md=\"9\" lg=\"9\">\n                            <Row>\n                              <Col className=\"pr-md-1\" md=\"4\">\n                                <FormGroup className={ submitted && !this.state.tour.numberOfGroups ? \" has-danger\" : \"\" }>\n                                  <label htmlFor=\"price\" className=\"control-label\">No. of Groups <em className=\"text-muted\">(Required)</em></label>\n                                  <Input\n                                    id=\"numberOfGroups\"\n                                    name=\"numberOfGroups\"\n                                    placeholder=\"No. of Groups\"\n                                    type=\"number\"\n                                    defaultValue={this.state.tour.numberOfGroups}\n                                    onChange={this.handleChange}\n                                  />\n                                </FormGroup>\n                              </Col>\n                              <Col className=\"px-md-1\" md=\"4\">\n                                <FormGroup>\n                                  <label htmlFor=\"minNumber\" className=\"control-label\">Min. number</label>\n                                  <Input\n                                    id=\"minNumber\"\n                                    name=\"minNumber\"\n                                    placeholder=\"Min. number\"\n                                    type=\"number\"\n                                    defaultValue={this.state.tour.minNumber}\n                                    onChange={this.handleChange}\n                                  />\n                                </FormGroup>\n                              </Col>\n                              <Col className=\"pl-md-1\" md=\"4\">\n                                <FormGroup>\n                                  <label htmlFor=\"maxNumber\" className=\"control-label\">Max number</label>\n                                  <Input\n                                    id=\"maxNumber\"\n                                    name=\"maxNumber\"\n                                    placeholder=\"Nax number\"\n                                    type=\"number\"\n                                    defaultValue={this.state.tour.maxNumber}\n                                    onChange={this.handleChange}\n                                  />\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col sm=\"12\">\n                                <legend>Tour Highlights</legend>\n                              </Col>\n                              <Col sm=\"12\">\n                                {this.renderTourHighlights()}\n                              </Col>\n                              <Col sm=\"12\">\n                                <FormGroup>\n                                  <Button color=\"primary-v2\" className=\"btn-sm\" type=\"button\" onClick={this.toggleAddHighlightModal}><Fa icon=\"plus\" /> Add Highlight</Button>\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col sm=\"12\">\n                                <legend>Tour Sections</legend>\n                              </Col>\n                              <Col sm=\"12\">\n                                {this.renderTourSections()}\n                              </Col>\n                              <Col sm=\"12\">\n                                <FormGroup>\n                                  <Button color=\"primary-v2\" className=\"btn-sm\" type=\"button\" onClick={this.toggleAddSectionModal}><Fa icon=\"plus\" /> Add Section</Button>\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col sm=\"12\">\n                                <legend>Tour Addons</legend>\n                              </Col>\n                              <Col sm=\"12\">\n                                {this.renderTourAddons()}\n                              </Col>\n                              <Col sm=\"12\">\n                                <FormGroup>\n                                  <Button color=\"primary-v2\" className=\"btn-sm\" type=\"button\" onClick={this.toggleAddAddonModal}><Fa icon=\"plus\" /> Add Addon</Button>\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                          </Col>\n                        </Row>\n                      </CardBody>\n                      <CardFooter className=\"pull-right\">\n                        <Button color=\"info\" type=\"submit\">Save</Button>\n                        <Link to=\"/tours\" className=\"btn btn-light\">Cancel</Link>\n                      </CardFooter>\n                    </Form>\n                  </Card>\n                </Col>\n              </Row>\n              <div>\n                {this.renderAddHighlightModal()}\n                {this.renderEditHighlightModal()}\n                {this.renderAddSectionModal()}\n                {this.renderEditSectionModal()}\n                {this.renderAddTourAddonModal()}\n                {this.renderEditTourAddonModal()}\n              </div>\n              <LoadingOverlay\n                active={this.state.isSaving}\n                spinner\n                text='Saving...'\n                >\n              </LoadingOverlay>\n            </div>\n          </>\n        );\n      } else {\n        return (\n          <>\n            <div className=\"content\">\n              <Row>\n                <Col sm=\"12\" md=\"12\" lg=\"12\">\n                  <Card>\n                    <CardHeader>\n                      <h4 className=\"title\">Edit Tour</h4>\n                    </CardHeader>\n                    <CardBody>\n                      <h4 className=\"text-danger\"><strong>Tour not found</strong></h4>\n                    </CardBody>\n                    <CardFooter>\n                      <Link to=\"/tours\" className=\"btn btn-round btn-default\">Back to Tours</Link>\n                    </CardFooter>\n                  </Card>\n                </Col>\n              </Row>\n            </div>\n          </>\n        );\n      }\n    }\n  }\n}\n\nconst numberWithCommas = x => {\n  return priceRound(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n};\n\nconst priceRound = (price, dec) => {\n  if (dec === undefined) {\n    dec = 2;\n  }\n  if (price !== 0) {\n    if (!price || isNaN(price)) {\n      throw new Error(\"price is not a number\" + price);\n    }\n  }\n  const str = parseFloat(Math.round(price * 100) / 100).toFixed(dec);\n\n  return str;\n};\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    getProductById,\n    getProductTypes,\n    getProductCategories,\n    getProductCategoriesV2,\n    getProviderPlaces,\n    updateProduct,\n    uploadPhoto,\n    removePhoto,\n  }\n)(EditProduct);","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getSession } from \"../../config/session\";\nimport { connect } from \"react-redux\";\nimport { getPageById } from \"../../layouts/Admin/actions/PageActions\";\nimport {\n  merchantApiLogin,\n  importProductsFromApi,\n  syncProductsFromAPI,\n  addProduct,\n} from \"../../layouts/Admin/actions/ProductActions\";\nimport { FontAwesomeIcon as Fa } from \"@fortawesome/react-fontawesome\";\nimport { PulseLoader } from \"react-spinners\";\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\n\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  FormGroup,\n  Form,\n  Input,\n  Nav,\n  Row,\n  Col,\n} from \"reactstrap\";\n\nclass ImportProducts extends React.Component {\n  constructor(props) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    super(props);\n    this.state = {\n      userExist: false,\n      loginUrl: \"\",\n      apiUsername: \"\",\n      apiPassword: \"\",\n      productsUrl: \"\",\n      apiKey: \"\",\n      payload: \"\",\n      isLoading: true,\n      submitted: false,\n      isFetching: false,\n      userData: userData\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    const sessionToken = userData.sessionToken;\n  \n    if (userData != null && pageId) {\n      this.props.getPageById(pageId, sessionToken, (error, result) => {\n        if (result) {\n          const pageObj = result.page;\n          this.setState({\n            pageExists: true,\n            loginUrl: (pageObj.privateApiInfo && pageObj.privateApiInfo.loginUrl) ? pageObj.privateApiInfo.loginUrl : \"\",\n            apiUsername: (pageObj.privateApiInfo && pageObj.privateApiInfo.username) ? pageObj.privateApiInfo.username : \"\",\n            apiPassword: (pageObj.privateApiInfo && pageObj.privateApiInfo.password) ? pageObj.privateApiInfo.password : \"\",\n            productsUrl: (pageObj.privateApiInfo && pageObj.privateApiInfo.productsUrl) ? pageObj.privateApiInfo.productsUrl : \"\",\n            apiKey: (pageObj.privateApiInfo && pageObj.privateApiInfo.apiKey) ? pageObj.privateApiInfo.apiKey : \"\",\n            isLoading: false\n          });\n        } else {\n          if(error) {\n            this.setState({ isLoading: false });\n          }\n        }\n      });\n    } else {\n      this.setState({ isLoading: false });\n    }\n  }\n\n  handleChange = (e) => {\n    let { name, value, type } = e.target;\n    if (type === \"checkbox\") {\n      const checked = e.target.checked;\n      value = checked;\n    }\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleImport = () => {\n    this.setState({ submitted: true });\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    const sessionToken = userData.sessionToken;\n    const state = this.state;\n    if(state && state.loginUrl && state.apiUsername && state.apiPassword && state.productsUrl && state.apiKey) {\n      if (!window.confirm(\"Are you sure you want to continue syncing the products?\")) {\n        return false;\n      }\n      this.setState({ isFetching: true });\n      this.props.syncProductsFromAPI(state.productsUrl, state.apiKey, pageId, sessionToken, (err,res) => {\n        if(err) {\n          setTimeout(() => {\n            this.showNotificationError(err.message);\n          }, 100);\n          this.setState({ isFetching: false, submitted: false });\n        } else {\n          if(res) {\n            setTimeout(() => {\n              this.showNotification('Updating the products. Please wait for few minutes');\n            }, 100);\n            this.setState({ isFetching: false, submitted: false });\n          } else {\n            setTimeout(() => {\n              this.showNotificationError('There is an error in importing the product. Please try again.');\n            }, 100);\n            this.setState({ isFetching: false, submitted: false });\n          }\n        }\n      });\n    } else {\n      this.showNotificationError('Some fields are required. Please fill the required fields.');\n    }\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      \n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  render() {\n    if(this.state.isLoading) {\n      return (\n        <>\n          <div className=\"content\">\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">Import Products from API</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <Row>\n                      <Col className=\"pr-md-1\" sm=\"4\">\n                        <Nav vertical >\n                          <Link className=\"nav-link-vertical active-link\" to=\"/import-products\">Sync using API <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                          <Link className=\"nav-link-vertical\" to=\"/import-products-json\">Sync using JSON <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                          <Link className=\"nav-link-vertical\" to=\"/import-products-excel\">Import using Excel <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                        </Nav>\n                      </Col>\n                      <Col className=\"pl-md-1\" sm=\"8\">\n                        <PulseLoader\n                          sizeUnit={\"px\"}\n                          size={15}\n                          color={'#1d8cf8'}\n                          loading={this.state.isLoading}\n                        />\n                      </Col>\n                    </Row>\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </>\n      );\n    } else {\n      if(this.state.pageExists) {\n        return (\n          <>\n            <div className=\"content\">\n              <div className=\"react-notification-alert-container\">\n                <NotificationAlert ref=\"notify\" />\n              </div>\n              <Row>\n                <Col sm=\"12\" md=\"12\" lg=\"12\">\n                  <Card>\n                    <CardHeader>\n                      <h4 className=\"title\">Import Products from API URL</h4>\n                    </CardHeader>\n                    <CardBody>\n                      <Row>\n                        <Col className=\"pr-md-1\" sm=\"4\">\n                          <Nav vertical >\n                            <Link className=\"nav-link-vertical active-link\" to=\"/import-products\">Sync using API <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link> \n                            <Link className=\"nav-link-vertical\" to=\"/import-products-json\">Sync using JSON <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                            <Link className=\"nav-link-vertical\" to=\"/import-products-excel\">Import using Excel <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                          </Nav>\n                        </Col>\n                        <Col className=\"pl-md-1\" sm=\"8\">\n                          <Form>\n                            <Row>\n                              <Col md=\"12\" sm=\"12\">\n                                <FormGroup\n                                  className={\n                                    this.state.submitted &&\n                                    !this.state.loginUrl\n                                      ? \" has-danger\"\n                                      : \"\"\n                                  }\n                                >\n                                  <label htmlFor=\"loginUrl\" className=\"control-label\">\n                                    URL\n                                  </label>\n                                  <Input\n                                    id=\"loginUrl\"\n                                    name=\"loginUrl\"\n                                    placeholder=\"Login URL\"\n                                    type=\"text\"\n                                    defaultValue={this.state.loginUrl}\n                                    onChange={this.handleChange}\n                                    autoComplete=\"off\"\n                                  />\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col className=\"pr-md-1\" md=\"6\" sm=\"12\">\n                                <FormGroup\n                                  className={\n                                    this.state.submitted &&\n                                    !this.state.apiUsername\n                                      ? \" has-danger\"\n                                      : \"\"\n                                  }\n                                >\n                                  <label htmlFor=\"apiUsername\" className=\"control-label\">\n                                    Username\n                                  </label>\n                                  <Input\n                                    id=\"apiUsername\"\n                                    name=\"apiUsername\"\n                                    placeholder=\"API Username\"\n                                    type=\"text\"\n                                    value={this.state.apiUsername}\n                                    onChange={this.handleChange}\n                                    autoComplete=\"off\"\n                                  />\n                                </FormGroup>\n                              </Col>\n                              <Col className=\"pl-md-1\" md=\"6\" sm=\"12\">\n                                <FormGroup\n                                  className={\n                                    this.state.submitted &&\n                                    !this.state.apiPassword\n                                      ? \" has-danger\"\n                                      : \"\"\n                                  }\n                                >\n                                  <label htmlFor=\"apiPassword\" className=\"control-label\">\n                                    Password\n                                  </label>\n                                  <Input\n                                    id=\"apiPassword\"\n                                    name=\"apiPassword\"\n                                    placeholder=\"Password\"\n                                    type=\"password\"\n                                    value={this.state.apiPassword}\n                                    onChange={this.handleChange}\n                                    autoComplete=\"off\"\n                                  />\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col md=\"12\" sm=\"12\">\n                                <FormGroup\n                                  className={\n                                    this.state.submitted &&\n                                    !this.state.productsUrl\n                                      ? \" has-danger\"\n                                      : \"\"\n                                  }\n                                >\n                                  <label htmlFor=\"productsUrl\" className=\"control-label\">\n                                    Products URL\n                                  </label>\n                                  <Input\n                                    id=\"productsUrl\"\n                                    name=\"productsUrl\"\n                                    placeholder=\"Products URL\"\n                                    type=\"text\"\n                                    defaultValue={this.state.productsUrl}\n                                    onChange={this.handleChange}\n                                    autoComplete=\"off\"\n                                  />\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col md=\"12\" sm=\"12\">\n                                <FormGroup\n                                  className={\n                                    this.state.submitted &&\n                                    !this.state.apiKey\n                                      ? \" has-danger\"\n                                      : \"\"\n                                  }\n                                >\n                                  <label htmlFor=\"apiKey\" className=\"control-label\">\n                                    API Key\n                                  </label>\n                                  <Input\n                                    id=\"apiKey\"\n                                    name=\"apiKey\"\n                                    placeholder=\"API Key\"\n                                    type=\"text\"\n                                    value={this.state.apiKey}\n                                    onChange={this.handleChange}\n                                    autoComplete=\"off\"\n                                  />\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                          </Form>\n                        </Col>\n                      </Row>\n                    </CardBody>\n                    <CardFooter>\n                      <Button className=\"btn-fill btn-round\" color=\"info\" type=\"button\" onClick={this.handleImport}>\n                        Sync Products\n                      </Button>\n                    </CardFooter>\n                  </Card>\n                </Col>\n              </Row>\n              <LoadingOverlay\n                active={this.state.isFetching}\n                spinner\n                text='Syncing Products...'\n                >\n              </LoadingOverlay>\n            </div>\n          </>\n        );\n      } else {\n        return(\n          <div className=\"content\">\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">No Page Added</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <Row>\n                      <Col className=\"pr-md-1\" sm=\"4\">\n                        <Nav vertical >\n                          <Link className=\"nav-link-vertical active-link\" to=\"/import-products\">Sync using API <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                          <Link className=\"nav-link-vertical\" to=\"/import-products-json\">Sync using JSON <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                          <Link className=\"nav-link-vertical\" to=\"/import-products-excel\">Import using Excel <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                        </Nav>\n                      </Col>\n                      <Col className=\"pl-md-1\" sm=\"8\">\n                        <p>You have not added a page yet. Please signup as a Provider/Merchant</p>\n                      </Col>\n                    </Row>    \n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        );\n      }\n    }\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(mapStateToProps,\n  {\n    getPageById,\n    merchantApiLogin,\n    importProductsFromApi,\n    syncProductsFromAPI,\n    addProduct,\n  }\n)(ImportProducts);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getSession } from \"../../config/session\";\nimport { connect } from \"react-redux\";\nimport { getPageById } from \"../../layouts/Admin/actions/PageActions\";\nimport {\n  merchantApiLogin,\n  syncProductsFromJSON,\n  addProduct,\n} from \"../../layouts/Admin/actions/ProductActions\";\nimport { FontAwesomeIcon as Fa } from \"@fortawesome/react-fontawesome\";\nimport { PulseLoader } from \"react-spinners\";\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\n\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  FormGroup,\n  Form,\n  Nav,\n  Row,\n  Col\n} from \"reactstrap\";\n\nclass ImportProducts extends React.Component {\n  constructor(props) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    super(props);\n    this.state = {\n      userExist: false,\n      payload: \"\",\n      invalidJsonText: \"\",\n      products: [],\n      totalItems: 0,\n      isLoading: true,\n      submitted: false,\n      isFetching: false,\n      userData: userData\n    };\n    this.validatePayload = this.validatePayload.bind(this);\n    this.handleImport = this.handleImport.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({ isLoading: false });\n  }\n\n  validatePayload(e) {\n    let { name, value } = e.target;\n    try  {\n      const arr = (JSON.parse(value));\n      if (arr) {\n        const products = arr;\n        const totalItems = products.length;\n        this.setState({\n          [name]: value,\n          products,\n          totalItems,\n          invalidJsonText: \"\"\n        });\n      }\n    } \n    catch (err){\n      console.log({err});\n      this.setState({invalidJsonText: \"Invalid JSON Payload\"});\n    }\n    \n  }\n\n  handleImport() {\n    this.setState({ submitted: true });\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    const sessionToken = userData.sessionToken;\n    const { products } = this.state;\n    if(this.state && this.state.products) {\n      if (!window.confirm(\"Are you sure you want to continue syncing the products?\")) {\n        return false;\n      }\n      this.setState({ isFetching: true });\n      this.props.syncProductsFromJSON(products, pageId, sessionToken, (err,res) => {\n        if(err) {\n          setTimeout(() => {\n            this.showNotificationError(err.message);\n          }, 100);\n          this.setState({ isFetching: false, submitted: false });\n        } else {\n          if(res) {\n            setTimeout(() => {\n              this.showNotification('Product(s) successfully synced.');\n            }, 100);\n            this.setState({ isFetching: false, submitted: false });\n          } else {\n            setTimeout(() => {\n              this.showNotificationError('There is an error in importing the product. Please try again.');\n            }, 100);\n            this.setState({ isFetching: false, submitted: false });\n          }\n        }\n      });\n    } else {\n      this.showNotificationError('Some fields are required. Please fill the required fields.');\n    }\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      \n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  render() {\n    if(this.state.isLoading) {\n      return (\n        <>\n          <div className=\"content\">\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">Import Products from API</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <Row>\n                      <Col className=\"pr-md-1\" sm=\"4\">\n                        <Nav vertical >\n                          <Link className=\"nav-link-vertical active-link\" to=\"/import-products\">Sync using API <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link> \n                          <Link className=\"nav-link-vertical\" to=\"/import-products-json\">Sync using JSON <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                          <Link className=\"nav-link-vertical\" to=\"/import-products-excel\">Import using Excel <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                        </Nav>\n                      </Col>\n                      <Col className=\"pl-md-1\" sm=\"8\">\n                        <PulseLoader\n                          sizeUnit={\"px\"}\n                          size={15}\n                          color={'#1d8cf8'}\n                          loading={this.state.isLoading}\n                        />\n                      </Col>\n                    </Row>\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <div className=\"content\">\n            <div className=\"react-notification-alert-container\">\n              <NotificationAlert ref=\"notify\" />\n            </div>\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">Import Products using JSON Payload</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <Row>\n                      <Col className=\"pr-md-1\" sm=\"4\">\n                        <Nav vertical >\n                          <Link className=\"nav-link-vertical\" to=\"/import-products\">Sync using API <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                          <Link className=\"nav-link-vertical active-link\" to=\"/import-products-json\">Sync using JSON <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                          <Link className=\"nav-link-vertical\" to=\"/import-products-excel\">Import using Excel <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                        </Nav>\n                      </Col>\n                      <Col className=\"pl-md-1\" sm=\"8\">\n                        <Form>  \n                          <Row>\n                            <Col md=\"12\" sm=\"12\">\n                              <FormGroup\n                                className={\n                                  this.state.submitted &&\n                                  !this.state.payload\n                                    ? \" has-danger\"\n                                    : \"\"\n                                }\n                              >\n                                <label htmlFor=\"payload\" className=\"control-label\">Paste the JSON Payload</label>\n                                <p className=\"text-danger\">{this.state.invalidJsonText}</p>\n                                <textarea\n                                  style={{\n                                    maxHeight:\"450px\",\n                                    fontFamily: \"Menlo, Monaco, Consolas, monospace\"\n                                  }}\n                                  className=\"form-control\"\n                                  id=\"payload\"\n                                  rows=\"50\"\n                                  name=\"payload\"\n                                  defaultValue={this.state.payload}\n                                  onChange={this.validatePayload}\n                                  autoComplete=\"off\"\n                                />\n                                <p className=\"text-info\">{this.state.totalItems} item(s) selected</p>\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                        </Form>          \n                      </Col>\n                    </Row>\n                  </CardBody>\n                  <CardFooter>\n                    <Button className=\"btn-fill btn-round\" color=\"info\" type=\"button\" onClick={this.handleImport}>\n                      Sync Products\n                    </Button>\n                  </CardFooter>\n                </Card>\n              </Col>\n            </Row>\n            <LoadingOverlay\n              active={this.state.isFetching}\n              spinner\n              text='Syncing Products...'\n              >\n            </LoadingOverlay>\n          </div>\n        </>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(mapStateToProps,\n  {\n    getPageById,\n    merchantApiLogin,\n    syncProductsFromJSON,\n    addProduct,\n  }\n)(ImportProducts);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getSession } from \"../../config/session\";\nimport { connect } from \"react-redux\";\nimport api from \"../../config/api\";\nimport { getPageById } from \"../../layouts/Admin/actions/PageActions\";\nimport {\n  merchantApiLogin,\n  addProduct,\n} from \"../../layouts/Admin/actions/ProductActions\";\nimport { FontAwesomeIcon as Fa } from \"@fortawesome/react-fontawesome\";\nimport { PulseLoader } from \"react-spinners\";\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\nimport XLSX from 'xlsx';\n\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  FormGroup,\n  Form,\n  Nav,\n  Row,\n  Col\n} from \"reactstrap\";\n\nclass ImportProducts extends React.Component {\n  constructor(props) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    super(props);\n    this.state = {\n      userExist: false,\n      payload: \"\",\n      invalidJsonText: \"\",\n      products: [],\n      file: {},\n      totalItems: 0,\n      isLoading: true,\n      submitted: false,\n      isUploading: false,\n      userData: userData,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ isLoading: false });\n  }\n\n  validatePayload = (e) => {\n    let { name, value } = e.target;\n    try  {\n      const arr = (JSON.parse(value));\n      if (arr) {\n        const products = arr;\n        const totalItems = products.length;\n        this.setState({\n          [name]: value,\n          products,\n          totalItems,\n          invalidJsonText: \"\"\n        });\n      }\n    } \n    catch (err){\n      this.setState({invalidJsonText: \"Invalid JSON Payload\"});\n    }\n    \n  }\n\n  handleFileSelect = (e) => {\n    const file = e.target.files[0];\n    this.setState({file:file});\n  }\n\n  handleFileUpload = (e) => {\n    if (!window.confirm(\"Do you want to continue uploading the products?\")){\n      return false;\n    }\n    this.setState({isUploading:true});\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    let sessionToken = \"\";\n    if(userData) {\n      sessionToken = userData.sessionToken;\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n    if(this.state.file) {\n      var fileReader = new FileReader();\n      fileReader.onload = function(event) {\n        var data = event.target.result;\n        var workbook = XLSX.read(data, {\n          type: \"binary\"\n        });\n        workbook.SheetNames.forEach(sheet => {\n          let rowObject = XLSX.utils.sheet_to_row_object_array(\n            workbook.Sheets[sheet]\n          );\n          let jsonObject = JSON.stringify(rowObject);\n          const productsArr = JSON.parse(jsonObject)\n          const body = {\n            products: productsArr\n          }\n          if(sessionToken && productsArr && productsArr instanceof Array && productsArr.length > 0 ) {\n            api(sessionToken).post(`/provider/places/${pageId}/import-products-from-excel`,body)\n              .then(resp => {\n                if (resp) {\n                  alert('Uploading Products. This may take a while. Please wait for few minutes');\n                }\n              })\n              .catch(error => {\n                alert(error);\n              });\n          }\n        });\n      };\n      fileReader.readAsBinaryString(this.state.file);\n      this.setState({isUploading:false});\n    } else {\n      this.setState({isUploading:false});\n      this.showNotificationError('No file selected. Please select an excel file.');\n    }\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  render() {\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    if(this.state.isLoading) {\n      return (\n        <>\n          <div className=\"content\">\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">Import Products from API</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <Row>\n                      <Col className=\"pr-md-1\" sm=\"4\">\n                        <Nav vertical >\n                          <Link className=\"nav-link-vertical\" to=\"/import-products\">Sync using API <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link> \n                          <Link className=\"nav-link-vertical\" to=\"/import-products-json\">Sync using JSON <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                          <Link className=\"nav-link-vertical active-link\" to=\"/import-products-excel\">Import using Excel <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                        </Nav>\n                      </Col>\n                      <Col className=\"pl-md-1\" sm=\"8\">\n                        <PulseLoader\n                          sizeUnit={\"px\"}\n                          size={15}\n                          color={'#1d8cf8'}\n                          loading={this.state.isLoading}\n                        />\n                      </Col>\n                    </Row>\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <div className=\"content\">\n            <div className=\"react-notification-alert-container\">\n              <NotificationAlert ref=\"notify\" />\n            </div>\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">Import Products from Excel file</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <Row>\n                      <Col className=\"pr-md-1\" sm=\"4\">\n                        <Nav vertical >\n                          { pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb' && <>\n                            <Link className=\"nav-link-vertical\" to=\"/import-products\">Sync using API <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link> \n                            <Link className=\"nav-link-vertical\" to=\"/import-products-json\">Sync using JSON <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                          </>}\n                          <Link className=\"nav-link-vertical active-link\" to=\"/import-products-excel\">Import using Excel <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link> \n                        </Nav>\n                      </Col>\n                      <Col className=\"pl-md-1\" sm=\"8\">\n                        <Form>  \n                          <Row>\n                            <Col md=\"12\" sm=\"12\">\n                              <FormGroup\n                                className={\n                                  this.state.submitted &&\n                                  !this.state.payload\n                                    ? \" has-danger\"\n                                    : \"\"\n                                }\n                              >\n                                <label htmlFor=\"payload\" className=\"control-label\">Select Excel file to upload</label>\n                                <p className=\"text-danger\">{this.state.invalidJsonText}</p>\n                                <input type=\"file\" id=\"fileUploader\" name=\"fileUploader\" onChange={this.handleFileSelect} accept=\".xls, .xlsx\" style={{ opacity: 1, position: 'relative' }}/>\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                          <Row>\n                            <Col md=\"12\" sm=\"12\">\n                              <Button className=\"btn-fill btn-round\" color=\"info\" type=\"button\" onClick={this.handleFileUpload}>\n                                Upload Products\n                              </Button>\n                            </Col>\n                          </Row>\n                        </Form>          \n                      </Col>\n                    </Row>\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n            <LoadingOverlay\n              active={this.state.isUploading}\n              spinner\n              text='Uploading Products...'\n              >\n            </LoadingOverlay>\n          </div>\n        </>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(mapStateToProps,\n  {\n    getPageById,\n    merchantApiLogin,\n    addProduct,\n  }\n)(ImportProducts);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { getSession, setSession } from \"../../config/session\";\nimport api from \"../../config/api\";\nimport { \n  getProductCategories,\n  getProductCategoriesV2,\n  getProductCategoriesAll,\n  getProductCategoriesAllV2,\n  deleteProductCategory,\n  updateProductCategory\n} from \"../../layouts/Admin/actions/ProductCategoryActions\";\nimport { getPageById } from \"../../layouts/Admin/actions/PageActions\";\nimport { format } from 'date-fns'\nimport queryString from \"query-string\";\nimport Switch from \"react-toggle-switch\";\nimport { FontAwesomeIcon as Fa } from \"@fortawesome/react-fontawesome\";\nimport Pagination from \"react-js-pagination\";\nimport { PulseLoader } from 'react-spinners';\nimport NotificationAlert from \"react-notification-alert\";\n\nimport imageComming from \"assets/img/product-image-default.png\";\n\nimport {\n  Alert,\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  Table,\n  Row,\n  Col,\n  FormGroup,\n  Input,\n  Media\n} from \"reactstrap\";\n\nclass ProductCategory extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      productCategories: [],\n      productCategoriesMain: [],\n      useCreatedProductCategory: false,\n      place: {},\n      defaultPage: \"\",\n      pagination: {},\n      activePage: 1,\n      selectedPage: \"\",\n      sortBy: \"\",\n      sort: \"\",\n      keyword: \"\",\n      size: 25,\n      message: \"\",\n      parent: \"\",\n      status: \"\",\n      categoryType: \"\",\n      isLoading: true,\n      hideTutorials: false\n    };\n  }\n\n  componentDidMount() {\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    let activePage = query.page ? Number(query.page) : 1;\n    let parent = query.parent ? query.parent : \"\";\n    let sortBy = query.sortBy ? query.sortBy : \"created\";\n    let sort = query.sort ? query.sort : \"desc\";\n    let message = query.message ? query.message : \"\";\n    let keyword = query.keyword;\n    let status = query.status;\n    let queryStr = \"?\" + queryString.stringify(query);\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    this.setState({\n      activePage: activePage,\n      parent: parent,\n      sort: sort,\n      sortBy: sortBy,\n      keyword: keyword,\n      message: message,\n      status: status,\n      hideTutorials: (pageInfo && pageInfo.hideTutorials && pageInfo.hideTutorials === true) ? true : false\n    });\n    this.refreshProductCategoryList(queryStr);\n  }\n\n  renderRows(productCategories) {\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let colSpan = \"10\";\n    if(pageInfo && pageInfo._id === '5ccfe6aeb99ae3280fd246dc') {\n      colSpan = \"9\";\n    }\n    if(this.state.isLoading) {\n      return (\n        <tr>\n          <td colSpan={colSpan}>\n            <PulseLoader\n              sizeUnit={\"px\"}\n              size={15}\n              color={'#1d8cf8'}\n              loading={this.state.isLoading}\n            />\n          </td>\n        </tr>\n      );\n    } else {\n      if (\n        productCategories instanceof Array &&\n        productCategories.length > 0\n      ) {\n        if(pageInfo && pageInfo.useCreatedProductCategory) {\n          return productCategories.map((item, index, categoriesArr) => (\n            <tr key={item._id}>\n              <td width=\"50\">{this.renderImage(item)}</td>\n              <td>\n                <Link to={\"/product-categories/\" + item._id + \"/edit\"} style={{paddingRight:\"10px\"}}>\n                  {item.name}\n                </Link>\n              </td>\n              <td style={{ whiteSpace: 'nowrap'}}>{format(new Date(item.createdAt),'MMM dd, yyyy hh:mm a')}</td>\n              <td style={{ whiteSpace: 'nowrap'}}>{format(new Date(item.updatedAt),'MMM dd, yyyy hh:mm a')}</td>\n              <td width=\"150\">{item.slug}</td>\n              <td>{item.description && item.description.replace(/(<([^>]+)>)/ig,\"\")}</td>\n              {pageInfo && pageInfo._id === '5ccfe6aeb99ae3280fd246dc' &&\n                <td>{item.code}</td>\n              }\n              <td width=\"150\">{ item.parent && item.parent.name && item.parent.name}</td>\n              <td>\n                <Switch\n                  onClick={() => {\n                    const nextStatus = !item.isActive;\n                    this.toggleSwitchIsActive(item);\n                    categoriesArr[index].isActive = nextStatus;\n                    this.setState({\n                      productCategories: categoriesArr\n                    });\n                  }}\n                  on={item.isActive ? item.isActive : false}\n                />\n              </td>\n              <td width=\"75\" align=\"center\">\n                <Link to={\"/product-categories/\" + item._id + \"/edit\"} style={{paddingRight:\"10px\"}}>\n                  <Fa icon=\"edit\" />\n                </Link>\n                <Link to=\"#\" className=\"text-danger\" onClick={this.handleDelete} data-item={item._id}>\n                  <Fa icon=\"trash-alt\"/>\n                </Link>\n              </td>\n              <td>\n                &nbsp;\n              </td>\n            </tr>\n          ));\n        } else {\n          return productCategories.map(item => (\n            <tr key={item._id}>\n              <td width=\"50\">{this.renderImage(item)}</td>\n              <td>{item.name}</td>\n              <td style={{ whiteSpace: 'nowrap'}}>{format(new Date(item.createdAt),'MMM dd, yyyy hh:mm a')}</td>\n              <td style={{ whiteSpace: 'nowrap'}}>{format(new Date(item.updatedAt),'MMM dd, yyyy hh:mm a')}</td>\n              <td width=\"150\">{item.slug}</td>\n              <td>{item.description && item.description.replace(/(<([^>]+)>)/ig,\"\")}</td>\n              <td width=\"150\">{ item.parent && item.parent.name && item.parent.name}</td>\n              <td width=\"75\" align=\"center\">&nbsp;</td>\n              <td>&nbsp;</td>\n            </tr>\n          ));\n        }\n      } else {\n        return (\n          <tr>\n            <td colSpan={colSpan}>\n              <h5 className=\"text-danger\">\n                <em>No category found</em>\n              </h5>\n            </td>\n          </tr>\n        );\n      }\n    }\n  }\n\n  renderImage(item) {\n    const {\n      name,\n      photos,\n    } = item;\n\n    let imgSrc = imageComming;\n    if(photos instanceof Array && photos.length > 0) {\n      imgSrc = photos[0].thumb;\n    }\n    return (\n      <Media className=\"mt-1\">\n        <Media left middle>\n          <Media\n            object\n            data-src={imgSrc}\n            src={imgSrc}\n            alt={name}\n            title={name}\n          />\n        </Media>\n      </Media>\n    );\n  }\n\n  renderPlaces() {\n    if (this.state.places !== undefined || this.state.places != null) {\n      return this.state.places.map((item, index) => (\n        <option key={index} value={item.place._id.toString()}>\n          {item.place.name}\n        </option>\n      ));\n    }\n  }\n\n  handleChangeKeyword = (e) => {\n    let { value } = e.target;\n    this.setState({keyword: value});\n  }\n\n  handleEnter = (e) => {\n    let { key } = e;\n    if (key === 'Enter') {\n      this.setState({ isLoading:true, activePage:1 });\n      let { keyword } = this.state;\n\n      let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n      let url = this.props.location.search;\n      let query = queryString.parse(url);\n      delete query.page;\n      delete query.message;\n      if (keyword !== \"\") {\n        query.keyword = keyword;\n      } else {\n        delete query.keyword;\n      }\n      let queryStr = \"?\" + queryString.stringify(query);\n      this.refreshProductCategoryList(queryStr, defaultPage);\n    }\n  }\n\n  handleDelete = (e) => {\n    if (!window.confirm(\"Do you want to delete this category?\")){\n      return false;\n    }\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    query.message = \"Category has been deleted successfully.\";\n    let queryStr = \"?\" + queryString.stringify(query);\n    const categoryId = e.currentTarget.dataset.item;\n    if(categoryId) {\n      const userData = JSON.parse(getSession(\"userData\"));\n      const sessionToken = userData.sessionToken;\n      this.props.deleteProductCategory(\n        categoryId,\n        sessionToken,\n        (error, result) => {\n          if (!error && result) {\n            if(result.status===\"deleted\") {\n              this.refreshProductCategoryList(queryStr,defaultPage);\n            } else {\n              this.showNotificationError('There is an error deleting the category');\n            }\n          } else {\n            if (error) {\n              console.error({error});\n              if(error && error.response && typeof error.response === 'string') {\n                this.showNotificationError(error.response);\n              } else {\n                this.showNotificationError('There is an error deleting the category');\n              }\n            }\n          }\n        }\n      );\n    }\n  }\n\n  handleChangeParent = (e) => {\n    this.setState({ isLoading: true });\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    let { value } = e.target;\n    if(value !== \"\") {\n      this.setState({ categoryType: \"child\" });\n      query.categoryType = \"child\";\n    }\n    query.page = 1;\n    delete query.message;\n    if (value !== \"\") {\n      query.parent = value;\n    } else {\n      delete query.parent;\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({ parent: value, activePage: 1 });\n    this.refreshProductCategoryList(queryStr,defaultPage);\n  }\n\n  handleChangeStatus = (e) => {\n    this.setState({ isLoading: true });\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    let { value } = e.target;\n    query.page = 1;\n    delete query.message;\n    if (value !== \"\") {\n      query.status = value;\n    } else {\n      delete query.status;\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({ status: value, activePage: 1 });\n    this.refreshProductCategoryList(queryStr,defaultPage);\n  }\n\n  handleChangeParentChild = (e) => {\n    this.setState({ isLoading: true });\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    let { value } = e.target;\n    if(value === 'parent') {\n      this.setState({ parent: \"\" });\n      delete query.parent;\n    }\n    query.page = 1;\n    delete query.message;\n    if (value !== \"\") {\n      query.categoryType = value;\n    } else {\n      delete query.categoryType;\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({ categoryType: value, activePage: 1 });\n    this.refreshProductCategoryList(queryStr,defaultPage);\n  }\n\n  handlePageChange = (pageNumber) => {\n    this.setState({ isLoading: true });\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.page = pageNumber;\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ activePage: pageNumber });\n    this.refreshProductCategoryList(queryStr,defaultPage);\n  }\n\n  handleChangePerPage = (e) => {\n    this.setState({isLoading:true});\n    let { value } = e.target;\n\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    if (value !== \"\") {\n      query.size = value;\n    } else {\n      delete query.size;\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({ size: value });\n    this.refreshProductCategoryList(queryStr, defaultPage);\n  }\n\n  sortCreated = () => {\n    let sort = \"\";\n    if (this.state.sortBy === \"created\") {\n      if (this.state.sort !== \"desc\") {\n        sort = \"desc\";\n      } else {\n        sort = \"asc\";\n      }\n    } else {\n      sort = \"desc\";\n    }\n    let sortBy = \"created\";\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.sort = sort;\n    query.sortBy = sortBy\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    this.refreshProductCategoryList(queryStr,defaultPage);\n  }\n\n  sortUpdated = () => {\n    let sort = \"\";\n    if (this.state.sortBy === \"updated\") {\n      if (this.state.sort !== \"desc\") {\n        sort = \"desc\";\n      } else {\n        sort = \"asc\";\n      }\n    } else {\n      sort = \"desc\";\n    }\n    let sortBy = \"updated\";\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.sort = sort;\n    query.sortBy = sortBy\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    this.refreshProductCategoryList(queryStr,defaultPage);\n  }\n\n  sortName = () => {\n    let sort = \"\";\n    if (this.state.sortBy === \"name\") {\n      if (this.state.sort !== \"desc\") {\n        sort = \"desc\";\n      } else {\n        sort = \"asc\";\n      }\n    } else {\n      sort = \"desc\";\n    }\n    let sortBy = \"name\";\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.sort = sort;\n    query.sortBy = sortBy\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    this.refreshProductCategoryList(queryStr,defaultPage);\n  }\n\n  sortSlug = () => {\n    let sort = \"\";\n    if (this.state.sortBy === \"slug\") {\n      if (this.state.sort !== \"desc\") {\n        sort = \"desc\";\n      } else {\n        sort = \"asc\";\n      }\n    } else {\n      sort = \"desc\";\n    }\n    let sortBy = \"slug\";\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.sort = sort;\n    query.sortBy = sortBy\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    this.refreshProductCategoryList(queryStr,defaultPage);\n  }\n  \n  sortCode = () => {\n    let sort = \"\";\n    if (this.state.sortBy === \"code\") {\n      if (this.state.sort !== \"desc\") {\n        sort = \"desc\";\n      } else {\n        sort = \"asc\";\n      }\n    } else {\n      sort = \"desc\";\n    }\n    let sortBy = \"code\";\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.sort = sort;\n    query.sortBy = sortBy\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    this.refreshProductCategoryList(queryStr,defaultPage);\n  }\n\n  toggleSwitchIsActive(category) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const categoryId = category._id;\n    if (category) {\n      this.props.updateProductCategory(category, categoryId, sessionToken, (error, result) => {\n        if (result) {\n          this.showNotification('Category successfully updated.');\n        } else {\n          if (error) {\n            this.showNotificationError(error.response);\n          } else {\n            this.showNotificationError('Category not updated.');\n          }\n        }\n      });\n    } else {\n      this.showNotificationError('No category found.');\n    }\n  }\n\n  onDismiss = () => {\n    this.setState({ hideTutorials: true });\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    pageInfo.hideTutorials = true;\n    setSession('pageInfo',JSON.stringify(pageInfo));\n  }\n\n  onHideTutorials = () => {\n    if (!window.confirm(\"Are you sure you want to hide this section permanently?\")) {\n      return false;\n    }\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const place = { \n      hideTutorials: true\n    }\n    api(sessionToken).patch(`/provider/places/${pageInfo._id}`, place)\n      .then(response => {\n        if (response && response.data && response.data.status === 'ok') {\n          this.setState({ hideTutorials: true });\n          pageInfo.hideTutorials = true;\n          setSession('pageInfo',JSON.stringify(pageInfo));\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      })\n      .catch(error => {\n        this.setState({ submitted: false, isSaving: false });\n        if(error.response && typeof error.response === 'string' ) {\n          this.showNotificationError(error.response);\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      });\n  }\n\n  showNotification(message) {\n    if(message && typeof message === 'string') {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 2\n      }\n      if(notification && this.refs.notify && this.refs.notify.notificationAlert) {\n        this.refs.notify.notificationAlert(notification);\n      }\n    }\n  }\n\n  showNotificationError(message) {\n    if(message && typeof message === 'string') {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 2\n      }\n      if(notification && this.refs.notify && this.refs.notify.notificationAlert) {\n        this.refs.notify.notificationAlert(notification);\n      }\n    }\n  }\n\n  refreshProductCategoryList(queryStr) {\n    const query = queryString.parse(queryStr);\n    const message = query.message\n    if(message) {\n      delete query.message;\n      this.showNotification(message);\n    }\n    \n    this.props.history.push(\"/product-categories\" + queryStr);\n    const userData = JSON.parse(getSession(\"userData\"));\n    const placeId = JSON.parse(getSession(\"defaultPage\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const { sessionToken } = userData;\n    let useCreatedProductCategory = false;\n\n    if (userData !== null) {\n      if(placeId && pageInfo && pageInfo.useCreatedProductCategory) {\n        if(pageInfo.useCreatedProductCategory) {\n          useCreatedProductCategory = true;\n        }\n        if(useCreatedProductCategory) {\n          this.props.getProductCategoriesAllV2(\n            {},\n            placeId,\n            sessionToken,\n            (error, result) => {\n              if (!error && result) {\n                const productCategoriesAll = result;\n                if(productCategoriesAll instanceof Array && productCategoriesAll.length > 0) {\n                  setSession('hasCategories',true);\n                  const productCategoriesMain = productCategoriesAll.filter(cat => !cat.parent);\n                  this.setState({\n                    productCategoriesMain: productCategoriesMain,\n                  }, function() { this.setState({ isLoading: false }) });\n                } else {\n                  setSession('hasCategories',false);\n                  this.setState({\n                    productCategoriesMain: [],\n                  });\n                }\n              }\n            }\n          );\n          this.props.getProductCategoriesV2(\n            query,\n            placeId,\n            sessionToken,\n            (error, result) => {\n              if (!error && result) {\n                this.setState({ \n                  productCategories: result.productCategories,\n                  pagination: result.pagination\n                }, function() { this.setState({ isLoading: false }) });\n              } else {\n                this.setState({ isLoading: false });\n              }\n            }\n          );\n        } else {\n          this.props.getProductCategoriesAll(\n            {},\n            sessionToken,\n            (error, result) => {\n              if (!error && result) {\n                const productCategoriesAll = result;\n                if(productCategoriesAll instanceof Array && productCategoriesAll.length > 0) {\n                  const productCategoriesMain = productCategoriesAll.filter(cat => !cat.parent);\n                  this.setState({\n                    productCategoriesMain: productCategoriesMain,\n                  }, function() { this.setState({ isLoading: false }) });\n                } else {\n                  this.setState({\n                    productCategoriesMain: [],\n                  }, function() { this.setState({ isLoading: false }) });\n                }\n              }\n            }\n          );\n          this.props.getProductCategories(\n            query,\n            sessionToken,\n            (error, result) => {\n              if (!error && result) {\n                this.setState({ \n                  productCategories: result.productCategories, \n                  pagination: result.pagination \n                }, function() { this.setState({ isLoading: false }) });\n              } else {\n                this.setState({ isLoading: false });\n              }\n            }\n          );\n        }\n      } else {\n        this.props.getProductCategoriesAll(\n          {},\n          sessionToken,\n          (error, result) => {\n            if (!error && result) {\n              const productCategoriesAll = result;\n              if(productCategoriesAll instanceof Array && productCategoriesAll.length > 0) {\n                const productCategoriesMain = productCategoriesAll.filter(cat => !cat.parent);\n                this.setState({\n                  productCategoriesMain: productCategoriesMain,\n                }, function() { this.setState({ isLoading: false }) });\n              } else {\n                this.setState({\n                  productCategoriesMain: [],\n                }, function() { this.setState({ isLoading: false }) });\n              }\n            }\n          }\n        );\n        this.props.getProductCategories(\n          query,\n          sessionToken,\n          (error, result) => {\n            if (!error && result) {\n              this.setState({ \n                productCategories: result.productCategories, \n                pagination: result.pagination \n              }, function() { this.setState({ isLoading: false }) });\n            } else {\n              this.setState({ isLoading: false });\n            }\n          }\n        );\n      }\n    }\n  } \n\n  renderProductCategoriesMain() {\n    if (\n      this.state.productCategoriesMain !== undefined ||\n      this.state.productCategoriesMain !== null\n    ) {\n      const productCategoriesMain = this.state.productCategoriesMain;\n      return productCategoriesMain.map((item, index) => (\n        <option key={index} value={item._id}>\n          {item.name}\n        </option>\n      ));\n    }\n  }\n\n  renderPageNotVerified() {\n    return(\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">You Have Not Agreed with our Terms & Policies</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You must agree  with our Terms & Policies. Click {\" \"} <Link to=\"/statement-of-agreement\">here</Link> {\" \"} to read our Terms & Policies.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderNoPageAdded() {\n    return (\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">No Page Added</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You have not added a page yet. Click{\" \"} <Link to=\"/add-page\">here</Link> {\" \"}to add a new page.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  render() {\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const hasCategories = JSON.parse(getSession(\"hasCategories\"));\n    const hasProducts = JSON.parse(getSession(\"hasProducts\"));\n    if(pageInfo && pageInfo._id) {\n      if(pageInfo.isVerified === true) {\n        return (\n          <>\n            <div className=\"content\">\n              <div className=\"react-notification-alert-container\">\n                <NotificationAlert ref=\"notify\" />\n              </div>\n              <Row>\n                <Col md=\"12\">\n                  <Card>\n                    <CardHeader>\n                      <h4 className=\"title\">Product Categories - <em>{pageInfo.name}</em></h4>\n                      <Row>\n                        {hasCategories && hasProducts && pageInfo.isActive !== true &&\n                          <Col sm=\"12\">\n                            <Row>\n                              <Col md=\"12\">\n                                <Alert color=\"danger\">\n                                  <h4 className=\"alert-heading\">Store Not Activated</h4>\n                                  <hr />\n                                  <p className=\"mb-0\">\n                                    You must activate your store so it will appear in the app and you can start selling.<br /> \n                                    Click {\" \"} <Link to=\"/activate-store\">here</Link> {\" \"} to activate you store.\n                                  </p>\n                                </Alert>\n                              </Col>\n                            </Row>\n                          </Col>\n                        }\n                        {!pageInfo.hideTutorials &&\n                          <Col sm=\"12\">\n                            <Row>\n                              <Col md=\"12\">\n                                <Alert className=\"alert-compact\" color=\"primary\" isOpen={!this.state.hideTutorials} toggle={this.onDismiss} fade={false}>\n                                  <h4 className=\"alert-heading\">New on Product Categories?</h4>\n                                  <hr />\n                                  <p className=\"mb-0\">\n                                    Check our videos here on how to manage your categories.<br /> \n                                  </p>\n                                  <a className=\"btn btn-sm btn-primary-v2\" href=\"https://www.youtube.com/watch?v=k8VEDqbPv7w\">View Tutorials</a>\n                                  <Button\n                                    className=\"btn-fill btn-sm\"\n                                    color=\"danger\"\n                                    type=\"button\"\n                                    onClick={this.onHideTutorials}\n                                  >\n                                    Hide Permanently\n                                  </Button>\n                                </Alert>\n                              </Col>\n                            </Row>\n                          </Col>\n                        }\n                        <Col className=\"pr-md-1\" md=\"3\">\n                          <FormGroup>\n                            <label htmlFor=\"keyword\" className=\"control-label\">\n                              Search\n                            </label>\n                            <Input\n                              id=\"keyword\"\n                              name=\"keyword\"\n                              type=\"text\"\n                              placeholder=\"Search category...\"\n                              onChange={this.handleChangeKeyword}\n                              onKeyPress={this.handleEnter}\n                              value={this.state.keyword || ''}\n                            >\n                            </Input>\n                          </FormGroup>\n                        </Col>\n                        <Col className=\"px-md-1\" md=\"3\">\n                          <FormGroup>\n                            <label htmlFor=\"page\" className=\"control-label\">\n                              Status\n                            </label>\n                            <Input\n                              id=\"status\"\n                              name=\"status\"\n                              className=\"status\"\n                              placeholder=\"Status\"\n                              type=\"select\"\n                              onChange={this.handleChangeStatus}\n                              value={this.state.status}\n                            >\n                              <option value=\"\">All</option>\n                              <option value=\"active\">Active</option>\n                              <option value=\"inactive\">Inactive</option>\n                            </Input>\n                          </FormGroup>\n                        </Col>\n                        <Col className=\"pl-md-1\" md=\"3\">\n                          <FormGroup>\n                            <label htmlFor=\"page\" className=\"control-label\">\n                              Parent Category\n                            </label>\n                            <Input\n                              id=\"productStatus\"\n                              name=\"productStatus\"\n                              className=\"productStatus\"\n                              placeholder=\"productStatus\"\n                              type=\"select\"\n                              onChange={this.handleChangeParent}\n                              value={this.state.parent}\n                            >\n                              <option value=\"\">All</option>\n                              {this.renderProductCategoriesMain()}\n                            </Input>\n                          </FormGroup>\n                        </Col>\n                        <Col className=\"px-md-1\" md=\"3\">\n                          <FormGroup>\n                            <label htmlFor=\"page\" className=\"control-label\">\n                              Parent or Child\n                            </label>\n                            <Input\n                              id=\"parentChild\"\n                              name=\"parentChild\"\n                              className=\"parentChild\"\n                              placeholder=\"Parent or Child \"\n                              type=\"select\"\n                              onChange={this.handleChangeParentChild}\n                              value={this.state.categoryType}\n                            >\n                              <option value=\"\">All</option>\n                              <option value=\"parent\">Parent</option>\n                              <option value=\"child\">Child</option>\n                            </Input>\n                          </FormGroup>\n                        </Col>\n                      </Row>\n                      { pageInfo && pageInfo.useCreatedProductCategory && \n                        <Row className=\"pull-right\">\n                          <Col md=\"12\">\n                            <Link\n                              to=\"/product-categories/new\"\n                              className=\"btn btn-round btn-info btn-sm\"\n                            >\n                              <Fa icon=\"plus\" />&nbsp;Add New\n                            </Link>\n                            <Link\n                              to=\"/import-categories-excel\"\n                              className=\"btn btn-round btn-info btn-sm\"\n                            >\n                              <Fa icon=\"file-excel\" />&nbsp;Upload Categories\n                            </Link>\n                          </Col>\n                        </Row>\n                      }\n                    </CardHeader>\n                    <CardBody>\n                      <Table className=\"tablesorter table-striped responsive\" responsive>\n                        <thead className=\"text-primary\">\n                          <tr>\n                            <th>&nbsp;</th>\n                            <th onClick={this.sortName}>\n                              Name{\" \"}\n                              {this.state.sortBy === \"name\" &&\n                                this.state.sort === \"desc\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-info\" />\n                                )}{\" \"}\n                              {this.state.sortBy === \"name\" &&\n                                this.state.sort === \"asc\" && (\n                                  <Fa icon=\"arrow-up\" className=\"text-info\" />\n                                )}{\" \"}\n                              {this.state.sortBy !== \"name\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-disabled\" />\n                                )}{\" \"}\n                            </th>\n                            <th onClick={this.sortCreated}>\n                              Added{\" \"}\n                              {this.state.sortBy === \"created\" &&\n                                this.state.sort === \"desc\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-info\" />\n                                )}{\" \"}\n                              {this.state.sortBy === \"created\" &&\n                                this.state.sort === \"asc\" && (\n                                  <Fa icon=\"arrow-up\" className=\"text-info\" />\n                                )}{\" \"}\n                              {this.state.sortBy !== \"created\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-disabled\" />\n                                )}{\" \"}\n                            </th>\n                            <th onClick={this.sortUpdated}>\n                              Updated{\" \"}\n                              {this.state.sortBy === \"updated\" &&\n                                this.state.sort === \"desc\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-info\" />\n                                )}{\" \"}\n                              {this.state.sortBy === \"updated\" &&\n                                this.state.sort === \"asc\" && (\n                                  <Fa icon=\"arrow-up\" className=\"text-info\" />\n                                )}{\" \"}\n                              {this.state.sortBy !== \"updated\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-disabled\" />\n                                )}{\" \"}\n                            </th>\n                            <th onClick={this.sortSlug}>\n                              Slug{\" \"}\n                              {this.state.sortBy === \"slug\" &&\n                                this.state.sort === \"desc\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-info\" />\n                                )}{\" \"}\n                              {this.state.sortBy === \"slug\" &&\n                                this.state.sort === \"asc\" && (\n                                  <Fa icon=\"arrow-up\" className=\"text-info\" />\n                                )}{\" \"}\n                              {this.state.sortBy !== \"slug\" && (\n                                  <Fa icon=\"arrow-down\" className=\"text-disabled\" />\n                                )}{\" \"}\n                            </th>\n                            <th>Description</th>\n                            {pageInfo && pageInfo._id === '5ccfe6aeb99ae3280fd246dc' &&\n                              <th onClick={this.sortCode}>\n                                Code{\" \"}\n                                {this.state.sortBy === \"code\" &&\n                                  this.state.sort === \"desc\" && (\n                                    <Fa icon=\"arrow-down\" className=\"text-info\" />\n                                  )}{\" \"}\n                                {this.state.sortBy === \"code\" &&\n                                  this.state.sort === \"asc\" && (\n                                    <Fa icon=\"arrow-up\" className=\"text-info\" />\n                                  )}{\" \"}\n                                {this.state.sortBy !== \"code\" && (\n                                    <Fa icon=\"arrow-down\" className=\"text-disabled\" />\n                                  )}{\" \"}\n                              </th>\n                            }\n                            <th>Parent</th>\n                            <th>Status</th>\n                            <th>&nbsp;</th>\n                          </tr>\n                        </thead>\n                        <tbody>{this.renderRows(this.state.productCategories)}</tbody>\n                      </Table>\n                    </CardBody>\n                    <CardFooter>\n                      <Row>\n                        <Col md=\"12\">\n                          <Row className=\"pull-right\">\n                            <Col md=\"4\" lg=\"4\">\n                              <FormGroup>\n                                {this.state.pagination && this.state.pagination.total > 0 &&\n                                  <Input\n                                    style={{marginBottom:'5px'}}\n                                    id=\"perPage\"\n                                    name=\"perPage\"\n                                    type=\"select\"\n                                    onChange={this.handleChangePerPage}\n                                    value={this.state.size}\n                                  >\n                                    <option value=\"10\">10 / page</option>\n                                    <option value=\"25\">25 / page</option>\n                                    <option value=\"50\">50 / page</option>\n                                    <option value=\"100\">100 / page</option>\n                                  </Input>\n                                }\n                              </FormGroup>\n                            </Col>\n                            <Col md=\"8\" lg=\"8\">\n                              {this.state.pagination && this.state.pagination.total > 0 &&\n                                <>\n                                  <Pagination\n                                    innerClass=\"pagination\"\n                                    activePage={this.state.activePage}\n                                    itemsCountPerPage={this.state.pagination.limit}\n                                    totalItemsCount={this.state.pagination.total}\n                                    pageRangeDisplayed={3}\n                                    onChange={this.handlePageChange}\n                                  />\n                                  <p>Page <em>{this.state.activePage}</em> of <em>{Math.ceil(this.state.pagination.total/this.state.pagination.limit)}</em> of <em>{numberWithCommasOnly(this.state.pagination.total)}</em> categories.</p>\n                                </>\n                              }\n                            </Col>\n                          </Row>\n                        </Col>\n                      </Row>\n                    </CardFooter>\n                  </Card>\n                </Col>\n              </Row>\n            </div>\n          </>\n        );\n      } else {\n        return (this.renderPageNotVerified());\n      }\n    } else {\n      return (this.renderNoPageAdded());\n    }\n  }\n}\n\nconst numberWithCommasOnly = x => {\n  return priceRound(x,0).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n};\n\nconst priceRound = (price, dec) => {\n  if (dec === undefined) {\n    dec = 2;\n  }\n  if (price !== 0) {\n    if (!price || isNaN(price)) {\n      throw new Error(\"price is not a number\" + price);\n    }\n  }\n  const str = parseFloat(Math.round(price * 100) / 100).toFixed(dec);\n  return str;\n};\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    getProductCategories, \n    getProductCategoriesV2, \n    getProductCategoriesAll, \n    getProductCategoriesAllV2, \n    deleteProductCategory,\n    getPageById,\n    updateProductCategory\n  }\n)(ProductCategory);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getSession, setSession } from \"../../config/session\";\nimport api from \"../../config/api\";\nimport { Link } from \"react-router-dom\";\nimport slugify from 'slugify';\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\n\nimport {\n  getProductCategoriesAllV2,\n  addProductCategory,\n  uploadPhoto,\n  removePhoto,\n} from \"../../layouts/Admin/actions/ProductCategoryActions\";\n\nimport {\n  Alert,\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  FormGroup,\n  Form,\n  Input,\n  Row,\n  Col,\n} from \"reactstrap\";\n\nclass AddProductCategory extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      category: {\n        name: \"\",\n        slug: \"\",\n        description: \"\",\n        parent: \"\",\n        ancestors: [],\n      },\n      productCategoriesMain: [],\n      isLoading: false,\n      isSaving: false,\n      submitted: false,\n      hideTutorials: false\n    };\n  }\n\n  componentDidMount() {\n    const query = {};\n    const userData = JSON.parse(getSession(\"userData\"));\n    const placeId = JSON.parse(getSession(\"defaultPage\"));\n    const { sessionToken } = userData;\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n\n    if (userData !== null) {\n      this.setState({ hideTutorials: (pageInfo && pageInfo.hideTutorials && pageInfo.hideTutorials === true) ? true : false });\n      this.props.getProductCategoriesAllV2(\n        query,\n        placeId,\n        sessionToken,\n        (error, result) => {\n          if (!error && result) {\n            const productCategories = result;\n            if(productCategories instanceof Array && productCategories.length > 0) {\n              const productCategoriesMain = productCategories.filter(cat => !cat.parent);\n              this.setState({\n                productCategories: productCategories,\n                productCategoriesMain: productCategoriesMain,\n              });\n            }\n          }\n          this.setState({ isLoading: false });\n        }\n      );\n    }\n  }\n\n  handleChange = (e) => {\n    let { name, value, type } = e.target;\n    if (type === \"checkbox\") {\n      const checked = e.target.checked;\n      value = checked;\n    }\n    this.setState({\n      category: {\n        ...this.state.category,\n        [name]: value\n      }\n    });\n    if(name==='name') {\n      const slugName = slugify(value.toLowerCase());\n      if(value!=='') {\n        this.setState({\n          category: {\n            ...this.state.category,\n            slug: slugName,\n            name: value\n          }\n        });\n      } else {\n        this.setState({\n          category: {\n            ...this.state.category,\n            name: value\n          }\n        });\n      }\n    }\n  }\n\n  onDismiss = () => {\n    this.setState({ hideTutorials: true });\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    pageInfo.hideTutorials = true;\n    setSession('pageInfo',JSON.stringify(pageInfo));\n  }\n\n  onHideTutorials = () => {\n    if (!window.confirm(\"Are you sure you want to hide this section permanently?\")) {\n      return false;\n    }\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const place = { \n      hideTutorials: true\n    }\n    api(sessionToken).patch(`/provider/places/${pageInfo._id}`, place)\n      .then(response => {\n        if (response && response.data && response.data.status === 'ok') {\n          this.setState({ hideTutorials: true });\n          pageInfo.hideTutorials = true;\n          setSession('pageInfo',JSON.stringify(pageInfo));\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      })\n      .catch(error => {\n        this.setState({ submitted: false, isSaving: false });\n        if(error.response && typeof error.response === 'string' ) {\n          this.showNotificationError(error.response);\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      });\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const hasProducts = JSON.parse(getSession(\"hasProducts\"));\n    const placeId = JSON.parse(getSession(\"defaultPage\"));\n    const { sessionToken, userId } = userData;\n    const category = {...this.state.category};\n    if (\n      category.name &&\n      category.slug\n    ) {\n      if (!window.confirm(\"Do you want to save this item?\")) {\n        return false;\n      }\n\n      this.setState({ submitted: true, isSaving: true });\n\n      if (category) {\n        category.provider = userId;\n        category.place = placeId;\n        const productCategoriesMain = this.state.productCategoriesMain;\n        const parentCategory = this.state.category.parent;\n        if(parentCategory) {\n          const categoryObj = productCategoriesMain.find(cat => cat._id === parentCategory);\n          category.ancestors.push(categoryObj._id);\n        } else {\n          category.ancestors = [];\n        }\n      \n        this.props.addProductCategory(category, placeId, sessionToken, (error, result) => {\n          if (!error && result) {\n            setSession('hasCategories',true);\n            this.setState({ submitted: false, isSaving: false });\n            if(pageInfo.isActive !== true) {\n              if(hasProducts) {\n                this.showNotification('Store has been updated. You can now activate your store.');\n                setTimeout(() => { this.props.history.push(\"/activate-store\") }, 3000);\n              } else  {\n                this.showNotification('Store has been updated. You can now add products.');\n                setTimeout(() => { this.props.history.push(\"/products/new\") }, 3000);\n              }\n            } else {\n              this.showNotification('Product category has been added.');\n              setTimeout(() => {  this.props.history.push(\"/product-categories\") }, 3000);\n            }\n          } else {\n            if (error) {\n              this.showNotificationError(error.response);\n              this.setState({ submitted: false, isSaving: false });\n            }\n          }\n        });\n      } else {\n        setTimeout(() => { this.setState({ submitted: false, isSaving: false }); }, 1000);\n        this.showNotificationError('Category information is missing.');\n      }\n    } else {\n      this.setState({ submitted: true });\n      this.showNotificationError('Some fields are required. Please fill the required fields.');\n    }\n  }\n\n  onKeyPress = e => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n    }\n  };\n\n  renderProductCategoriesMain() {\n    if (\n      this.state.productCategoriesMain !== undefined ||\n      this.state.productCategoriesMain != null\n    ) {\n      const productCategoriesMain = this.state.productCategoriesMain;\n      return productCategoriesMain.map((item, index) => (\n        <option key={index} value={item._id}>\n          {item.name}\n        </option>\n      ));\n    }\n  }\n\n  render() {\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let { submitted } = this.state;\n    return (\n      <>\n        <div className=\"content\">\n          <div className=\"react-notification-alert-container\">\n            <NotificationAlert ref=\"notify\" />\n          </div>\n          <Row>\n            <Col sm=\"12\" md=\"12\" lg=\"12\">\n              <Card>\n                <Form onSubmit={this.handleSubmit} onKeyPress={this.onKeyPress}>\n                  <CardHeader>\n                    <h4 className=\"title\">Add New Category</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <Row>\n                      {!pageInfo.hideTutorials &&\n                        <Col sm=\"12\">\n                          <Row>\n                            <Col md=\"12\">\n                              <Alert className=\"alert-compact\" color=\"primary\" isOpen={!this.state.hideTutorials} toggle={this.onDismiss} fade={false}>\n                                <h4 className=\"alert-heading\">New on Product Categories?</h4>\n                                <hr />\n                                <p className=\"mb-0\">\n                                  Check our videos here on how to manage your categories.<br /> \n                                </p>\n                                <a className=\"btn btn-sm btn-primary-v2\" href=\"https://www.youtube.com/watch?v=k8VEDqbPv7w\">View Tutorials</a>\n                                <Button\n                                  className=\"btn-fill btn-sm\"\n                                  color=\"danger\"\n                                  type=\"button\"\n                                  onClick={this.onHideTutorials}\n                                >\n                                  Hide Permanently\n                                </Button>\n                              </Alert>\n                            </Col>\n                          </Row>\n                        </Col>\n                      }\n                    </Row>\n                    <Row>\n                      <Col sm=\"12\" md=\"3\" lg=\"3\">\n                        <legend>Basic Info</legend>\n                      </Col>\n                      <Col sm=\"12\" md=\"9\" lg=\"9\">\n                        <Row>\n                          <Col md=\"12\">\n                            <FormGroup\n                              className={\n                                submitted && !this.state.category.name\n                                  ? \" has-danger\"\n                                  : \"\"\n                              }\n                            >\n                              <label htmlFor=\"name\" className=\"control-label\">\n                                Name\n                                <em className=\"text-muted\">(Required)</em>\n                              </label>\n                              <Input\n                                id=\"name\"\n                                name=\"name\"\n                                className=\"name\"\n                                placeholder=\"Category Name\"\n                                type=\"text\"\n                                value={this.state.category.name}\n                                onChange={this.handleChange}\n                                autoComplete=\"off\"\n                              />\n                            </FormGroup>\n                          </Col>\n                          <Col md=\"12\">\n                            <FormGroup\n                              className={\n                                submitted && !this.state.category.name\n                                  ? \" has-danger\"\n                                  : \"\"\n                              }\n                            >\n                              <label htmlFor=\"slug\" className=\"control-label\">\n                                Slug\n                                <em className=\"text-muted\">(Required)</em>\n                              </label>\n                              <Input\n                                id=\"slug\"\n                                name=\"slug\"\n                                placeholder=\"Slug\"\n                                type=\"text\"\n                                value={this.state.category.slug}\n                                onChange={this.handleChange}\n                              />\n                            </FormGroup>\n                          </Col>\n                          <Col md=\"12\">\n                            <FormGroup>\n                              <label htmlFor=\"parent\" className=\"control-label\">\n                                Parent Category\n                              </label>\n                              <Input\n                                id=\"parent\"\n                                name=\"parent\"\n                                placeholder=\"Parent Category\"\n                                type=\"select\"\n                                value={this.state.category.parent}\n                                onChange={this.handleChange}\n                              >\n                                <option value=\"\">Select One</option>\n                                {this.renderProductCategoriesMain()}\n                              </Input>\n                            </FormGroup>\n                          </Col>\n                          <Col md=\"12\">\n                            <FormGroup>\n                              <label htmlFor=\"description\" className=\"control-label\">\n                                Description\n                              </label>\n                              <Input\n                                id=\"description\"\n                                name=\"description\"\n                                placeholder=\"Description\"\n                                type=\"textarea\"\n                                value={this.state.category.description}\n                                onChange={this.handleChange}\n                                style={{height:'150px'}}\n                              />\n                            </FormGroup>\n                          </Col>\n                        </Row>\n                      </Col>\n                    </Row>\n                  </CardBody>\n                  <CardFooter className=\"pull-right\">\n                    <Button className=\"btn-round\" color=\"info\" type=\"submit\">\n                      Save\n                    </Button>\n                    <Link to=\"/product-categories\" className=\"btn btn-round btn-light\">\n                      Cancel\n                    </Link>\n                  </CardFooter>\n                </Form>\n              </Card>\n            </Col>\n          </Row>\n          <LoadingOverlay\n            active={this.state.isSaving}\n            spinner\n            text='Saving...'\n            >\n          </LoadingOverlay>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    getProductCategoriesAllV2,\n    addProductCategory,\n    uploadPhoto,\n    removePhoto\n  }\n)(AddProductCategory);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getSession, setSession } from \"../../config/session\";\nimport api from \"../../config/api\";\nimport { Link } from \"react-router-dom\";\nimport { PulseLoader } from 'react-spinners';\nimport slugify from 'slugify';\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\n\nimport {\n  getProductCategoryById,\n  getProductCategoriesAllV2,\n  updateProductCategory,\n  uploadPhoto,\n  removePhoto,\n} from \"../../layouts/Admin/actions/ProductCategoryActions\";\n\nimport {\n  Alert,\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  FormGroup,\n  Form,\n  Input,\n  Row,\n  Col,\n} from \"reactstrap\";\n\nclass EditProductCategory extends React.Component {\n  constructor(props) {\n    super(props);\n    const categoryId = props.match.params._id;\n    this.state = {\n      categoryId: categoryId,\n      categoryExist: false,\n      category: {},\n      productCategories: [],\n      productCategoriesMain: [],\n      images: [],\n      isLoading: true,\n      isSaving: false,\n      submitted: false,\n      hideTutorials: false\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const placeId = JSON.parse(getSession(\"defaultPage\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const sessionToken = userData.sessionToken;\n    const { categoryId } = this.state;\n    const query = {};\n\n    if (userData !== null) {\n      this.setState({ hideTutorials: (pageInfo && pageInfo.hideTutorials && pageInfo.hideTutorials === true) ? true : false });\n      this.props.getProductCategoriesAllV2(\n        query,\n        placeId,\n        sessionToken,\n        (error, result) => {\n          if (!error && result) {\n            const productCategories = result;\n            if(productCategories instanceof Array && productCategories.length > 0) {\n              const productCategoriesParent = productCategories.filter(cat => !cat.parent);\n              const productCategoriesMain = productCategoriesParent.filter(cat => cat._id !== categoryId);\n              this.setState({\n                productCategories: productCategories,\n                productCategoriesMain: productCategoriesMain,\n              },() => this.setState({ isLoading: false }) );\n            }\n          } else {\n            this.setState({ isLoading: false });\n          }\n        }\n      );\n      this.props.getProductCategoryById(categoryId, sessionToken, (error, result) => {\n        if (!error && result) {\n          const categoryObj = result;\n          this.setState({\n            categoryExist: true,\n            category: {\n              name: categoryObj.name,\n              slug: categoryObj.slug,\n              description: categoryObj.description,\n              parent: categoryObj.parent ? categoryObj.parent : \"\",\n              provider: categoryObj.provider,\n              ancestors: categoryObj.ancestors,\n              photos: (categoryObj.photos) ? categoryObj.photos : [],\n            },\n          });\n          this.setState({ isLoading: false });\n        } else if(error) {\n          this.setState({ isLoading: false });\n        }\n      });\n    }\n  }\n\n  handleChangeDesc = (data) => {\n    this.setState({\n      category: {\n        ...this.state.category,\n        description: data\n      }\n    });\n  }\n\n  handleChange = (e) => {\n    let { name, value, type } = e.target;\n    if (type === \"checkbox\") {\n      const checked = e.target.checked;\n      value = checked;\n    }\n    \n    this.setState({\n      category: {\n        ...this.state.category,\n        [name]: value\n      }\n    });\n    \n    if(name==='name') {\n      const slugName = slugify(value.toLowerCase());\n      if(value!=='') {\n        this.setState({\n          category: {\n            ...this.state.category,\n            slug: slugName,\n            name: value\n          }\n        });\n      } else {\n        this.setState({\n          category: {\n            ...this.state.category,\n            name: value\n          }\n        });\n      }\n    }\n  }\n\n  handleFileUpload = (e) => {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const files = e.target.files;\n    const images = this.state.category.photos;\n    if(images.length < 1) {\n      const categoryId = this.state.categoryId;\n      const sessionToken = userData.sessionToken;\n      const formData = new FormData();\n      formData.append('file', files[0]);\n      this.props.uploadPhoto(categoryId, formData, sessionToken, (error, result) => {\n        if (!error && result) {\n          const photo = result;\n          if(photo._id) {\n            images.push(photo);\n            this.setState({\n              category: {\n                ...this.state.category,\n                photos: images\n              }\n            });\n          }\n        } else {\n          if (error) {\n            alert(\"There is an error in uploading the file.\");\n          }\n        }\n      });\n    } else {\n      console.log('No. of files: ',files.length);\n      alert('You are only allowed to upload one(1) file!');\n    }\n  }\n\n  removeImage = (e) => {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const categoryId = this.state.categoryId;\n    const imgId = e.currentTarget.dataset.id;\n    const sessionToken = userData.sessionToken;\n    \n    this.props.removePhoto(categoryId, imgId, sessionToken, (error, result) => {\n      if (!error && result) {\n        if(result.deleted==='ok') {\n          const images = this.state.category.photos;\n          const newImages = images.filter(item => item._id !== imgId);\n          this.setState({\n            category: {\n              ...this.state.category,\n              photos: newImages\n            }\n          });\n        }\n      } else {\n        if (error) {\n          alert(\"There is an error in removing the image.\");\n        }\n      }\n    });\n  }\n\n  onDismiss = () => {\n    this.setState({ hideTutorials: true });\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    pageInfo.hideTutorials = true;\n    setSession('pageInfo',JSON.stringify(pageInfo));\n  }\n\n  onHideTutorials = () => {\n    if (!window.confirm(\"Are you sure you want to hide this section permanently?\")) {\n      return false;\n    }\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const place = { \n      hideTutorials: true\n    }\n    api(sessionToken).patch(`/provider/places/${pageInfo._id}`, place)\n      .then(response => {\n        if (response && response.data && response.data.status === 'ok') {\n          this.setState({ hideTutorials: true });\n          pageInfo.hideTutorials = true;\n          setSession('pageInfo',JSON.stringify(pageInfo));\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      })\n      .catch(error => {\n        this.setState({ submitted: false, isSaving: false });\n        if(error.response && typeof error.response === 'string' ) {\n          this.showNotificationError(error.response);\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      });\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const userData = JSON.parse(getSession(\"userData\"));\n    const { sessionToken, userId } = userData;\n    const { category, categoryId } = {...this.state};\n    if (\n      category &&\n      category.name &&\n      category.slug\n    ) {\n      if (!window.confirm(\"Do you want to save this item?\")) {\n        return false;\n      }\n\n      this.setState({ submitted: true, isSaving: true });\n\n      if (category && category.provider && category.provider.toString() === userId) {\n        const productCategoriesMain = this.state.productCategoriesMain;\n        const parentCategory = this.state.category.parent;\n        if(parentCategory) {\n          const categoryObj = productCategoriesMain.find(cat => cat._id === parentCategory);\n          category.ancestors.push(categoryObj._id);\n        } else {\n          category.ancestors = [];\n        }\n        delete category.provider;\n        delete category.photos;\n\n        if (category) {\n          this.props.updateProductCategory(category, categoryId, sessionToken, (error, result) => {\n            if (!error && result) {\n              setTimeout(() => {\n                this.setState({ submitted: false, isSaving: false });\n                this.props.history.push(\"/product-categories?message=Product category changes has been saved.\");\n              }, 1000);\n            } else {\n              if (error) {\n                setTimeout(() => { this.setState({ submitted: false, isSaving: false }); }, 1000);\n                this.showNotificationError(error.response);\n              }\n            }\n          });\n        } else {\n          setTimeout(() => { this.setState({ submitted: false, isSaving: false }); }, 1000);\n          this.showNotificationError('Category information is missing.');\n        }\n      } else {\n        this.showNotificationError('You are not allowed to update this category.');\n        setTimeout(() => {\n          this.setState({ submitted: false, isSaving: false });\n          this.props.history.push(\"/product-categories\");\n        }, 1000);\n      }\n    } else {\n      this.setState({ submitted: true });\n      this.showNotificationError('Some fields are required. Please fill the required fields.');\n    }\n  }\n\n  onKeyPress = e => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n    }\n  };\n\n  renderProductCategoriesMain(productCategoriesMain) {\n    if (productCategoriesMain && productCategoriesMain.length > 0) {\n      return productCategoriesMain.map((item, index) => (\n        <option key={index} value={item._id}>\n          {item.name} \n        </option>\n      ));\n    }\n  }\n\n  render() {\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let { submitted } = this.state;\n    const divStyle = {\n      position: 'relative',\n      height: 145,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      borderWidth: 2,\n      borderColor: '#666',\n      borderStyle: 'solid',\n      borderRadius: 5\n    };\n\n    if(this.state.isLoading) {\n      return (\n        <>\n          <div className=\"content\">\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">Edit Category</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <PulseLoader\n                      sizeUnit={\"px\"}\n                      size={15}\n                      color={'#1d8cf8'}\n                      loading={this.state.isLoading}\n                    />\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </>\n      );\n    } else {\n      if(this.state.categoryExist && this.state.category) {\n        return (\n          <>\n            <div className=\"content\">\n              <div className=\"react-notification-alert-container\">\n                <NotificationAlert ref=\"notify\" />\n              </div>\n              <Row>\n                <Col sm=\"12\" md=\"12\" lg=\"12\">\n                  <Card>\n                    <Form onSubmit={this.handleSubmit} onKeyPress={this.onKeyPress}>\n                      <CardHeader>\n                        <h4 className=\"title\">Edit Category - <em>{this.state.category.name}</em></h4>\n                      </CardHeader>\n                      <CardBody>\n                        <Row>\n                          {!pageInfo.hideTutorials &&\n                            <Col sm=\"12\">\n                              <Row>\n                                <Col md=\"12\">\n                                  <Alert className=\"alert-compact\" color=\"primary\" isOpen={!this.state.hideTutorials} toggle={this.onDismiss} fade={false}>\n                                    <h4 className=\"alert-heading\">New on Product Categories?</h4>\n                                    <hr />\n                                    <p className=\"mb-0\">\n                                      Check our videos here on how to manage your categories.<br /> \n                                    </p>\n                                    <a className=\"btn btn-sm btn-primary-v2\" href=\"https://www.youtube.com/watch?v=k8VEDqbPv7w\">View Tutorials</a>\n                                    <Button\n                                      className=\"btn-fill btn-sm\"\n                                      color=\"danger\"\n                                      type=\"button\"\n                                      onClick={this.onHideTutorials}\n                                    >\n                                      Hide Permanently\n                                    </Button>\n                                  </Alert>\n                                </Col>\n                              </Row>\n                            </Col>\n                          }\n                        </Row>\n                        <Row>\n                          <Col sm=\"12\" md=\"3\" lg=\"3\">\n                            <legend>Basic Info</legend>\n                          </Col>\n                          <Col sm=\"12\" md=\"9\" lg=\"9\">\n                            <Row>\n                              <Col md=\"12\">\n                                <FormGroup\n                                  className={\n                                    submitted && !this.state.category.name\n                                      ? \" has-danger\"\n                                      : \"\"\n                                  }\n                                >\n                                  <label htmlFor=\"name\" className=\"control-label\">\n                                    Name\n                                    <em className=\"text-muted\">(Required)</em>\n                                  </label>\n                                  <Input\n                                    id=\"name\"\n                                    name=\"name\"\n                                    className=\"name\"\n                                    placeholder=\"Category Name\"\n                                    type=\"text\"\n                                    value={this.state.category.name}\n                                    onChange={this.handleChange}\n                                    onKeyUp={this.handleChange}\n                                    autoComplete=\"off\"\n                                  />\n                                </FormGroup>\n                              </Col>\n                              <Col md=\"12\">\n                                <FormGroup\n                                  className={\n                                    submitted && !this.state.category.slug\n                                      ? \" has-danger\"\n                                      : \"\"\n                                  }\n                                >\n                                  <label htmlFor=\"slug\" className=\"control-label\">\n                                    Slug\n                                    <em className=\"text-muted\">(Required)</em>\n                                  </label>\n                                  <Input\n                                    id=\"slug\"\n                                    name=\"slug\"\n                                    placeholder=\"Slug\"\n                                    type=\"text\"\n                                    value={this.state.category.slug}\n                                    onChange={this.handleChange}\n                                    onKeyUp={this.handleChange}\n                                  />\n                                </FormGroup>\n                              </Col>\n                              <Col md=\"12\">\n                                <FormGroup>\n                                  <label htmlFor=\"parent\" className=\"control-label\">\n                                    Parent Category\n                                  </label>\n                                  <Input\n                                    id=\"parent\"\n                                    name=\"parent\"\n                                    placeholder=\"Parent Category\"\n                                    type=\"select\"\n                                    value={this.state.category.parent}\n                                    onChange={this.handleChange}\n                                  >\n                                    <option value=\"\">-None-</option>\n                                    {this.renderProductCategoriesMain(this.state.productCategoriesMain)}\n                                  </Input>\n                                </FormGroup>\n                              </Col>\n                              <Col md=\"12\">\n                                <FormGroup>\n                                  <label htmlFor=\"description\" className=\"control-label\">\n                                    Description\n                                  </label>\n                                  <Input\n                                    id=\"description\"\n                                    name=\"description\"\n                                    placeholder=\"Description\"\n                                    type=\"textarea\"\n                                    value={this.state.category.description}\n                                    onChange={this.handleChange}\n                                    style={{height:'150px'}}\n                                  />\n                                </FormGroup>\n                              </Col>\n                              <Col lg=\"6\" md=\"6\" sm=\"12\">\n                                <FormGroup>\n                                  <label className=\"control-label\" htmlFor=\"images\">Upload</label>\n                                  <div className=\"upload-photo\" style={{ margin: '10px auto', border: '1px solid #ccc', 'backgroundColor': '#efefef' }}>\n                                    <Input name=\"images\" label='upload file' type='file' onChange={this.handleFileUpload} style={divStyle} />\n                                    {this.state.category.photos && this.state.category.photos.length > 0 &&\n                                      <ul className=\"product-photos\">\n                                        {this.state.category.photos.map(({original, thumb, _id: id }) => \n                                          <li key={id} >\n                                            <img alt={original} title={id} src={thumb}/>\n                                            <button data-id={id} type=\"button\" onClick={this.removeImage} className=\"remove-image\"><span style={{color:'#fefefe'}}>&times;</span></button>\n                                          </li>\n                                        )}\n                                      </ul>}\n                                  </div>\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                          </Col>\n                        </Row>\n                      </CardBody>\n                      <CardFooter className=\"pull-right\">\n                        <Button className=\"btn-round\" color=\"info\" type=\"submit\">\n                          Save\n                        </Button>\n                        <Link to=\"/product-categories\" className=\"btn btn-round btn-light\">\n                          Cancel\n                        </Link>\n                      </CardFooter>\n                    </Form>\n                  </Card>\n                </Col>\n              </Row>\n              <LoadingOverlay\n                active={this.state.isSaving}\n                spinner\n                text='Saving...'\n                >\n              </LoadingOverlay>\n            </div>\n          </>\n        );\n      } else {\n        return (\n          <>\n            <div className=\"content\">\n              <Row>\n                <Col sm=\"12\" md=\"12\" lg=\"12\">\n                  <Card>\n                    <CardHeader>\n                      <h4 className=\"title\">Edit Category</h4>\n                    </CardHeader>\n                    <CardBody>\n                      <h4 className=\"text-danger\">Category not found</h4>\n                    </CardBody>\n                    <CardFooter>\n                      <Link to=\"/product-categories\" className=\"btn btn-round btn-default\">Back to Categories</Link>\n                    </CardFooter>\n                  </Card>\n                </Col>\n              </Row>\n            </div>\n          </>\n        );\n      }\n    }\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    getProductCategoryById,\n    getProductCategoriesAllV2,\n    updateProductCategory,\n    uploadPhoto,\n    removePhoto\n  }\n)(EditProductCategory);","import React, { Component } from 'react';\nimport { withGoogleMap, GoogleMap, withScriptjs, InfoWindow, Marker } from \"react-google-maps\";\nimport Geocode from \"react-geocode\";\n//import Autocomplete from 'react-google-autocomplete';\nGeocode.setApiKey( \"AIzaSyBXgQv7GNjKlCSb_Px9SCizvwfAJhUyi9g\" );\nGeocode.enableDebug();\n\nclass Map extends Component{\n\n\tconstructor( props ){\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\taddress: this.props.address,\n\t\t\tcity: this.props.city,\n\t\t\tarea: '',\n\t\t\tstate: '',\n\t\t\tmapPosition: {\n\t\t\t\tlat: this.props.center.lat,\n\t\t\t\tlng: this.props.center.lng\n\t\t\t},\n\t\t\tmarkerPosition: {\n\t\t\t\tlat: this.props.center.lat,\n\t\t\t\tlng: this.props.center.lng\n\t\t\t}\n\t\t}\n\t}\n\t/**\n\t * Get the current address from the default map position and set those values in the state\n\t */\n\tcomponentDidMount() {\n\t\tGeocode.fromLatLng( this.state.mapPosition.lat , this.state.mapPosition.lng ).then(\n\t\t\tresponse => {\n\t\t\t\tconst address = response.results[0].formatted_address,\n\t\t\t\t\taddressArray =  response.results[0].address_components,\n\t\t\t\t\tcity = this.getCity( addressArray ),\n\t\t\t\t\tarea = this.getArea( addressArray ),\n\t\t\t\t\tstate = this.getState( addressArray );\n\n\t\t\t\tthis.setState( {\n\t\t\t\t\taddress: ( address ) ? address : '',\n\t\t\t\t\tarea: ( area ) ? area : '',\n\t\t\t\t\tcity: ( city ) ? city : '',\n\t\t\t\t\tstate: ( state ) ? state : '',\n\t\t\t\t} )\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tconsole.error( error );\n\t\t\t}\n    );  \n\t};\n\t/**\n\t * Component should only update ( meaning re-render ), when the user selects the address, or drags the pin\n\t *\n\t * @param nextProps\n\t * @param nextState\n\t * @return {boolean}\n\t */\n\tshouldComponentUpdate( nextProps, nextState ){\n\t\tif (\n\t\t\tthis.state.markerPosition.lat !== nextState.markerPosition.lat ||\n\t\t\tthis.state.markerPosition.lng !== nextState.markerPosition.lng ||\n\t\t\tthis.state.address !== nextState.address ||\n\t\t\tthis.state.city !== nextState.city ||\n\t\t\tthis.state.area !== nextState.area ||\n\t\t\tthis.state.state !== nextState.state\n\t\t) {\n\t\t\treturn true\n\t\t} else if ( this.props.center.lat === nextProps.center.lat ){\n\t\t\treturn false\n\t\t} else {\n      return false;\n    }\n\t}\n\t/**\n\t * Get the city and set the city input value to the one selected\n\t *\n\t * @param addressArray\n\t * @return {string}\n\t */\n\tgetCity = ( addressArray ) => {\n\t\tlet city = '';\n\t\tfor( let i = 0; i < addressArray.length; i++ ) {\n\t\t\tif ( addressArray[ i ].types[0] && 'administrative_area_level_2' === addressArray[ i ].types[0] ) {\n\t\t\t\tcity = addressArray[ i ].long_name;\n\t\t\t\treturn city;\n\t\t\t}\n\t\t}\n\t};\n\t/**\n\t * Get the area and set the area input value to the one selected\n\t *\n\t * @param addressArray\n\t * @return {string}\n\t */\n\tgetArea = ( addressArray ) => {\n\t\tlet area = '';\n\t\tfor( let i = 0; i < addressArray.length; i++ ) {\n\t\t\tif ( addressArray[ i ].types[0]  ) {\n\t\t\t\tfor ( let j = 0; j < addressArray[ i ].types.length; j++ ) {\n\t\t\t\t\tif ( 'sublocality_level_1' === addressArray[ i ].types[j] || 'locality' === addressArray[ i ].types[j] ) {\n\t\t\t\t\t\tarea = addressArray[ i ].long_name;\n\t\t\t\t\t\treturn area;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t/**\n\t * Get the address and set the address input value to the one selected\n\t *\n\t * @param addressArray\n\t * @return {string}\n\t */\n\tgetState = ( addressArray ) => {\n\t\tlet state = '';\n\t\tfor( let i = 0; i < addressArray.length; i++ ) {\n\t\t\tfor( let i = 0; i < addressArray.length; i++ ) {\n\t\t\t\tif ( addressArray[ i ].types[0] && 'administrative_area_level_1' === addressArray[ i ].types[0] ) {\n\t\t\t\t\tstate = addressArray[ i ].long_name;\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t/**\n\t * And function for city,state and address input\n\t * @param event\n\t */\n\tonChange = ( event ) => {\n\t\tthis.setState({ [event.target.name]: event.target.value });\n\t};\n\t/**\n\t * This Event triggers when the marker window is closed\n\t *\n\t * @param event\n\t */\n\tonInfoWindowClose = ( event ) => {\n\n\t};\n\n\t/**\n\t * When the marker is dragged you get the lat and long using the functions available from event object.\n\t * Use geocode to get the address, city, area and state from the lat and lng positions.\n\t * And then set those values in the state.\n\t *\n\t * @param event\n\t */\n\tonMarkerDragEnd = ( event ) => {\n\t\tlet newLat = event.latLng.lat(),\n\t\t\tnewLng = event.latLng.lng();\n    this.props.onDragMarkerEnd(newLat,newLng); \n\t\tGeocode.fromLatLng( newLat , newLng ).then(\n\t\t\tresponse => {\n\t\t\t\tconst address = response.results[0].formatted_address,\n\t\t\t\t\taddressArray =  response.results[0].address_components,\n\t\t\t\t\tcity = this.getCity( addressArray ),\n\t\t\t\t\tarea = this.getArea( addressArray ),\n\t\t\t\t\tstate = this.getState( addressArray );\n\t\t\t\tthis.setState( {\n\t\t\t\t\taddress: ( address ) ? address : '',\n\t\t\t\t\tarea: ( area ) ? area : '',\n\t\t\t\t\tcity: ( city ) ? city : '',\n\t\t\t\t\tstate: ( state ) ? state : ''\n\t\t\t\t} )\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tconsole.error(error);\n\t\t\t}\n    );\n    \n\t};\n\n\t/**\n\t * When the user types an address in the search box\n\t * @param place\n\t */\n\tonPlaceSelected = ( place ) => {\n\t\tconst address = place.formatted_address,\n\t\t\taddressArray =  place.address_components,\n\t\t\tcity = this.getCity( addressArray ),\n\t\t\tarea = this.getArea( addressArray ),\n\t\t\tstate = this.getState( addressArray ),\n\t\t\tlatValue = place.geometry.location.lat(),\n\t\t\tlngValue = place.geometry.location.lng();\n\t\t// Set these values in the state.\n\t\tthis.setState({\n\t\t\taddress: ( address ) ? address : '',\n\t\t\tarea: ( area ) ? area : '',\n\t\t\tcity: ( city ) ? city : '',\n\t\t\tstate: ( state ) ? state : '',\n\t\t\tmarkerPosition: {\n\t\t\t\tlat: latValue,\n\t\t\t\tlng: lngValue\n\t\t\t},\n\t\t\tmapPosition: {\n\t\t\t\tlat: latValue,\n\t\t\t\tlng: lngValue\n\t\t\t},\n\t\t})\n\t};\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif(JSON.stringify(nextProps.center) !== JSON.stringify(this.props.center)) {\n\t\t\tthis.setState({\n\t\t\t\tmarkerPosition: {\n\t\t\t\t\t...nextProps.center,\n\t\t\t\t},\n\t\t\t\tmapPosition: {\n\t\t\t\t\t...nextProps.center,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\tif(JSON.stringify(nextProps.address) !== JSON.stringify(this.props.address)) {\n\t\t\tthis.setState({address:nextProps.address});\n\t\t}\n\t}\n\n\trender(){\n\t\tconst AsyncMap = withScriptjs(\n\t\t\twithGoogleMap(\n\t\t\t\tprops => (\n\t\t\t\t\t<GoogleMap google={ this.props.google }\n            defaultZoom={ this.props.zoom }\n            defaultCenter={{ lat: this.state.mapPosition.lat, lng: this.state.mapPosition.lng }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* InfoWindow on top of marker */}\n\t\t\t\t\t\t<InfoWindow\n\t\t\t\t\t\t\tonClose={this.onInfoWindowClose}\n\t\t\t\t\t\t\tposition={{ lat: ( this.state.markerPosition.lat + 0.0018 ), lng: this.state.markerPosition.lng }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span style={{ padding: 0, margin: 0 }}>{ this.state.address }</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</InfoWindow>\n\t\t\t\t\t\t{/*Marker*/}\n\t\t\t\t\t\t<Marker google={this.props.google}\n              name={''}\n              draggable={true}\n              onDragEnd={ this.onMarkerDragEnd }\n              position={{ lat: this.state.markerPosition.lat, lng: this.state.markerPosition.lng }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Marker />\n\t\t\t\t\t</GoogleMap>\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t\tlet map;\n\t\tif( this.props.center.lat !== undefined ) {\n\t\t\tmap = <div>\n\t\t\t\t<AsyncMap\n\t\t\t\t\tgoogleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBXgQv7GNjKlCSb_Px9SCizvwfAJhUyi9g&libraries=places\"\n\t\t\t\t\tloadingElement={\n\t\t\t\t\t\t<div style={{ height: `100%` }} />\n\t\t\t\t\t}\n\t\t\t\t\tcontainerElement={\n\t\t\t\t\t\t<div style={{ height: this.props.height }} />\n\t\t\t\t\t}\n\t\t\t\t\tmapElement={\n\t\t\t\t\t\t<div style={{ height: `100%` }} />\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t} else {\n\t\t\tmap = <div style={{height: this.props.height}} />\n\t\t}\n\t\treturn( map )\n\t}\n}\nexport default Map","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n// javascript plugin used to create scrollbars on windows\nimport PerfectScrollbar from \"perfect-scrollbar\";\n\n// core components\nimport AdminNavbar from \"components/Navbars/AdminNavbar.jsx\";\nimport Footer from \"components/Footer/Footer.jsx\";\nimport Sidebar from \"components/Sidebar/Sidebar.jsx\";\nimport FixedPlugin from \"components/FixedPlugin/FixedPlugin.jsx\";\nimport NotFound from \"views/NotFound.js\";\n\nimport routes from \"routes.js\";\nimport { getSession } from '../../config/session';\nimport { getProviderPlaces } from \"../../layouts/User/UserActions\";\nimport LoadingOverlay from 'react-loading-overlay';\n\nimport logo from \"assets/img/sb-pin-logo.png\";\n\nvar ps;\n\nclass Admin extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      backgroundColor: \"blue\",\n      userData: {},\n      loggedIn: false,\n      pageType: 'food-drink',\n      isLoading: true,\n      sidebarOpened:\n        document.documentElement.className.indexOf(\"nav-open\") !== -1\n    };\n  }\n  \n  componentDidMount() {\n    const userData = JSON.parse(getSession('userData'));\n    const sessionToken = userData.sessionToken;\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    if(userData && userData.isSBTours) {\n      this.setState({pageType:'sb-tours'});\n    } else {\n      if(pageInfo) {\n        if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') { // If pageType Grocery\n          this.setState({pageType:'grocery'});\n        }\n      } else {\n        this.props.getProviderPlaces(sessionToken,(error, result) => {\n          if (!error && result) {\n            if(result.places && result.places instanceof Array && result.places.length > 0 ) {\n              const defaultPlace = result.places.find(item => item.isDefault);\n              if(defaultPlace && defaultPlace.place && defaultPlace.place._id) {\n                pageInfo = defaultPlace.place;\n              } else {\n                pageInfo = result.places[0].place;\n              }\n              if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') {\n                this.setState({pageType:'grocery'});\n              }\n            }\n          }\n        });\n      }\n    }\n    this.setState({ loggedIn: true, userData: userData, isLoading: false });\n\n    if (navigator.platform.indexOf(\"Win\") > -1) {\n      document.documentElement.className += \" perfect-scrollbar-on\";\n      document.documentElement.classList.remove(\"perfect-scrollbar-off\");\n      ps = new PerfectScrollbar(this.refs.mainPanel, { suppressScrollX: true });\n      let tables = document.querySelectorAll(\".table-responsive\");\n      for (let i = 0; i < tables.length; i++) {\n        ps = new PerfectScrollbar(tables[i]);\n      }\n    }\n  }\n  \n  componentWillUnmount() {\n    if (navigator.platform.indexOf(\"Win\") > -1) {\n      ps.destroy();\n      document.documentElement.className += \" perfect-scrollbar-off\";\n      document.documentElement.classList.remove(\"perfect-scrollbar-on\");\n    }\n  }\n  componentDidUpdate(e) {\n    if (e.history.action === \"PUSH\") {\n      if (navigator.platform.indexOf(\"Win\") > -1) {\n        let tables = document.querySelectorAll(\".table-responsive\");\n        for (let i = 0; i < tables.length; i++) {\n          ps = new PerfectScrollbar(tables[i]);\n        }\n      }\n      document.documentElement.scrollTop = 0;\n      document.scrollingElement.scrollTop = 0;\n      this.refs.mainPanel.scrollTop = 0;\n    }\n  }\n  // this function opens and closes the sidebar on small devices\n  toggleSidebar = () => {\n    document.documentElement.classList.toggle(\"nav-open\");\n    this.setState({ sidebarOpened: !this.state.sidebarOpened });\n  };\n  getRoutes = routes => {\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const productVouchersEnabled = pageInfo && pageInfo.productVouchersEnabled ? true : false\n    const productUploadXLSEnabled = pageInfo && pageInfo.productUploadXLSEnabled ? true : false\n    return routes.map((prop, key) => {\n      if (prop.layout === \"/admin\") {\n        if (this.state.pageType) {\n          if(this.state.pageType === 'sb-tours') {\n            if(prop.path === '/import-products') return null;\n            if(prop.path === '/import-products-excel') return null;\n            if(prop.path === '/page') return null;\n            if(prop.path === '/product-categories') return null;\n            if(prop.path === '/reports/order') return null;\n            if(prop.path === '/reports/product') return null;\n          } else {\n            if(prop.path === '/tours') return null;\n            if(prop.path === '/tour-dates') return null;\n            if(defaultPage) {\n              if(defaultPage !== '5ccfe6aeb99ae3280fd246dc') {\n                if(prop.path === '/import-products') return null;\n              }\n              if(defaultPage !== '5ccfe6aeb99ae3280fd246dc' && defaultPage !== '5ea5519c91aec75b7a387d4b' && !productUploadXLSEnabled) {\n                if(prop.path === '/import-products-excel') return null\n              }\n              if(!productVouchersEnabled) {\n                if(prop.path === '/product-vouchers') return null\n              }\n            }\n          }\n        } else {\n          if(prop.path === '/tours') return null;\n          if(prop.path === '/tour-dates') return null;\n          if(defaultPage && defaultPage !== '5ccfe6aeb99ae3280fd246dc')  {\n            if(prop.path === '/import-products') return null;\n          }\n        }\n        return (\n          <Route\n            exact\n            path={prop.path}\n            component={prop.component}\n            key={key}\n          />\n        );\n      } else {\n        return null;\n      }\n    });\n  };\n  handleBgClick = color => {\n    this.setState({ backgroundColor: color });\n  };\n  getBrandText = path => {\n    for (let i = 0; i < routes.length; i++) {\n      if (\n        this.props.location.pathname.indexOf(\n          routes[i].path\n        ) !== -1\n      ) {\n        return routes[i].name;\n      }\n    }\n    return \"StreetBy\";\n  };\n  render() {\n    const userData = JSON.parse(getSession('userData'));\n    if(!userData) {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    } else {\n      return (\n        <>\n          <div className=\"wrapper\">\n            <Sidebar\n              {...this.props}\n              routes={routes}\n              bgColor={this.state.backgroundColor}\n              logo={{\n                outterLink: \"https://www.streetby.com/\",\n                text: \"StreetBy\",\n                imgSrc: logo\n              }}\n              toggleSidebar={this.toggleSidebar}\n            />\n            <div\n              className=\"main-panel\"\n              ref=\"mainPanel\"\n              data={this.state.backgroundColor}\n            >\n              <AdminNavbar\n                {...this.props}\n                brandText={this.getBrandText(this.props.location.pathname)}\n                toggleSidebar={this.toggleSidebar}\n                sidebarOpened={this.state.sidebarOpened}\n              />\n              <Switch>\n                {this.getRoutes(routes)}\n                <Route path=\"*\" component={NotFound} />\n              </Switch>\n              {this.props.location.pathname.indexOf(\"statement-of-agreement\") !== -1 ? null : (\n                <Footer fluid />\n              )}\n            </div>\n          </div>\n          <FixedPlugin\n            bgColor={this.state.backgroundColor}\n            handleBgClick={this.handleBgClick}\n          />\n          <LoadingOverlay\n            active={this.state.isLoading}\n            spinner\n            text='Loading...'\n            >\n          </LoadingOverlay>\n        </>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,{getProviderPlaces}\n)(Admin);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getSession } from \"../config/session\";\nimport api from \"../config/api\";\nimport { connect } from \"react-redux\";\nimport { WithContext as ReactTags } from \"react-tag-input\";\nimport CheckboxTree from \"react-checkbox-tree\";\nimport { FontAwesomeIcon as Fa } from \"@fortawesome/react-fontawesome\";\nimport Map from \"./Map\";\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\nimport Switch from \"react-toggle-switch\";\n\n// Import CheckboxTree styles\nimport \"react-checkbox-tree/lib/react-checkbox-tree.css\";\n\nimport { getProviderInfo } from \"../layouts/User/UserActions\";\nimport { getProductTypes } from \"../layouts/Admin/actions/ProductActions\";\nimport {\n  addPage,\n  getPageTypes,\n  getPageCategories,\n  getAmenities\n} from \"../layouts/Admin/actions/PageActions\";\nimport { setSession } from \"../config/session\";\n\nimport {\n  Alert,\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  FormGroup,\n  Form,\n  Input,\n  Label,\n  Nav,\n  NavItem,\n  NavLink,\n  Row,\n  Col\n} from \"reactstrap\";\n\nconst KeyCodes = {\n  comma: 188,\n  enter: 13\n};\n\nconst delimiters = [KeyCodes.comma, KeyCodes.enter];\n\nclass AddPage extends React.Component {\n  constructor(props) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    super(props);\n    this.state = {\n      place: {\n        pageType: \"\",\n        name: \"\",\n        about: \"\",\n        addressLine1: \"\",\n        addressLine2: \"\",\n        city: \"\",\n        province: \"\",\n        country: \"\",\n        postalCode: \"\",\n        location: \"\",\n        tags2d: [],\n        amenities: [],\n        streetby: {\n          commission: 0,\n          userDiscount: 0\n        },\n        pagecategories: [],\n        isActive: false,\n        isVerified: false,\n        useCreatedProductCategory: true,\n        showCreatedProductSubCategory: true,\n        productsViewGrid: true\n      },\n      pageTypes: [],\n      pageCategories: [],\n      pageAmenities: [],\n      isSaving: false,\n      submitted: false,\n      userData: userData,\n      checked: [],\n      expanded: [],\n      checkedAmty: [],\n      expandedAmty: [],\n      lat: 8.48479728734788,\n      lng: 124.65104731086728,\n      activeStep: 'page-info',\n      steps: {\n        pageInfo: true,\n        address: true,\n        pageCategory: true,\n        otherSettings: true\n      },\n      submitBtnDisabled: true,\n      nextBtnToAddress: true,\n      nextBtnToPageCategory: true,\n      nextBtnToOtherSettings: true,\n      cities: []\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n\n    if (userData !== null) {\n      this.props.getPageTypes((error, result) => {\n        if (!error && result) {\n          this.setState({ pageTypes: result });\n        }\n      });\n      this.props.getPageCategories((error, result) => {\n        if (!error && result) {\n          this.setState({ pageCategories: result });\n        }\n      });\n      this.props.getAmenities((error, result) => {\n        if (!error && result) {\n          this.setState({ pageAmenities: result });\n        }\n      });\n      api().get('/provider/supported-cities')\n        .then(response => {\n          if(response && response.data) {\n            const cities = response.data;\n            this.setState({cities});\n          }\n        })\n        .catch(error => {\n          console.error(error);\n        })\n    }\n  }\n\n  handleDelete = (i) => {\n    let tags2d = this.state.place.tags2d;\n    const newTags = tags2d.filter((tag, index) => index !== i);\n    this.setState({\n      place: {\n        ...this.state.place,\n        tags2d: newTags\n      }\n    });\n  }\n\n  handleAddition = (tag) => {\n    let tags2d = this.state.place.tags2d;\n    tags2d = [...tags2d,tag];\n    this.setState({\n      place: {\n        ...this.state.place,\n        tags2d: tags2d\n      }\n    });\n  }\n\n  handleDrag = (tag, currPos, newPos) => {\n    const tags2d = [...this.state.place.tags2d];\n    const newTags = tags2d.slice();\n\n    newTags.splice(currPos, 1);\n    newTags.splice(newPos, 0, tag);\n\n    this.setState({\n      place: {\n        ...this.state.place,\n        tags2d: newTags\n      }\n    });\n  }\n\n  handleChange = (e) => {\n    let { name, value, type } = e.target;\n    if (type === \"checkbox\") {\n      const checked = e.target.checked;\n      value = checked;\n    }\n    if(name === 'city' && value) {\n      const { cities } = this.state;\n      const selectedCity = cities && cities.length > 0 ? cities.find(item => item.name === value) : {};\n      const { location: { coordinates } } = selectedCity && selectedCity.location ? selectedCity : {};\n      if(coordinates && coordinates.length > 0 ) {\n        const latVal = Number(coordinates[1]);\n        const lngVal = Number(coordinates[0]);\n        if(latVal > 0 && lngVal > 0) {\n          this.setState({\n            lat: latVal,\n            lng: lngVal\n          });\n        } else {\n          this.setState({\n            lat: 8.48479728734788,\n            lng: 124.65104731086728,\n          });\n          this.showNotificationError('Map coordinates values are invalid!');\n        }\n      }\n    }\n    this.setState({\n      place: {\n        ...this.state.place,\n        [name]: value\n      }\n    }, function() {\n      if(this.state.activeStep==='page-info') {\n        if(this.state.place.name !== '' && this.state.place.pageType !== '' ) {\n          this.setState({nextBtnToAddress:false})\n        } else {\n          this.setState({nextBtnToAddress:true})\n        }\n      } else if(this.state.activeStep==='address') {\n        if(this.state.place.address !== '' && this.state.place.city !== '' ) {\n          this.setState({nextBtnToPageCategory:false})\n        } else {\n          this.setState({nextBtnToPageCategory:true})\n        }\n      }\n      if(this.state.place.name !== '' &&\n        this.state.place.pageType !== '' &&\n        this.state.place.address !== '' && \n        this.state.place.city !== '' && \n        this.state.place.pageCategories && \n        this.state.place.pageCategories.length > 0\n      ) {\n        this.setState({submitBtnDisabled:false})\n      }\n    });\n  }\n\n  handleNextToAddress = (e) => {\n    e.preventDefault();\n    this.setState({ submitted: true});\n    if(this.state.activeStep==='page-info') {\n      if(this.state.place.name !== '' && this.state.place.pageType !== '' ) {\n        this.setState({\n          steps: {\n            ...this.state.steps,\n            address: true\n          },\n          activeStep: 'address'\n        });\n        this.setState({ submitted: false });\n      } else {\n        this.setState({\n          steps: {\n            ...this.state.steps,\n            address: false\n          }\n        });\n        this.setState({ submitted: false });\n      }\n    }\n  }\n\n  handleNextToPageCategory = (e) => {\n    e.preventDefault();\n    this.setState({ submitted: true});\n    if(this.state.activeStep==='address') {\n      if(this.state.place.address !== '' && this.state.place.city !== '' ) {\n        this.setState({\n          steps: {\n            ...this.state.steps,\n            pageCategory: true\n          },\n          activeStep: 'page-category'\n        });\n        this.setState({ submitted: false });\n      } else {\n        this.setState({\n          steps: {\n            ...this.state.steps,\n            pageCategory: false\n          }\n        });\n        this.setState({ submitted: false });\n      }\n    }\n  }\n\n  handleNextToOtherSettings = (e) => {\n    e.preventDefault();\n    this.setState({ submitted: true});\n    if(this.state.activeStep==='page-category') {\n      if(this.state.checked && this.state.checked.length > 0) {\n        this.setState({\n          steps: {\n            ...this.state.steps,\n            otherSettings: true\n          },\n          activeStep: 'other-settings'\n        });\n        this.setState({ submitted: false });\n      } else {\n        this.setState({\n          steps: {\n            ...this.state.steps,\n            otherSettings: false\n          }\n        });\n        this.setState({ submitted: false });\n      }\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!window.confirm(\"Do you want to save this page?\")) {\n      return false;\n    }\n\n    const userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const { place } = { ...this.state };\n\n    if (place) {\n\n      const { lat, lng } = this.state;\n      const location = {\n        coordinates: [lng,lat],\n      }\n\n      place.location = location;\n\n      if (this.state.place.tags2d) {\n        const tagsMapped = this.state.place.tags2d.map(item => item.id);\n        place.tags = tagsMapped;\n      } else {\n        place.tags = [];\n      }\n\n      const pageCategories = this.state.pageCategories;\n\n      if (this.state.checked) {\n        const categoriesArr = this.state.checked;\n        categoriesArr.forEach(item => {\n          const category = pageCategories.find(cat => cat._id === item);\n          const categoryObj = {\n            _id: category._id,\n            name: category.name,\n            slug: category.slug\n          };\n          place.pagecategories.push(categoryObj);\n        });\n      } else {\n        place.pagecategories = [];\n      }\n\n      const pageAmenities = this.state.pageAmenities;\n      let allFeatures = [];\n      pageAmenities.forEach(item => {\n        const features = item.features;\n        allFeatures = allFeatures.concat(features);\n      });\n\n      if (this.state.checkedAmty) {\n        const amenitiesArr = this.state.checkedAmty;\n        amenitiesArr.forEach(item => {\n          const amenity = allFeatures.find(amty => amty._id === item);\n          const amenityObj = {\n            _id: amenity._id,\n            name: amenity.name,\n            description: amenity.description,\n            icon: amenity.icon,\n            isTop: false\n          };\n          place.amenities.push(amenityObj);\n        });\n      } else {\n        place.amenities = [];\n      }\n      delete place.tags2d;\n    }\n    if (place.name && place.pageType) {\n      this.setState({ submitted: true, isSaving: true });\n      this.props.addPage(place, sessionToken, (error, result) => {\n        if (error) {\n          console.error({error});\n          this.setState({ submitted:false, isSaving:false });\n          if(error instanceof String) {\n            this.showNotificationError(error);\n          } else if(error.response && error.response instanceof String) {\n            this.showNotificationError(error.response);\n          } else {\n            this.showNotificationError('There is an problem saving the page. Please try again!');\n          }\n        } else {\n          this.setState({ submitted:false, isSaving:false });\n          this.showNotification('A new page has been added!');\n          const { place } = result;\n          const pageInfo = {\n            _id: place._id,\n            name: place.name,\n            addressLine1: place.addressLine1,\n            city: place.city,\n            country: place.country,\n            province: place.province,\n            postalCode: place.postalCode,\n            pageType: place.pageType,\n            bankaccount: place.bankaccount,\n            isVerified: place.isVerified,\n            isActive: place.isActive,\n            photos: place.photos,\n            useCreatedProductCategory: place.useCreatedProductCategory,\n            hideTutorials: true,\n            productUploadXLSEnabled: place.productUploadXLSEnabled ? true : false,\n            productVouchersEnabled: place.productVouchersEnabled ? true : false\n          }\n          setSession('pageInfo',JSON.stringify(pageInfo));\n          setSession('defaultPage',JSON.stringify(place._id));\n          setSession('hasCategories',false);\n          setSession('hasProducts',false);\n          this.setState({ defaultPage: place._id });\n          setTimeout(() => {\n            this.props.history.push(\"/statement-of-agreement\");\n            window.location.reload();\n          }, 2000);\n        }\n      });\n    } else {\n      this.setState({ submitted:true });\n      this.showNotificationError('Some field are required! Please fill the missing fields.');\n    }\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  updateCoordinates = (lat, lng) => {\n    this.setState({\n      lat: lat,\n      lng: lng\n    });\n  }\n\n  onKeyPress = e => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n    }\n  };\n\n   renderPageTypes() {\n    if (this.state.pageTypes !== undefined || this.state.pageTypes != null) {\n      const activePageTypes = this.state.pageTypes.filter(\n        item => (item.isActive = !false)\n      );\n\n      return activePageTypes.map((item, index) => (\n        <option key={index} value={item._id}>\n          {item.name}\n        </option>\n      ));\n    }\n  }\n\n  \n\n  renderVerticalNav() {\n    return(\n      <Nav vertical>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'page-info' ? \" active-link\" : \"\")} to=\"#\" \n            onClick={() => { \n              this.setState({activeStep: 'page-info' } ) \n            }}\n          >\n            Store Information<span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n          </NavLink> \n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'address' ? \" active-link\" : \"\") + (this.state.steps.address === false ? \" disabled\" : \"\")} to=\"#\" \n            onClick={() => { \n              if(this.state.steps.address === true) {\n                this.setState({ activeStep: 'address' } );\n              }\n            }}\n          >\n            Address <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'page-category' ? \" active-link\" : \"\") + (this.state.steps.pageCategory === false ? \" disabled\" : \"\")} to=\"#\"  \n            onClick={() => { \n              if(this.state.steps.pageCategory === true) {\n                this.setState({ activeStep: 'page-category' } );\n              }\n            }}\n          >\n            Categories &amp; Amenities <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n          </NavLink> \n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'other-settings' ? \" active-link\" : \"\") + (this.state.steps.otherSettings === false ? \" disabled\" : \"\")} to=\"#\"\n            onClick={() => { \n              if(this.state.steps.otherSettings === true) {\n                this.setState({ activeStep: 'other-settings' } );\n              }\n            }}\n          >\n            Other Settings <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n          </NavLink>\n        </NavItem>\n      </Nav>\n    )\n  }\n\n  renderPageInfo(place) {\n    return(\n      <>\n        <Row>\n          <Col lg=\"12\" md=\"12\" sm=\"12\">\n            <FormGroup>\n              <Alert color=\"primary\">\n                Select a name, type and add description for your store.\n              </Alert>\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col className=\"\" md=\"6\" sm=\"12\">\n            <FormGroup\n              className={\n                this.state.submitted && !place.name\n                  ? \" has-danger\"\n                  : \"\"\n              }\n            >\n              <label htmlFor=\"name\" className=\"control-label\">Name <em className=\"text-muted\">(Required)</em></label>\n              <Input\n                id=\"name\"\n                name=\"name\"\n                placeholder=\"Page Name\"\n                type=\"text\"\n                value={place.name}\n                onChange={this.handleChange}\n                autoComplete=\"off\"\n              />\n            </FormGroup>\n          </Col>\n          <Col className=\"\" md=\"6\" sm=\"12\">\n            <FormGroup\n              className={\n                this.state.submitted &&\n                !place.pageType\n                  ? \" has-danger\"\n                  : \"\"\n              }\n            >\n              <label className=\"control-label\">Industry <em className=\"text-muted\">(Required)</em></label>\n              <Input\n                id=\"pageType\"\n                name=\"pageType\"\n                placeholder=\"Industry\"\n                type=\"select\"\n                value={place.pageType}\n                onChange={this.handleChange}\n              >\n                <option value=\"\">Select Industry</option>\n                {this.renderPageTypes()}\n              </Input>\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col className=\"\" sm=\"12\">\n            <FormGroup style={{ marginBottom: \"1.25rem\" }}>\n              <label htmlFor=\"about\" className=\"control-label\">About</label>\n              <Input\n                id=\"about\"\n                name=\"about\"\n                placeholder=\"About\"\n                type=\"textarea\"\n                value={place.about}\n                onChange={this.handleChange}\n                style={{height:'150px'}}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n      </>\n    )\n  }\n\n  renderAddress(place) {\n    return(\n      <>  \n        <Row>\n          <Col lg=\"12\" md=\"12\" sm=\"12\">\n            <FormGroup>\n              <Alert color=\"primary\">\n                Add address information of your store.\n              </Alert>\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col className=\"\" md=\"6\">\n            <FormGroup>\n              <label\n                htmlFor=\"addressLine1\"\n                className=\"control-label\"\n              >\n                Address <em>(Line 1)</em>\n              </label>\n              <Input\n                name=\"addressLine1\"\n                placeholder=\"Address (Line 1)\"\n                type=\"text\"\n                value={place.addressLine1}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Col>\n          <Col className=\"\" md=\"6\">\n            <FormGroup>\n              <label\n                htmlFor=\"addressLine2\"\n                className=\"control-label\"\n              >\n                Address <em>(Line 2)</em>\n              </label>\n              <Input\n                name=\"addressLine2\"\n                placeholder=\"Address (Line 2)\"\n                type=\"text\"\n                value={place.addressLine2}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col className=\"\" md=\"6\">\n            <FormGroup>\n              <label htmlFor=\"city\" className=\"control-label\">\n                City\n              </label>\n              <Input\n                id=\"city\"\n                bsSize=\"lr\"\n                name=\"city\"\n                placeholder=\"City/Town\"\n                type=\"select\"\n                value={place.city}\n                onChange={this.handleChange}\n              >\n                <option value=\"\">City/Town</option>\n                {this.renderCities(this.state.cities)}\n              </Input>\n            </FormGroup>\n          </Col>\n          <Col className=\"\" md=\"6\">\n            <FormGroup>\n              <label\n                htmlFor=\"province\"\n                className=\"control-label\"\n              >\n                Province\n              </label>\n              <Input\n                name=\"province\"\n                placeholder=\"Province\"\n                type=\"text\"\n                value={place.province}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col className=\"\" md=\"6\">\n            <FormGroup>\n              <label\n                htmlFor=\"country\"\n                className=\"control-label\"\n              >\n                Country\n              </label>\n              <Input\n                name=\"country\"\n                placeholder=\"Country\"\n                type=\"text\"\n                value={place.country}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Col>\n          <Col className=\"\" md=\"6\">\n            <FormGroup>\n              <label\n                htmlFor=\"postalCode\"\n                className=\"control-label\"\n              >\n                Postal Code\n              </label>\n              <Input\n                name=\"postalCode\"\n                placeholder=\"Postal Code\"\n                type=\"text\"\n                value={place.postalCode}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col className=\"\" md=\"12\" style={{minHeight:'460px'}}>\n            <FormGroup>\n              {this.state.lat && this.state.lng &&\n                <Map\n                  google={this.props.google}\n                  center={{\n                    lat: this.state.lat,\n                    lng: this.state.lng\n                  }}\n                  height=\"450px\"\n                  zoom={15}\n                  address={`${this.state.place.addressLine1}, ${this.state.place.city}, ${this.state.place.province}`}\n                  city={this.state.place.city}\n                  onDragMarkerEnd={this.updateCoordinates}\n                />\n              }\n            </FormGroup>\n          </Col>\n        </Row>\n      </>\n    )\n  }\n\n  renderPageCategory(amenitiesTree,categoriesTree,icons) {\n    return(\n      <>\n        <Row>\n          <Col lg=\"12\" md=\"12\" sm=\"12\">\n            <FormGroup>\n              <Alert color=\"primary\">\n                Select categories and amenities.\n              </Alert>\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col className=\"\" md=\"12\">\n            <FormGroup>\n              <label\n                htmlFor=\"pageCategory\"\n                className=\"control-label sub-legend\"\n              >\n                Page Category{\" \"}\n              </label>\n              <CheckboxTree\n                nodes={categoriesTree}\n                checked={this.state.checked}\n                expanded={this.state.expanded}\n                onCheck={\n                  checked => this.setState({ checked }, function() {\n                    if(this.state.activeStep==='page-category') {\n                      if(this.state.checked && this.state.checked.length > 0 ) {\n                        this.setState({nextBtnToOtherSettings:false})\n                      } else {\n                        this.setState({nextBtnToOtherSettings:true})\n                      }\n                    }\n                    if(this.state.place.name !== '' &&\n                      this.state.place.pageType !== '' &&\n                      this.state.place.address !== '' && \n                      this.state.place.city !== '' && \n                      this.state.checked && \n                      this.state.checked.length > 0\n                    ) {\n                      this.setState({submitBtnDisabled:false})\n                    }\n                  })\n                }\n                onExpand={expanded =>\n                  this.setState({ expanded })\n                }\n                showNodeIcon={false}\n                icons={icons}\n                nativeCheckboxes\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col\n            className=\"\"\n            md=\"12\"\n            style={{ marginTop: \"15px\" }}\n          >\n            <FormGroup>\n              <Label\n                htmlFor=\"pageAmenities\"\n                className=\"control-label sub-legend\"\n              >\n                Amenities\n              </Label>\n              <CheckboxTree\n                nodes={amenitiesTree}\n                checked={this.state.checkedAmty}\n                expanded={this.state.expandedAmty}\n                onCheck={checked =>\n                  this.setState({ checkedAmty: checked })\n                }\n                onExpand={expanded =>\n                  this.setState({ expandedAmty: expanded })\n                }\n                noCascade\n                showNodeIcon={false}\n                icons={icons}\n                onlyLeafCheckboxes={true}\n                nativeCheckboxes\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n      </>\n    )\n  }\n\n  renderOtherSettings(place) {\n    return(\n      <>\n        <Row>\n          <Col lg=\"12\" md=\"12\" sm=\"12\">\n            <FormGroup>\n              <Alert color=\"primary\">\n                Add tags and other settings for your store.\n              </Alert>\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col\n            className=\"\"\n            md=\"6\"\n            sm=\"12\"\n          >\n            <FormGroup>\n              <Label\n                htmlFor=\"tags\"\n                className=\"control-label sub-legend\"\n              >\n                Tags\n              </Label>\n              <ReactTags\n                tags={place.tags2d}\n                delimiters={delimiters}\n                handleDelete={this.handleDelete}\n                handleAddition={this.handleAddition}\n                handleDrag={this.handleDrag}\n                autofocus={false}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col md=\"6\">\n            <FormGroup>\n              <Label>\n                <Switch\n                  onClick={() => {\n                    this.setState({\n                      place: {\n                        ...this.state.place,\n                        productsViewGrid: !place.productsViewGrid\n                      }\n                    });\n                  }}\n                  on={place.productsViewGrid}\n                />\n                Product Grid View\n              </Label>\n            </FormGroup>\n          </Col>\n        </Row>\n      </>\n    )\n  }\n\n  renderCities(cities) {\n    if (cities && cities.length > 0) {\n      const activePageTypes = cities.filter(\n        item => (item.isActive = !false)\n      );\n      return activePageTypes.map((item, index) => (\n        <option key={index} value={item.name}>\n          {item.name}\n        </option>\n      ));\n    }\n  }\n\n  render() {\n    const pageCategories = this.state.pageCategories;\n    const parentCategories = pageCategories.filter(item => !item.parent);\n    const childCategories = pageCategories.filter(item => item.parent);\n    let categoriesTree = [];\n    if (parentCategories) {\n      parentCategories.forEach(cat => {\n        const value = cat._id.toString();\n        const label = cat.name;\n        const sublist = childCategories.filter(\n          item => item.parent.toString() === value\n        );\n        let children1 = [];\n        if (sublist instanceof Array && sublist.length > 0) {\n          let category1 = [];\n          sublist.forEach(cat => {\n            const value = cat._id;\n            const label = cat.name;\n            const category = {\n              value: value,\n              label: label,\n              children: []\n            };\n            category1.push(category);\n          });\n          children1 = category1;\n        }\n        const children = children1;\n        const category = {\n          value: value,\n          label: label,\n          children: children\n        };\n        categoriesTree.push(category);\n      });\n    }\n\n    const pageAmenities = this.state.pageAmenities;\n    let amenitiesTree = [];\n    if (pageAmenities) {\n      pageAmenities.forEach(item => {\n        const value = item._id;\n        const label = item.type[0].name;\n        const sublist = item.features;\n        let children1 = [];\n        if (sublist instanceof Array && sublist.length > 0) {\n          let feature1 = [];\n          sublist.forEach(subItem => {\n            const value = subItem._id;\n            const label = subItem.name;\n            const feature = {\n              value: value,\n              label: label,\n              children: []\n            };\n            feature1.push(feature);\n          });\n          children1 = feature1;\n        }\n        const children = children1;\n        const amenity = {\n          value: value,\n          label: label,\n          children: children\n        };\n        amenitiesTree.push(amenity);\n      });\n    }\n\n    const icons = {\n      check: (\n        <Fa\n          className=\"rct-icon rct-icon-check\"\n          icon={[\"far\", \"check-square\"]}\n        />\n      ),\n      uncheck: (\n        <Fa\n          className=\"rct-icon rct-icon-uncheck\"\n          icon={[\"far\", \"square\"]}\n        />\n      ),\n      halfCheck: (\n        <Fa\n          className=\"rct-icon rct-icon-half-check\"\n          icon={[\"far\", \"check-square\"]}\n        />\n      ),\n      expandClose: (\n        <Fa\n          className=\"rct-icon rct-icon-expand-close\"\n          icon=\"chevron-right\"\n        />\n      ),\n      expandOpen: (\n        <Fa\n          className=\"rct-icon rct-icon-expand-open\"\n          icon=\"chevron-down\"\n        />\n      ),\n      expandAll: (\n        <Fa\n          className=\"rct-icon rct-icon-expand-all\"\n          icon=\"plus-square\"\n        />\n      ),\n      collapseAll: (\n        <Fa\n          className=\"rct-icon rct-icon-collapse-all\"\n          icon=\"minus-square\"\n        />\n      ),\n      parentClose: (\n        <Fa\n          className=\"rct-icon rct-icon-parent-close\"\n          icon={[\"far\", \"folder\"]}\n        />\n      ),\n      parentOpen: (\n        <Fa\n          className=\"rct-icon rct-icon-parent-open\"\n          icon={[\"far\", \"folder-open\"]}\n        />\n      ),\n      leaf: (\n        <Fa\n          className=\"rct-icon rct-icon-leaf-close\"\n          icon={[\"far\", \"file\"]}\n        />\n      )\n    };\n\n    return (\n      <>\n        <div className=\"content\">\n          <div className=\"react-notification-alert-container\">\n            <NotificationAlert ref=\"notify\" />\n          </div>\n          <Row>\n            <Col sm=\"12\" md=\"12\" lg=\"12\">\n              <Card>\n                <Form onSubmit={this.handleSubmit} onKeyPress={this.onKeyPress}>\n                  <CardHeader>\n                    <h4 className=\"title\">Add New Page</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <Row>\n                      <Col sm=\"12\" md=\"12\" lg=\"12\">\n                        <Row>\n                          <Col className=\"\" sm=\"4\">\n                            {this.renderVerticalNav()}\n                          </Col>\n                          <Col className=\"\" md=\"8\" sm=\"8\">\n                            {\n                              (this.state.activeStep === 'page-info' && this.state.steps.pageInfo === true) ? this.renderPageInfo(this.state.place) :\n                              (this.state.activeStep === 'address' && this.state.steps.address === true) ? this.renderAddress(this.state.place) :\n                              (this.state.activeStep === 'page-category' && this.state.steps.pageCategory === true) ? this.renderPageCategory(amenitiesTree,categoriesTree,icons) :\n                              (this.state.activeStep === 'other-settings' && this.state.steps.pageCategory === true) ? this.renderOtherSettings(this.state.place) : this.renderPageInfo(this.state.place)\n                            }\n                          </Col>\n                        </Row>\n                      </Col>\n                    </Row>\n                  </CardBody>\n                  <CardFooter>\n                    <Button\n                      className=\"btn-fill btn-round\"\n                      disabled={this.state.submitBtnDisabled}\n                      color=\"info\"\n                      onClick={this.handleSubmitButton}\n                    >\n                      Save\n                    </Button>\n                    {this.state.activeStep==='page-info' &&\n                      <Button\n                        className=\"btn-fill btn-round\"\n                        disabled={this.state.nextBtnToAddress}\n                        color=\"info\"\n                        type=\"button\"\n                        onClick={this.handleNextToAddress}\n                      >\n                        Next\n                      </Button>\n                    }\n                    {this.state.activeStep==='address' &&\n                      <Button\n                        className=\"btn-fill btn-round\"\n                        disabled={this.state.nextBtnToPageCategory}\n                        color=\"info\"\n                        type=\"button\"\n                        onClick={this.handleNextToPageCategory}\n                      >\n                        Next\n                      </Button>\n                    }\n                    {this.state.activeStep==='page-category' &&\n                      <Button\n                        className=\"btn-fill btn-round\"\n                        disabled={this.state.nextBtnToOtherSettings}\n                        color=\"info\"\n                        type=\"button\"\n                        onClick={this.handleNextToOtherSettings}\n                      >\n                        Next\n                      </Button>\n                    }\n                    <Link\n                      to=\"/products\"\n                      className=\"btn btn-round btn-info\"\n                    >\n                      Cancel\n                    </Link>\n                  </CardFooter>\n                </Form>\n              </Card>\n            </Col>\n          </Row>\n          <LoadingOverlay\n            active={this.state.isSaving}\n            spinner\n            text='Saving...'\n            >\n          </LoadingOverlay>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    addPage,\n    getProductTypes,\n    getProviderInfo,\n    getPageTypes,\n    getPageCategories,\n    getAmenities\n  }\n)(AddPage);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getSession, setSession } from \"../config/session\";\nimport api from \"../config/api\";\nimport { connect } from \"react-redux\";\nimport { WithContext as ReactTags } from \"react-tag-input\";\nimport CheckboxTree from \"react-checkbox-tree\";\nimport { FontAwesomeIcon as Fa } from \"@fortawesome/react-fontawesome\";\nimport Map from \"./Map\";\nimport { PulseLoader, SyncLoader } from \"react-spinners\";\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\nimport Switch from \"react-toggle-switch\";\n\n// Import CheckboxTree styles\nimport \"react-checkbox-tree/lib/react-checkbox-tree.css\";\n\nimport { getProviderInfo } from \"../layouts/User/UserActions\";\nimport { getProductTypes } from \"../layouts/Admin/actions/ProductActions\";\nimport {\n  getPageById,\n  getPageTypes,\n  getPageCategories,\n  getAmenities,\n  updatePage,\n  uploadPhoto,\n  removePhoto\n} from \"../layouts/Admin/actions/PageActions\";\n\nimport {\n  Alert,\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  Col,\n  FormGroup,\n  Form,\n  Input,\n  Label,\n  Nav,\n  NavItem,\n  NavLink,\n  Row,\n} from \"reactstrap\";\n\nconst KeyCodes = {\n  comma: 188,\n  enter: 13\n};\n\nconst delimiters = [KeyCodes.comma, KeyCodes.enter];\n\nconst divStyle = {\n  position: 'relative',\n  height: 145,\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  borderWidth: 2,\n  borderColor: '#666',\n  borderStyle: 'solid',\n  borderRadius: 5\n};\n\nclass EditPage extends React.Component {\n  constructor(props) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    super(props);\n    this.state = {\n      pageId: defaultPage,\n      pageExists: false,\n      place: {},\n      pageTypes: [],\n      pageCategories: [],\n      pageAmenities: [],\n      isLoading: true,\n      submitted: false,\n      isSaving: false,\n      userData: userData,\n      checked: [],\n      expanded: [],\n      checkedAmty: [],\n      expandedAmty: [],\n      lat: 8.48479728734788,\n      lng: 124.65104731086728,\n      useCreatedProductCategory: false,\n      showCreatedProductSubCategory: false,\n      productsViewGrid: false,\n      isUploading: false,\n      activeStep: 'page-info',\n      steps: {\n        pageInfo: true,\n        address: true,\n        pageCategory: true,\n        otherSettings: true,\n        images: true,\n        bankInfo: true\n      },\n      warnings: [],\n      hideTutorials: false,\n      cities: []\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const pageId = this.state.pageId;\n\n    if (userData !== null) {\n      this.props.getPageById(pageId, sessionToken, (error, result) => {\n        if (!error && result) {\n          \n          const pageObj = result.page;\n          let tagsList = pageObj.tags.filter(item => item.trim() !== '');\n          let tagsArray = [];\n\n          if(tagsList instanceof Array && tagsList.length > 0) {\n            tagsList.forEach((item) => {\n              let listItem = {};\n              listItem.id = item;\n              listItem.text = item;\n              tagsArray.push(listItem);\n            });\n          }\n\n          let categoriesIdArray = [];\n          if(pageObj.pagecategories instanceof Array && pageObj.pagecategories.length > 0) {\n            pageObj.pagecategories.forEach(cat => {\n              let catId = cat._id;\n              categoriesIdArray.push(catId);\n            });\n          }\n\n          let amenitiesArray = [];\n          if(pageObj.amenities instanceof Array && pageObj.amenities.length > 0) {\n            pageObj.amenities.forEach(item => {\n              let itemId = item._id;\n              amenitiesArray.push(itemId);\n            });\n          }\n          \n          this.setState({\n            pageExists: true,\n            pageId: pageObj._id,\n            place: {\n              pageType: pageObj.pageType,\n              name: pageObj.name,\n              about: pageObj.about,\n              addressLine1: pageObj.addressLine1,\n              addressLine2: pageObj.addressLine2,\n              city: pageObj.city,\n              province: pageObj.province,\n              country: pageObj.country,\n              postalCode: pageObj.postalCode,\n              location: pageObj.location,\n              tags2d: tagsArray,\n              amenities: pageObj.amenities,\n              destinations: pageObj.destinations,\n              contactName: pageObj.contactName,\n              email: pageObj.email,\n              defaultContactNumber: pageObj.v,\n              callContactNumber: pageObj.callContactNumber,\n              landlineNumber: [],\n              mobileNumber: [],\n              website: pageObj.website,\n              priceCategory: pageObj.priceCategory,\n              hasLowestPrice: pageObj.hasLowestPrice,\n              lowestPrice: pageObj.lowestPrice,\n              pagecategories: pageObj.pagecategories,\n              businessHours: pageObj.businessHours,\n              isActive: pageObj.isActive,\n              isVerified: pageObj.isVerified,\n              paymentMethod: pageObj.paymentMethod,\n              loginUrl: (pageObj.privateApiInfo && pageObj.privateApiInfo.loginUrl) ? pageObj.privateApiInfo.loginUrl : \"\",\n              apiUsername: (pageObj.privateApiInfo && pageObj.privateApiInfo.username) ? pageObj.privateApiInfo.username : \"\",\n              apiPassword: (pageObj.privateApiInfo && pageObj.privateApiInfo.password) ? pageObj.privateApiInfo.password : \"\",\n              productsUrl: (pageObj.privateApiInfo && pageObj.privateApiInfo.productsUrl) ? pageObj.privateApiInfo.productsUrl : \"\",\n              apiKey: (pageObj.privateApiInfo && pageObj.privateApiInfo.apiKey) ? pageObj.privateApiInfo.apiKey : \"\",\n              useCreatedProductCategory: pageObj.useCreatedProductCategory,\n              showCreatedProductSubCategory: pageObj.showCreatedProductSubCategory,\n              productsViewGrid: pageObj.productsViewGrid,\n              notificationText: pageObj.productsNotificationText && pageObj.productsNotificationText.notificationText ? pageObj.productsNotificationText.notificationText : '',\n              notificationType: pageObj.productsNotificationText && pageObj.productsNotificationText.notificationType ? pageObj.productsNotificationText.notificationType : 'default',\n              accountName: (pageObj.bankaccount && pageObj.bankaccount.accountName) ? pageObj.bankaccount.accountName : \"\",\n              accountNumber: (pageObj.bankaccount && pageObj.bankaccount.accountNumber) ? pageObj.bankaccount.accountNumber : \"\",\n              bankName: (pageObj.bankaccount && pageObj.bankaccount.bankName) ? pageObj.bankaccount.bankName : \"\",\n              photos: pageObj.photos ? pageObj.photos : [],\n              hideTutorials: (pageObj.hideTutorials && pageObj.hideTutorials === true) ? true : false\n            },\n            checked: [...categoriesIdArray],\n            checkedAmty: [...amenitiesArray],\n            lat: pageObj.location.coordinates[1],\n            lng: pageObj.location.coordinates[0],\n          },function() { this.setState({ isLoading: false }) });\n\n          let warnings = [];\n          if(this.state.place.photos && this.state.place.photos.length < 1) {\n            warnings = [...warnings,'You have not added a profile photo for your store.'];\n          }\n          if(this.state.place.accountName && this.state.place.accountNumber && this.state.place.bankName) {\n            if(this.state.place.accountName === '' || this.state.place.accountNumber === '' || this.state.place.bankName === '') {\n              warnings = [...warnings,'The bank details you provide is incomplete.'];\n            }\n          } else {\n            warnings.push('You have not provided bank details for your store.');\n          }\n          if(this.state.place.addressLine1 === '' || this.state.place.city === '') {\n            warnings = [...warnings,'Please provide address details for your store.'];\n          }\n          this.setState({ warnings: warnings });\n        } else if(error) {\n          this.setState({ isLoading: false });\n        }\n      });\n      this.props.getPageTypes((error, result) => {\n        if (!error && result) {\n          this.setState({ pageTypes: result });\n        }\n      });\n      this.props.getPageCategories((error, result) => {\n        if (!error && result) {\n          this.setState({ pageCategories: result });\n        }\n      });\n      this.props.getAmenities((error, result) => {\n        if (!error && result) {\n          this.setState({ pageAmenities: result });\n        }\n      });\n      api().get('/provider/supported-cities')\n        .then(response => {\n          if(response && response.data) {\n            const cities = response.data;\n            this.setState({cities});\n          }\n        })\n        .catch(error => {\n          console.error(error);\n        })\n    }\n  }\n\n  handleDelete = (i) => {\n    const { tags2d } = this.state.place;\n    const newTags = tags2d.filter((tag, index) => index !== i);\n    this.setState({\n      place: {\n        ...this.state.place,\n        tags2d: newTags\n      }\n    });\n  }\n\n  handleAddition = (tag) => {\n    const { tags2d } = this.state.place;\n    tags2d.push(tag);\n    this.setState({\n      place: {\n        ...this.state.place,\n        tags2d: tags2d\n      }\n    });\n  }\n\n  handleDrag = (tag, currPos, newPos) => {\n    const tags2d = [...this.state.place.tags2d];\n    const newTags = tags2d.slice();\n\n    newTags.splice(currPos, 1);\n    newTags.splice(newPos, 0, tag);\n\n    this.setState({\n      place: {\n        ...this.state.place,\n        tags2d: newTags\n      }\n    });\n  }\n\n  handleChange = (e) => {\n    let { name, value, type } = e.target;\n    if (type === \"checkbox\") {\n      const checked = e.target.checked;\n      value = checked;\n    }\n    if(name === 'city' && value) {\n      const { cities } = this.state;\n      const selectedCity = cities && cities.length > 0 ? cities.find(item => item.name === value) : {};\n      const { location: { coordinates } } = selectedCity && selectedCity.location ? selectedCity : {};\n      if(coordinates && coordinates.length > 0 ) {\n        const latVal = Number(coordinates[1]);\n        const lngVal = Number(coordinates[0]);\n        if(latVal > 0 && lngVal > 0) {\n          this.setState({\n            lat: latVal,\n            lng: lngVal\n          });\n        } else {\n          this.setState({\n            lat: 8.48479728734788,\n            lng: 124.65104731086728,\n          });\n          this.showNotificationError('Map coordinates values are invalid!');\n        }\n      }\n    }\n    this.setState({\n      place: {\n        ...this.state.place,\n        [name]: value\n      }\n    });\n  }\n\n  onKeyPress = (e) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n    }\n  };\n\n  onDismiss = () => {\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    this.setState({\n      place: {\n        ...this.state.place,\n        hideTutorials: true\n      }\n    });\n    pageInfo.hideTutorials = true;\n    setSession('pageInfo',JSON.stringify(pageInfo));\n  }\n\n  onHideTutorials = () => {\n    if (!window.confirm(\"Are you sure you want to hide this section permanently?\")) {\n      return false;\n    }\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const place = { \n      hideTutorials: true\n    }\n    this.props.updatePage(place, pageInfo._id, sessionToken, (error, result) => {\n      if (result) {\n        this.setState({\n          place: {\n            ...this.state.place,\n            hideTutorials: true\n          }\n        });\n        pageInfo.hideTutorials = true;\n        setSession('pageInfo',JSON.stringify(pageInfo));\n      }\n    });\n  }\n\n  handleSubmit = (e) =>{\n    e.preventDefault();\n    const hasCategories = JSON.parse(getSession(\"hasCategories\"));\n    const hasProducts = JSON.parse(getSession(\"hasProducts\"));\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    if(!userData) {\n      this.showNotificationError('You are not logged in. Please login to continue.');\n      setTimeout(() => { \n        this.props.history.push(\"/login\");\n        window.location.reload();\n      },2000);\n    }\n    const sessionToken = userData.sessionToken;\n  \n    const { place, pageId: placeId\n     } = { ...this.state };\n\n    if (place.name && place.pageType && place.addressLine1 && place.city) {\n\n      if (!window.confirm(\"Do you want to save this page?\")) {\n        return false;\n      }\n\n      this.setState({ submitted: true, isSaving: true });\n      \n      if (place) {\n        const { lat, lng } = this.state;\n        const location = {\n          type: \"Point\",\n          coordinates: [lng,lat],\n        }\n        place.location = location;\n        if (this.state.place.tags2d) {\n          const tagsMapped = this.state.place.tags2d.map(item => item.id);\n          place.tags = tagsMapped;\n        } else {\n          place.tags = [];\n        }\n        const pageCategories = this.state.pageCategories;\n        if (this.state.checked) {\n          const categoriesArr = this.state.checked;\n          categoriesArr.forEach(item => {\n            const category = pageCategories.find(cat => cat._id === item);\n            const categoryObj = {\n              _id: category._id,\n              name: category.name,\n              slug: category.slug\n            };\n            place.pagecategories.push(categoryObj);\n          });\n        } else {\n          place.pagecategories = [];\n        }\n\n        const pageAmenities = this.state.pageAmenities;\n        let allFeatures = [];\n        pageAmenities.forEach(item => {\n          const features = item.features;\n          allFeatures = allFeatures.concat(features);\n        });\n\n        if (this.state.checkedAmty) {\n          const amenitiesArr = this.state.checkedAmty;\n          amenitiesArr.forEach(item => {\n            const amenity = allFeatures.find(amty => amty._id === item);\n            const amenityObj = {\n              _id: amenity._id,\n              name: amenity.name,\n              description: amenity.description,\n              icon: amenity.icon,\n              isTop: false\n            };\n            place.amenities.push(amenityObj);\n          });\n        } else {\n          place.amenities = [];\n        }\n\n        const privateApiInfo = {\n          loginUrl: this.state.place.loginUrl ? this.state.place.loginUrl : \"\",\n          username: this.state.place.apiUsername ? this.state.place.apiUsername : \"\",\n          password: this.state.place.apiPassword ? this.state.place.apiPassword : \"\",\n          productsUrl: this.state.place.productsUrl ? this.state.place.productsUrl : \"\",\n          apiKey: this.state.place.apiKey ? this.state.place.apiKey : \"\",\n        }\n       \n        let productsNotificationText = {};\n        if (this.state.place.notificationText && this.state.place.notificationType) {\n          productsNotificationText = {\n            notificationText: this.state.place.notificationText,\n            notificationType: this.state.place.notificationType\n          };\n        }\n        place.bankaccount = {\n          bankName: this.state.place.bankName ? this.state.place.bankName : '',\n          accountName: this.state.place.accountName ? this.state.place.accountName : '',\n          accountNumber: this.state.place.accountNumber ? this.state.place.accountNumber : ''\n        }\n        place.productsNotificationText = productsNotificationText;\n        place.privateApiInfo = privateApiInfo;\n        delete place.tags2d;\n        delete place.loginUrl;\n        delete place.apiUsername;\n        delete place.apiPassword;\n        delete place.productsUrl;\n        delete place.apiKey;\n        delete place.notificationText;\n        delete place.notificationType;\n        delete place.bankName;\n        delete place.accountName;\n        delete place.accountNumber\n                \n        this.props.updatePage(place, placeId, sessionToken, (error, result) => {\n          if (result) {\n            this.setState({ submitted: false, isSaving: false });\n            const pageInfoUpdated = {\n              _id: placeId,\n              name: place.name,\n              addressLine1: place.addressLine1,\n              city: place.city,\n              country: place.country,\n              province: place.province,\n              postalCode: place.postalCode,\n              pageType: place.pageType,\n              bankaccount: place.bankaccount,\n              isVerified: place.isVerified,\n              isActive: place.isActive,\n              photos: place.photos,\n              useCreatedProductCategory: place.useCreatedProductCategory,\n              hideTutorials: pageInfo.hideTutorials,\n              productUploadXLSEnabled: place.productUploadXLSEnabled ? true : false,\n              productVouchersEnabled: place.productVouchersEnabled ? true : false\n            }\n            setSession('pageInfo',JSON.stringify(pageInfoUpdated));\n            if(place) {\n              if(place.isActive !== true) {\n                if(hasCategories) {\n                  if(hasProducts) {\n                    this.showNotification('Store has been updated. You can now activate your store.');\n                    setTimeout(() => { this.props.history.push(\"/activate-store\") }, 3000);\n                  } else  {\n                    this.showNotification('Store has been updated. You can now add products.');\n                    setTimeout(() => { this.props.history.push(\"/products/new\") }, 3000);\n                  }\n                } else {\n                  this.showNotification('Store information has been updated. You can now add categories.');\n                  setTimeout(() => { this.props.history.push(\"/product-categories/new\") }, 3000);\n                }\n              } else {\n                this.showNotification('Store information has been updated.');\n                setTimeout(() => {  this.props.history.push(\"/page\") }, 3000);\n              }\n            }\n          } else {\n            if (error) {\n              if (error.response && error.response.status) {\n                if(error.response.status === 401) { \n                  this.showNotificationError('Invalid credentials. Please try again');\n                  setTimeout(() => {\n                    this.props.history.push(\"/page\");\n                    window.location.reload();\n                  }, 2000);\n                } else {\n                  if (typeof error.response.statusText === 'string') {\n                    this.showNotificationError(error.response.statusText);\n                  } else {\n                    this.showNotificationError('There is an error saving the page.');\n                  }\n                }\n              } else {\n                if (error.message && typeof error.message === 'string') {\n                  this.showNotificationError(error.message);\n                } else {\n                  this.showNotificationError('There is an error saving the page.');\n                }\n              }\n            }\n            this.setState({ submitted: false, isSaving: false });\n          }\n        });\n      } else {\n        this.setState({ submitted: false, isSaving: false });\n        this.showNotificationError('Page information is missing.');\n      }\n    } else {\n      this.setState({ submitted: true });\n      this.showNotificationError('Some fields are required. Please fill the required fields.');\n    }\n  }\n\n  handleFileUpload = (e) => {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const files = e.target.files;\n    const images = this.state.place.photos;\n\n    if(images.length<6) {\n      this.setState({isUploading: true});\n      const pageId = this.state.pageId;\n      const sessionToken = userData.sessionToken;\n      const images = this.state.place.photos;\n      const formData = new FormData();\n      formData.append('file', files[0]);\n      this.props.uploadPhoto(pageId, formData, sessionToken, (error, result) => {\n        if (!error && result) {\n          this.setState({ isUploading:false });\n          const photo = result;\n          if(photo._id) {\n            images.push(photo);\n            this.setState({\n              place: {\n                ...this.state.place,\n                photos: images\n              }\n            });\n          }\n        } else {\n          this.setState({ isUploading:false });\n          if (error.response && typeof error.response === 'string') {\n            console.error(error.response);\n            this.showNotificationError(error.response);\n          } else {\n            console.error({error});\n            this.showNotificationError('There is an error uploading the file. Please try again');\n          }\n        }\n      });\n    } else {\n      this.setState({ isUploading:false });\n      console.log('No. of files: ',files.length);\n      alert('You are only allowed to upload a maximum of 6 files!');\n    }\n  }\n\n  removeImage = (e) => {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = this.state.pageId;\n    const imgId = e.currentTarget.dataset.id;\n    const sessionToken = userData.sessionToken;\n\n    this.props.removePhoto(pageId, imgId, sessionToken, (error, result) => {\n      if (!error && result) {\n        if(result.deleted==='ok') {\n          const images = this.state.place.photos;\n          const newImages = images.filter(item => item._id !== imgId);\n          this.setState({\n            place: {\n              ...this.state.place,\n              photos: newImages\n            }\n          });\n          this.showNotification('Image was successfully removed.');\n        }\n      } else {\n        if (error.response && typeof error.response === 'string') {\n          console.error(error.response);\n          this.showNotificationError(error.response);\n        } else {\n          console.error({error});\n          this.showNotificationError('There is error removing the image.');\n        }\n      }\n    });\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  updateCoordinates = (lat, lng) => {\n    this.setState({\n      lat: lat,\n      lng: lng\n    });\n  }\n\n  renderPageTypes() {\n    if (this.state.pageTypes !== undefined || this.state.pageTypes != null) {\n      const activePageTypes = this.state.pageTypes.filter(\n        item => (item.isActive = !false)\n      );\n\n      return activePageTypes.map((item, index) => (\n        <option key={index} value={item._id}>\n          {item.name}\n        </option>\n      ));\n    }\n  }\n\n  renderVerticalNavBar() {\n    return(\n      <Nav vertical >\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'page-info' ? \" active-link\" : \"\")} to=\"#\" \n            onClick={() => { \n              this.setState({activeStep: 'page-info' } ) \n            }}\n          >\n            Place Information<span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n          </NavLink> \n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'address' ? \" active-link\" : \"\") + (this.state.steps.address === false ? \" disabled\" : \"\")} to=\"#\" \n            onClick={() => { \n              if(this.state.steps.address === true) {\n                this.setState({ activeStep: 'address' } );\n              }\n            }}\n          >\n            Address <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'page-category' ? \" active-link\" : \"\") + (this.state.steps.pageCategory === false ? \" disabled\" : \"\")} to=\"#\" \n            onClick={() => { \n              if(this.state.steps.pageCategory === true) {\n                this.setState({ activeStep: 'page-category' } );\n              }\n            }}\n          >\n            Categories &amp; Amenities <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'other-settings' ? \" active-link\" : \"\") + (this.state.steps.otherSettings === false ? \" disabled\" : \"\")} to=\"#\" \n            onClick={() => { \n              if(this.state.steps.otherSettings === true) {\n                this.setState({ activeStep: 'other-settings' } );\n              }\n            }}\n          >\n            Other Settings <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'images' ? \" active-link\" : \"\") + (this.state.steps.images === false ? \" disabled\" : \"\")} to=\"#\" \n            onClick={() => { \n              if(this.state.steps.images === true) {\n                this.setState({ activeStep: 'images' } );\n              }\n            }}\n          >\n            Images <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'bank-info' ? \" active-link\" : \"\") + (this.state.steps.bankInfo === false ? \" disabled\" : \"\")} to=\"#\" \n            onClick={() => { \n              if(this.state.steps.bankInfo === true) {\n                this.setState({ activeStep: 'bank-info' } );\n              }\n            }}\n          >\n            Bank Details <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span>\n          </NavLink>\n        </NavItem>\n      </Nav>\n    );\n  }\n\n  renderPageInfo(place) {\n    return(\n      <>\n        <Row>\n          <Col md=\"6\" sm=\"12\">\n            <FormGroup\n              className={\n                this.state.submitted && !place.name\n                  ? \" has-danger\"\n                  : \"\"\n              }\n            >\n              <label htmlFor=\"name\" className=\"control-label\">\n                Name <em className=\"text-muted\">(Required)</em>\n              </label>\n              <Input\n                id=\"name\"\n                name=\"name\"\n                placeholder=\"Page Name\"\n                type=\"text\"\n                value={this.state.place.name}\n                onChange={this.handleChange}\n                autoComplete=\"off\"\n              />\n            </FormGroup>\n          </Col>\n          <Col md=\"6\" sm=\"12\">\n            <FormGroup\n              className={\n                this.state.submitted &&\n                !place.pageType\n                  ? \" has-danger\"\n                  : \"\"\n              }\n            >\n              <label className=\"control-label\">Industry <em className=\"text-muted\">(Required)</em></label>\n              <Input\n                id=\"pageType\"\n                name=\"pageType\"\n                placeholder=\"Industry\"\n                type=\"select\"\n                value={place.pageType}\n                onChange={this.handleChange}\n              >\n                <option value=\"\">Select Industry</option>\n                {this.renderPageTypes()}\n              </Input>\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col md=\"12\">\n            <FormGroup style={{ marginBottom: \"1.25rem\" }}>\n              <label htmlFor=\"about\" className=\"control-label\">About</label>\n              <Input\n                id=\"about\"\n                name=\"about\"\n                placeholder=\"About\"\n                type=\"textarea\"\n                value={place.about}\n                onChange={this.handleChange}\n                style={{height:'150px'}}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n      </>\n    )\n  }\n\n  renderAddress(place) {\n    return(\n      <>\n        <Row>\n          <Col md=\"6\">\n            <FormGroup>\n              <label\n                htmlFor=\"addressLine1\"\n                className=\"control-label\"\n              >\n                Address <em>(Line 1)</em>\n              </label>\n              <Input\n                name=\"addressLine1\"\n                placeholder=\"Address (Line 1)\"\n                type=\"text\"\n                value={place.addressLine1}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Col>\n          <Col md=\"6\">\n            <FormGroup>\n              <label\n                htmlFor=\"addressLine2\"\n                className=\"control-label\"\n              >\n                Address <em>(Line 2)</em>\n              </label>\n              <Input\n                name=\"addressLine2\"\n                placeholder=\"Address (Line 2)\"\n                type=\"text\"\n                value={place.addressLine2}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col md=\"6\">\n            <FormGroup>\n              <label htmlFor=\"city\" className=\"control-label\">\n                City\n              </label>\n              <Input\n                id=\"city\"\n                bsSize=\"lr\"\n                name=\"city\"\n                placeholder=\"City/Town\"\n                type=\"select\"\n                value={place.city}\n                onChange={this.handleChange}\n              >\n                <option value=\"\">City/Town</option>\n                {this.renderCities(this.state.cities)}\n              </Input>\n            </FormGroup>\n          </Col>\n          <Col md=\"6\">\n            <FormGroup>\n              <label\n                htmlFor=\"province\"\n                className=\"control-label\"\n              >\n                Province\n              </label>\n              <Input\n                name=\"province\"\n                placeholder=\"Province\"\n                type=\"text\"\n                value={place.province}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col md=\"6\">\n            <FormGroup>\n              <label\n                htmlFor=\"country\"\n                className=\"control-label\"\n              >\n                Country\n              </label>\n              <Input\n                name=\"country\"\n                placeholder=\"Country\"\n                type=\"text\"\n                value={place.country}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Col>\n          <Col md=\"6\">\n            <FormGroup>\n              <label\n                htmlFor=\"postalCode\"\n                className=\"control-label\"\n              >\n                Postal Code\n              </label>\n              <Input\n                name=\"postalCode\"\n                placeholder=\"Postal Code\"\n                type=\"text\"\n                value={place.postalCode}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col md=\"12\">\n            <FormGroup>\n              <Map\n                google={this.props.google}\n                center={{\n                  lat: this.state.lat,\n                  lng: this.state.lng\n                }}\n                address={`${place.addressLine1}, ${place.city}, ${place.province}, ${place.country}`}\n                city={this.state.place.city}\n                height=\"450px\"\n                zoom={15}\n                onDragMarkerEnd={this.updateCoordinates}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n      </>\n    );\n  }\n\n  renderPageCategory(amenitiesTree,categoriesTree,icons) {\n    return(\n      <>\n        <Row>\n          <Col md=\"12\">\n            <FormGroup>\n              <label\n                htmlFor=\"pageCategory\"\n                className=\"control-label sub-legend\"\n              >\n                Page Category{\" \"}\n              </label>\n              <CheckboxTree\n                nodes={categoriesTree}\n                checked={this.state.checked}\n                expanded={this.state.expanded}\n                onCheck={checked => this.setState({ checked })}\n                onExpand={expanded =>\n                  this.setState({ expanded })\n                }\n                showNodeIcon={false}\n                icons={icons}\n                nativeCheckboxes\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col\n            className=\"pr-md-1\"\n            md=\"12\"\n            style={{ marginTop: \"15px\" }}\n          >\n            <FormGroup>\n              <label\n                htmlFor=\"pageAmenities\"\n                className=\"control-label sub-legend\"\n              >\n                Amenities\n              </label>\n              <CheckboxTree\n                nodes={amenitiesTree}\n                checked={this.state.checkedAmty}\n                expanded={this.state.expandedAmty}\n                onCheck={checked =>\n                  this.setState({ checkedAmty: checked })\n                }\n                onExpand={expanded =>\n                  this.setState({ expandedAmty: expanded })\n                }\n                noCascade\n                showNodeIcon={false}\n                icons={icons}\n                onlyLeafCheckboxes={true}\n                nativeCheckboxes\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n      </>\n    );\n  }\n\n  renderOtherSettings(place) {\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    return(\n      <>\n        { pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb' &&\n          <Row>\n            <Col md=\"6\" sm=\"12\">\n              <FormGroup>\n                <label htmlFor=\"notificationText\" className=\"control-label\">\n                  Products Notification Text\n                </label>\n                <Input\n                  id=\"notificationText\"\n                  name=\"notificationText\"\n                  placeholder=\"Notification Text\"\n                  type=\"text\"\n                  value={place.notificationText}\n                  onChange={this.handleChange}\n                  autoComplete=\"off\"\n                />\n              </FormGroup>\n            </Col>\n            <Col md=\"6\" sm=\"12\">\n              <FormGroup>\n                <label className=\"control-label\">Notification Type</label>\n                <Input\n                  id=\"notificationType\"\n                  name=\"notificationType\"\n                  placeholder=\"Notification Type\"\n                  type=\"select\"\n                  value={place.notificationType}\n                  onChange={this.handleChange}\n                >\n                  <option value=\"default\">Default</option>\n                  <option value=\"info\">Info</option>\n                  <option value=\"success\">Success</option>\n                  <option value=\"warning\">Warning</option>\n                  <option value=\"danger\">Danger</option>\n                </Input>\n              </FormGroup>\n            </Col>\n          </Row>\n        }\n        <Row>\n          <Col\n            className=\"pr-md-1\"\n            md=\"12\"\n            sm=\"12\"\n            style={{ marginTop: \"15px\" }}\n          >\n            <FormGroup>\n              <label\n                htmlFor=\"tags\"\n                className=\"control-label sub-legend\"\n              >\n                Tags\n              </label>\n              <ReactTags\n                tags={place.tags2d}\n                delimiters={delimiters}\n                handleDelete={this.handleDelete}\n                handleAddition={this.handleAddition}\n                handleDrag={this.handleDrag}\n                autofocus={false}\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n        { pageInfo &&\n          <>\n            { pageInfo.pageType === '5cd141d10d437be772373ddb' &&\n              <Row>\n                <Col md=\"6\">\n                  <FormGroup>\n                    <Label>\n                      <Switch\n                        onClick={() => {\n                          this.setState({\n                            place: {\n                              ...this.state.place,\n                              useCreatedProductCategory: !place.useCreatedProductCategory\n                            }\n                          });\n                        }}\n                        on={place.useCreatedProductCategory}\n                      />\n                      Use Product Categories\n                    </Label>\n                  </FormGroup>\n                </Col>\n              </Row>\n            }\n            { pageInfo.pageType === '5cd141d10d437be772373ddb' &&\n              <Row>\n                <Col md=\"6\">\n                  <FormGroup>\n                    <Label>\n                      <Switch\n                        onClick={() => {\n                          this.setState({\n                            place: {\n                              ...this.state.place,\n                              showCreatedProductSubCategory: !place.showCreatedProductSubCategory\n                            }\n                          });\n                        }}\n                        on={place.showCreatedProductSubCategory}\n                      />\n                      Show Product Sub-Categories\n                    </Label>\n                  </FormGroup>\n                </Col>\n              </Row>\n            }\n            <Row>\n              <Col md=\"6\">\n                <FormGroup>\n                  <Label>\n                    <Switch\n                      onClick={() => {\n                        this.setState({\n                          place: {\n                            ...this.state.place,\n                            productsViewGrid: !place.productsViewGrid\n                          }\n                        });\n                      }}\n                      on={place.productsViewGrid}\n                    />\n                    Product Grid View\n                  </Label>\n                </FormGroup>\n              </Col>\n            </Row>\n          </>\n        }\n        { pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb' &&\n          <>\n            <Row>\n              <Col sm=\"12\">\n                <Alert color=\"primary\">These are information for your private API.</Alert>\n              </Col>\n            </Row>\n            <Row>\n              <Col md=\"12\">\n                <FormGroup>\n                  <label htmlFor=\"loginUrl\" className=\"control-label\">\n                    Login URL\n                  </label>\n                  <Input\n                    id=\"loginUrl\"\n                    name=\"loginUrl\"\n                    placeholder=\"Login URL\"\n                    type=\"text\"\n                    value={this.state.place.loginUrl}\n                    onChange={this.handleChange}\n                    autoComplete=\"off\"\n                  />\n                </FormGroup>\n              </Col>\n            </Row>\n            <Row>\n              <Col md=\"6\" sm=\"12\">\n                <FormGroup>\n                  <label htmlFor=\"apiUsername\" className=\"control-label\">\n                    Username\n                  </label>\n                  <Input\n                    id=\"apiUsername\"\n                    name=\"apiUsername\"\n                    placeholder=\"API Username\"\n                    type=\"text\"\n                    value={this.state.place.apiUsername}\n                    onChange={this.handleChange}\n                    autoComplete=\"off\"\n                  />\n                </FormGroup>\n              </Col>\n              <Col md=\"6\" sm=\"12\">\n                <FormGroup>\n                  <label htmlFor=\"apiPassword\" className=\"control-label\">\n                    API Password\n                  </label>\n                  <Input\n                    id=\"apiPassword\"\n                    name=\"apiPassword\"\n                    placeholder=\"API Password\"\n                    type=\"password\"\n                    value={this.state.place.apiPassword}\n                    onChange={this.handleChange}\n                    autoComplete=\"off\"\n                  />\n                </FormGroup>\n              </Col>\n            </Row>\n            <Row>\n              <Col md=\"12\">\n                <FormGroup>\n                  <label htmlFor=\"productsUrl\" className=\"control-label\">\n                    Products URL\n                  </label>\n                  <Input\n                    id=\"productsUrl\"\n                    name=\"productsUrl\"\n                    placeholder=\"Products URL\"\n                    type=\"text\"\n                    value={this.state.place.productsUrl}\n                    onChange={this.handleChange}\n                    autoComplete=\"off\"\n                  />\n                </FormGroup>\n              </Col>\n            </Row>\n            <Row>\n              <Col md=\"12\" sm=\"12\">\n                <FormGroup>\n                  <label htmlFor=\"apiKey\" className=\"control-label\">\n                    API Key\n                  </label>\n                  <Input\n                    id=\"apiKey\"\n                    name=\"apiKey\"\n                    placeholder=\"API Key\"\n                    type=\"text\"\n                    value={this.state.place.apiKey}\n                    onChange={this.handleChange}\n                    autoComplete=\"off\"\n                  />\n                </FormGroup>\n              </Col>\n            </Row>\n          </>\n        }\n      </>\n    )\n  }\n\n  renderBankInfo(place) {\n    return(\n      <>\n        <Row>\n          <Col sm=\"12\">\n            <Alert color=\"primary\">Enter your bank details. This will be used for depositing gateway transactions.</Alert>\n          </Col>\n        </Row>\n        <Row>\n          <Col md=\"12\">\n            <FormGroup>\n              <label htmlFor=\"bankName\" className=\"control-label\">\n                Bank Name\n              </label>\n              <Input\n                id=\"bankName\"\n                name=\"bankName\"\n                placeholder=\"Bank\"\n                type=\"text\"\n                value={place.bankName || ''}\n                onChange={this.handleChange}\n                autoComplete=\"off\"\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col md=\"6\" sm=\"12\">\n            <FormGroup>\n              <label htmlFor=\"accountName\" className=\"control-label\">\n                Account Name\n              </label>\n              <Input\n                id=\"accountName\"\n                name=\"accountName\"\n                placeholder=\"Account Name\"\n                type=\"text\"\n                value={place.accountName || ''}\n                onChange={this.handleChange}\n                autoComplete=\"off\"\n              />\n            </FormGroup>\n          </Col>\n          <Col md=\"6\" sm=\"12\">\n            <FormGroup>\n              <label htmlFor=\"accountNumber\" className=\"control-label\">\n                Account Number\n              </label>\n              <Input\n                id=\"accountNumber\"\n                name=\"accountNumber\"\n                placeholder=\"Account Number\"\n                type=\"text\"\n                value={place.accountNumber || ''}\n                onChange={this.handleChange}\n                autoComplete=\"off\"\n              />\n            </FormGroup>\n          </Col>\n        </Row>\n      </>\n    );\n  }\n\n  renderImages(place) {\n    return(\n      <>\n        <Row>\n          <Col sm=\"12\">\n            <Alert color=\"primary\">Upload image as profile photo for your store</Alert>\n          </Col>\n        </Row>\n        <Row>\n          <Col md=\"6\">\n            <FormGroup>\n              <div className=\"upload-photo\" style={{ margin: '10px auto', border: '1px solid #ccc', 'backgroundColor': '#efefef' }}>\n                <Input name=\"images\" label='upload file' type='file' onChange={this.handleFileUpload} style={divStyle} />\n                  <ul className=\"product-photos\">\n                    {place.photos && place.photos.length > 0 &&\n                      <>\n                        {place.photos.map(({original, thumb, _id: id }) =>\n                          <li key={id} >\n                            <img alt={original} title={id} src={thumb}/>\n                            <button data-id={id} type=\"button\" onClick={this.removeImage} className=\"remove-image\"><span style={{color:'#fefefe'}}>&times;</span></button>\n                          </li>\n                        )}\n                      </>\n                    }\n                    {this.state.isUploading &&\n                      <li style={{border:'0',padding:'10px'}}>\n                        <SyncLoader\n                          sizeUnit={\"px\"}\n                          size={15}\n                          color={'#1d8cf8'}\n                          loading={this.state.isUploading}\n                        />\n                      </li>\n                    }\n                  </ul>\n              </div>\n            </FormGroup>\n          </Col>\n        </Row>\n      </>\n    );\n  }\n\n  renderNoPageAdded() {\n    return (\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">No Page Added</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You have not added a page yet. Click{\" \"} <Link to=\"/add-page\">here</Link> {\" \"}to add a new page.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderCities(cities) {\n    if (cities && cities.length > 0) {\n      const activePageTypes = cities.filter(\n        item => (item.isActive = !false)\n      );\n      return activePageTypes.map((item, index) => (\n        <option key={index} value={item.name}>\n          {item.name}\n        </option>\n      ));\n    }\n  }\n\n  render() {\n    const pageCategories = this.state.pageCategories;\n    const parentCategories = pageCategories.filter(item => !item.parent);\n    const childCategories = pageCategories.filter(item => item.parent);\n    const hasCategories = JSON.parse(getSession(\"hasCategories\"));\n    const hasProducts = JSON.parse(getSession(\"hasProducts\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let categoriesTree = [];\n    if (parentCategories) {\n      parentCategories.forEach(cat => {\n        const value = cat._id.toString();\n        const label = cat.name;\n        const sublist = childCategories.filter(\n          item => item.parent.toString() === value\n        );\n        let children1 = [];\n        if (sublist instanceof Array && sublist.length > 0) {\n          let category1 = [];\n          sublist.forEach(cat => {\n            const value = cat._id;\n            const label = cat.name;\n            const category = {\n              value: value,\n              label: label,\n              children: []\n            };\n            category1.push(category);\n          });\n          children1 = category1;\n        }\n        const children = children1;\n        const category = {\n          value: value,\n          label: label,\n          children: children\n        };\n        categoriesTree.push(category);\n      });\n    }\n\n    const pageAmenities = this.state.pageAmenities;\n    let amenitiesTree = [];\n    if (pageAmenities) {\n      pageAmenities.forEach(item => {\n        const value = item._id;\n        const label = item.type[0].name;\n        const sublist = item.features;\n        let children1 = [];\n        if (sublist instanceof Array && sublist.length > 0) {\n          let feature1 = [];\n          sublist.forEach(subItem => {\n            const value = subItem._id;\n            const label = subItem.name;\n            const feature = {\n              value: value,\n              label: label,\n              children: []\n            };\n            feature1.push(feature);\n          });\n          children1 = feature1;\n        }\n        const children = children1;\n        const amenity = {\n          value: value,\n          label: label,\n          children: children\n        };\n        amenitiesTree.push(amenity);\n      });\n    }\n\n    const icons = {\n      check: (\n        <Fa\n          className=\"rct-icon rct-icon-check\"\n          icon={[\"far\", \"check-square\"]}\n        />\n      ),\n      uncheck: (\n        <Fa\n          className=\"rct-icon rct-icon-uncheck\"\n          icon={[\"far\", \"square\"]}\n        />\n      ),\n      halfCheck: (\n        <Fa\n          className=\"rct-icon rct-icon-half-check\"\n          icon={[\"far\", \"check-square\"]}\n        />\n      ),\n      expandClose: (\n        <Fa\n          className=\"rct-icon rct-icon-expand-close\"\n          icon=\"chevron-right\"\n        />\n      ),\n      expandOpen: (\n        <Fa\n          className=\"rct-icon rct-icon-expand-open\"\n          icon=\"chevron-down\"\n        />\n      ),\n      expandAll: (\n        <Fa\n          className=\"rct-icon rct-icon-expand-all\"\n          icon=\"plus-square\"\n        />\n      ),\n      collapseAll: (\n        <Fa\n          className=\"rct-icon rct-icon-collapse-all\"\n          icon=\"minus-square\"\n        />\n      ),\n      parentClose: (\n        <Fa\n          className=\"rct-icon rct-icon-parent-close\"\n          icon={[\"far\", \"folder\"]}\n        />\n      ),\n      parentOpen: (\n        <Fa\n          className=\"rct-icon rct-icon-parent-open\"\n          icon={[\"far\", \"folder-open\"]}\n        />\n      ),\n      leaf: (\n        <Fa\n          className=\"rct-icon rct-icon-leaf-close\"\n          icon={[\"far\", \"file\"]}\n        />\n      )\n    };\n\n    if(this.state.isLoading) {\n      return (\n        <>\n          <div className=\"content\">\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">Edit Page</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <PulseLoader\n                      sizeUnit={\"px\"}\n                      size={15}\n                      color={'#1d8cf8'}\n                      loading={this.state.isLoading}\n                    />\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </>\n      );\n    } else {\n      if(this.state.pageExists) {\n        return (\n          <>\n            <div className=\"content\">\n              <div className=\"react-notification-alert-container\">\n                <NotificationAlert ref=\"notify\" />\n              </div>\n              <Row>\n                <Col sm=\"12\" md=\"12\" lg=\"12\">\n                  <Card>\n                    <Form onSubmit={this.handleSubmit} onKeyPress={this.onKeyPress}>\n                      <CardHeader>\n                        <h4 className=\"title\">Edit Page - <em>{this.state.place.name}</em></h4>\n                      </CardHeader>\n                      <CardBody>\n                        {!pageInfo.hideTutorials &&\n                          <Row>\n                            <Col md=\"12\">\n                              <Alert className=\"alert-compact\" color=\"primary\" isOpen={!pageInfo.hideTutorials} toggle={this.onDismiss} fade={false}>\n                                <h4 className=\"alert-heading\">New on Setup Store?</h4>\n                                <hr />\n                                <p className=\"mb-0\">\n                                  Check our videos here on how to setup your store.<br /> \n                                </p>\n                                <a className=\"btn btn-sm btn-primary-v2\" href=\"https://www.youtube.com/watch?v=k8VEDqbPv7w\">View Tutorials</a>\n                                <Button\n                                  className=\"btn-fill btn-sm\"\n                                  color=\"danger\"\n                                  type=\"button\"\n                                  onClick={this.onHideTutorials}\n                                >\n                                  Hide Permanently\n                                </Button>\n                              </Alert>\n                            </Col>\n                          </Row>\n                        }\n                        <Row>\n                          {this.state.place.isVerified !== true &&\n                            <Col sm=\"12\">\n                              <Row>\n                                <Col md=\"12\">\n                                  <Alert color=\"warning\">\n                                    <h4 className=\"alert-heading\">You Have Not Agreed with our Terms & Policies</h4>\n                                    <hr />\n                                    <p className=\"mb-0\">\n                                      You must agree  with our Terms & Policies. Click {\" \"} <Link to=\"/statement-of-agreement\">here</Link> {\" \"} to read our Terms & Policies.\n                                    </p>\n                                  </Alert>\n                                </Col>\n                              </Row>\n                            </Col>\n                          }\n                          {this.state.place.isVerified && hasCategories && hasProducts && this.state.place.isActive !== true &&\n                            <Col sm=\"12\">\n                              <Row>\n                                <Col md=\"12\">\n                                  <Alert color=\"danger\">\n                                    <h4 className=\"alert-heading\">Store Not Activated</h4>\n                                    <hr />\n                                    <p className=\"mb-0\">\n                                      You must activate your store so it will appear in the app and you can start selling.<br /> \n                                      Click {\" \"} <Link to=\"/activate-store\">here</Link> {\" \"} to activate you store.\n                                    </p>\n                                  </Alert>\n                                </Col>\n                              </Row>\n                            </Col>\n                          }\n                          <Col sm=\"12\" md=\"3\" lg=\"3\">\n                            {this.renderVerticalNavBar()}\n                          </Col>\n                          <Col sm=\"12\" md=\"9\" lg=\"9\">\n                          {this.state.warnings && this.state.warnings.length > 0 &&\n                            <Row>\n                              <Col sm=\"12\">\n                                {this.state.warnings.map((error,index) => {\n                                  return(<Alert key={index} color=\"warning\"><Fa icon=\"exclamation-triangle\" /> {error}</Alert>)\n                                })}\n                              </Col>\n                            </Row>\n                          }\n                          {(this.state.activeStep === 'page-info' && this.state.steps.pageInfo === true) ? this.renderPageInfo(this.state.place) :\n                            (this.state.activeStep === 'address' && this.state.steps.address === true) ? this.renderAddress(this.state.place) :\n                            (this.state.activeStep === 'page-category' && this.state.steps.pageCategory === true) ? this.renderPageCategory(amenitiesTree,categoriesTree,icons) :\n                            (this.state.activeStep === 'other-settings' && this.state.steps.otherSettings === true)  ? this.renderOtherSettings(this.state.place) :\n                            (this.state.activeStep === 'bank-info' && this.state.steps.bankInfo === true) ? this.renderBankInfo(this.state.place) :\n                            (this.state.activeStep === 'images' && this.state.steps.images === true) ? this.renderImages(this.state.place) :\n                            this.renderPageInfo(this.state.place)}\n                          </Col>\n                        </Row>\n                      </CardBody>\n                      <CardFooter>\n                        <Button\n                          className=\"btn-fill btn-round\"\n                          color=\"info\"\n                          type=\"submit\"\n                        >\n                          Save\n                        </Button>\n                        <Link\n                          to=\"/products\"\n                          className=\"btn btn-round btn-light\"\n                        >\n                          Back\n                        </Link>\n                      </CardFooter>\n                    </Form>\n                  </Card>\n                </Col>\n              </Row>\n              <LoadingOverlay\n                active={this.state.isSaving}\n                spinner\n                text='Saving...'\n                >\n              </LoadingOverlay>\n            </div>\n          </>\n        );\n      } else {\n        return(this.renderNoPageAdded());\n      }\n    }\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    getPageById,\n    getProductTypes,\n    getProviderInfo,\n    getPageTypes,\n    getPageCategories,\n    getAmenities,\n    updatePage,\n    uploadPhoto,\n    removePhoto\n  }\n)(EditPage);","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getSession, setSession } from \"../config/session\";\nimport { connect } from \"react-redux\";  \nimport { getProviderInfo, updateProfile } from \"../layouts/User/UserActions\";\nimport { PulseLoader } from 'react-spinners';\nimport { FontAwesomeIcon as Fa } from \"@fortawesome/react-fontawesome\";\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\n\n// reactstrap components\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  Nav,\n  FormGroup,\n  Form,\n  Input,\n  Row,\n  Col\n} from \"reactstrap\";\n\nclass Settings extends React.Component {\n  constructor(props) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    let userInfo = {};\n    if (userData != null) {\n      userInfo = userData.info;\n    }\n    super(props);\n    this.state = {\n      userExist: false,\n      isLoading: false,\n      isSaving: false,\n      submitted: false,\n      user: {\n        firstName: userInfo.firstName,\n        lastName: userInfo.lastName,\n        email: userData.email,\n        phoneNumber: userInfo.mobileNumber,\n        homeAddress: userInfo.homeAddress,\n        photos: userInfo.photos ? userInfo.photos : null,\n      },\n      validPhoneNumber: false\n    };\n  }\n\n  handleChange = (e) => {\n    let { name, value, type } = e.target;\n    if (type === \"checkbox\") {\n      const checked = e.target.checked;\n      value = checked;\n    }\n    if(name === 'phoneNumber') {\n      const OK = reg.exec(value);\n      if (OK)  {\n        this.setState({ validPhoneNumber: true });\n      } else {\n        this.setState({ validPhoneNumber: false });\n      }\n    }\n    this.setState({\n      user: {\n        ...this.state.user,\n        [name]: value\n      }\n    });\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const userData = JSON.parse(getSession(\"userData\"));\n    \n    let sessionToken = \"\";\n    let user;\n    const { validPhoneNumber } = this.state;\n    \n    if(userData) {\n      sessionToken = userData.sessionToken;\n      user = {...this.state.user};\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n\n    if (user) {\n      if (user.email && user.phoneNumber && user.firstName && user.lastName && validPhoneNumber) {\n        if (!window.confirm(\"Do you want to save these changes?\")) {\n          return false;\n        }\n        this.setState({ submitted: true, isSaving: true });\n        this.props.updateProfile(user, sessionToken, (error, result) => {\n          if (result) {\n            // Update userData in localStorage\n            userData.firstName = this.state.user.firstName;\n            userData.lastName = this.state.user.lastName;\n            userData.email = this.state.user.email;\n            userData.homeAddress = this.state.user.homeAddress;\n            userData.info.firstName = this.state.user.firstName;\n            userData.info.lastName = this.state.user.lastName;\n            userData.info.name = this.state.user.firstName + \" \" + this.state.user.lastName;\n            userData.info.homeAddress = this.state.user.homeAddress;\n            setSession('userData',JSON.stringify(userData));\n            setTimeout(() => {\n              this.setState({ submitted: false, isSaving: false });\n              if(result && result.message) {\n                this.showNotification(result.message);\n              }\n            }, 1000);\n          } else {\n            if (error) {\n              if(error.response && error.response.status && error.response.status === 403) {\n                setTimeout(() => { \n                  this.setState({ submitted: false, isSaving: false });\n                  this.props.history.push(\"/products\");\n                }, 1000);\n                this.showNotificationError('You are not allowed to update this product.');\n              } else {\n                this.showNotificationError(error.error);\n              }\n            } else {\n              setTimeout(() => { this.setState({ submitted: false, isSaving: false }); }, 1000);\n              this.showNotificationError('An unknown error occured. Please try again.');\n            }\n          }\n        });\n      } else {\n        this.setState({ submitted: true });\n        this.showNotificationError('Some fields are required. Please fill the required fields.');\n      }\n    } else {\n      setTimeout(() => { this.setState({ submitted: false, isSaving: false }); }, 1000);\n      this.showNotificationError('Product information is missing.');\n    }\n  }\n\n  render() {\n    if(this.state.isLoading) {\n      return (\n        <>\n          <div className=\"content\">\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">Account Settings</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <PulseLoader\n                      sizeUnit={\"px\"}\n                      size={15}\n                      color={'#1d8cf8'}\n                      loading={this.state.isLoading}\n                    />\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <div className=\"content\">\n            <div className=\"react-notification-alert-container\">\n              <NotificationAlert ref=\"notify\" />\n            </div>\n            <Row>\n              <Col md=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">Account Settings</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <Row>\n                      <Col className=\"pr-md-1\" sm=\"4\">\n                        <Nav vertical >\n                          <Link className=\"nav-link-vertical active-link\" to=\"/settings\">Profile <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link> \n                          <Link className=\"nav-link-vertical\" to=\"/settings/change-password\">Change Password <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link> \n                        </Nav>\n                      </Col>\n                      <Col className=\"pl-md-1\" sm=\"8\">\n                        <Form>\n                          <Row>\n                            <Col className=\"pr-md-1\" md=\"6\">\n                              <FormGroup>\n                                <label className=\"control-label\" htmlFor=\"email\">\n                                  Email address\n                                </label>\n                                <Input\n                                  name=\"email\"\n                                  placeholder=\"Email\"\n                                  type=\"email\"\n                                  defaultValue={this.state.user.email}\n                                  onChange={this.handleChange}\n                                />\n                              </FormGroup>\n                            </Col>\n                            <Col className=\"pl-md-1\" md=\"6\">\n                              <FormGroup\n                                className={\n                                  this.state.submitted && !this.state.user.phoneNumber && !this.state.validPhoneNumber\n                                    ? \" has-danger\"\n                                    : \"\"\n                                }\n                              >\n                                <label className=\"control-label\" htmlFor=\"phoneNumber\">Phone No.</label>\n                                <Input\n                                  name=\"phoneNumber\"\n                                  placeholder=\"Phone No.\"\n                                  type=\"text\"\n                                  defaultValue={this.state.user.phoneNumber}\n                                  onChange={this.handleChange}\n                                />\n                                {this.state.submitted && !this.state.validPhoneNumber && (\n                                  <span className=\"text-danger\">Phone No. is not valid</span>\n                                )}\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                          <Row>\n                            <Col className=\"pr-md-1\" md=\"6\">\n                              <FormGroup>\n                                <label className=\"control-label\" htmlFor=\"firstName\">First Name</label>\n                                <Input\n                                  name=\"firstName\"\n                                  placeholder=\"First Name\"\n                                  type=\"text\"\n                                  defaultValue={this.state.user.firstName}\n                                  onChange={this.handleChange}\n                                />\n                              </FormGroup>\n                            </Col>\n                            <Col className=\"pl-md-1\" md=\"6\">\n                              <FormGroup>\n                                <label className=\"control-label\" htmlFor=\"lastName\">Last Name</label>\n                                <Input\n                                  name=\"lastName\"\n                                  placeholder=\"Last Name\"\n                                  type=\"text\"\n                                  defaultValue={this.state.user.lastName}\n                                  onChange={this.handleChange}\n                                />\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                          <Row>\n                            <Col md=\"12\">\n                              <FormGroup>\n                                <label className=\"control-label\" htmlFor=\"homeAddress\">Living In</label>\n                                <Input\n                                  name=\"homeAddress\"\n                                  placeholder=\"Living In\"\n                                  type=\"text\"\n                                  defaultValue={this.state.user.homeAddress}\n                                  onChange={this.handleChange}\n                                />\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                        </Form>\n                      </Col>\n                    </Row>\n                  </CardBody>\n                  <CardFooter>\n                    <Button className=\"btn-fill btn-round\" color=\"info\" type=\"submit\" onClick={this.handleSubmit}>\n                      Save\n                    </Button>\n                  </CardFooter>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n          <LoadingOverlay\n            active={this.state.isSaving}\n            spinner\n            text='Saving...'\n            >\n          </LoadingOverlay>\n        </>\n      );\n    }\n  }\n}\n\nconst reg = /^\\(?([0-9]{11})$/; \nconst mapStateToProps = () => ({});\n\nexport default connect(mapStateToProps,{getProviderInfo, updateProfile})(Settings);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getSession } from \"../config/session\";\nimport { connect } from \"react-redux\";  \nimport { getProviderInfo, changePassword } from \"../layouts/User/UserActions\";\nimport { FontAwesomeIcon as Fa } from \"@fortawesome/react-fontawesome\";\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\n\n// reactstrap components\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  Nav,\n  FormGroup,\n  Form,\n  Input,\n  Row,\n  Col\n} from \"reactstrap\";\n\nclass ChangePassword extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSaving: false,\n      oldPassword: \"\",\n      newPassword: \"\",\n      confirmPassword: \"\",\n      oldPasswordReqText: \"\",\n      newPasswordReqText: \"\",\n      confirmPasswordReqText: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    let { name, value } = e.target;\n    this.setState({[name]: value});\n    if(name==='oldPassword') {\n      this.setState({oldPasswordReqText: \"\"});\n    } else if(name==='newPassword') {\n      this.setState({newPasswordReqText: \"\"});\n    } else if(name==='confirmPassword') {\n      this.setState({confirmPasswordReqText: \"\"});\n    }\n  }\n\n  handleSubmit(e) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    let { oldPassword, newPassword, confirmPassword } = this.state;\n    if(oldPassword && newPassword && confirmPassword) {\n      if(oldPassword === newPassword) {\n        this.showNotificationError('New password is the same as the old password!');\n      } else {\n        if(newPassword === confirmPassword) {\n          this.setState({isSaving:true});\n          const payload = {\n            oldPassword,\n            password: newPassword,\n            confirmPassword,\n          }\n          this.props.changePassword(payload, sessionToken, (error, result) => {\n            if (!error && result) {\n              if(result.status === 'success') {\n                this.setState({isSaving:false, oldPassword: \"\", newPassword: \"\", confirmPassword: \"\"});\n                this.showNotification(result.message);\n                setTimeout(() => {\n                  localStorage.clear();\n                  if(getSession('userData') === null) {\n                    this.props.history.push('/login');\n                    window.location.reload();\n                    return this.setState({ loggedIn: false });\n                  }\n                }, 2000);\n              } else {\n                setTimeout(() => {\n                  this.setState({isSaving:false});\n                  this.showNotificationError(result.message);\n                }, 1000);\n              }\n            } else {\n              if (error) {\n                this.showNotificationError(error.response);\n              }\n              setTimeout(() => {\n                this.setState({isSaving:false});\n              }, 1000);\n            }\n          });\n        } else {\n          this.showNotificationError('New password did not match!');\n        }\n      }\n    } else {\n      if(!oldPassword) {\n        this.setState({oldPasswordReqText: \"Old Password is required\"});\n      } else {\n        this.setState({oldPasswordReqText: \"\"});\n      }\n      if(!newPassword) {\n        this.setState({newPasswordReqText: \"Password is required\"});\n      } else {\n        this.setState({newPasswordReqText: \"\"});\n      }\n      if(!confirmPassword) {\n        this.setState({confirmPasswordReqText: \"Password confirmation is required\"});\n      } else {\n        this.setState({confirmPasswordReqText: \"\"});\n      }\n    }\n    \n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      \n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"content\">\n          <div className=\"react-notification-alert-container\">\n            <NotificationAlert ref=\"notify\" />\n          </div>\n          <Row>\n            <Col md=\"12\">\n              <Card>\n                <CardHeader>\n                  <h4 className=\"title\">Account Settings</h4>\n                </CardHeader>\n                <CardBody>\n                  <Row>\n                    <Col className=\"pr-md-1\" sm=\"4\">\n                      <Nav vertical >\n                        <Link className=\"nav-link-vertical\" to=\"/settings\">Profile  <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link> \n                        <Link className=\"nav-link-vertical active-link\" to=\"/change-password\">Change Password <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link> \n                      </Nav>\n                    </Col>\n                    <Col className=\"pl-md-1\" sm=\"8\">\n                      <Form>\n                        <Row>\n                          <Col className=\"pr-md-1\" md=\"6\">\n                            <FormGroup className={this.state.oldPasswordReqText ? \"has-danger\" : \"\"}>\n                              <label htmlFor=\"oldPassword\" className=\"control-label\">\n                                Old Password\n                              </label>\n                              <Input\n                                id=\"oldPassword\"\n                                name=\"oldPassword\"\n                                type=\"password\"\n                                value={this.state.oldPassword}\n                                onChange={this.handleChange}\n                                style={{marginBottom:\"10px\"}}\n                              />\n                              <span className=\"text-danger\">{this.state.oldPasswordReqText}</span>\n                            </FormGroup>\n                          </Col>\n                        </Row>\n                        <Row>\n                          <Col className=\"pr-md-1\" md=\"6\">\n                            <FormGroup className={this.state.newPasswordReqText ? \"has-danger\" : \"\"}>\n                              <label htmlFor=\"newPassword\" className=\"control-label\">New Password</label>\n                              <Input\n                                id=\"newPassword\"\n                                name=\"newPassword\"\n                                type=\"password\"\n                                value={this.state.newPassword}\n                                onChange={this.handleChange}\n                                style={{marginBottom:\"10px\"}}\n                              />\n                              <span className=\"text-danger\">{this.state.newPasswordReqText}</span>\n                            </FormGroup>\n                          </Col>\n                        </Row>\n                        <Row>\n                          <Col className=\"pr-md-1\" md=\"6\">\n                            <FormGroup className={this.state.confirmPasswordReqText ? \"has-danger\" : \"\"}>\n                              <label htmlFor=\"confirmPassword\" className=\"control-label\">Confirm Password</label>\n                              <Input\n                                id=\"confirmPassword\"\n                                name=\"confirmPassword\"\n                                type=\"password\"\n                                value={this.state.confirmPassword}\n                                onChange={this.handleChange}\n                                style={{marginBottom:\"10px\"}}\n                              />\n                              <span className=\"text-danger\">{this.state.confirmPasswordReqText}</span>\n                            </FormGroup>\n                          </Col>\n                        </Row>\n                      </Form>\n                    </Col>\n                  </Row>\n                </CardBody>\n                <CardFooter>\n                  <Button className=\"btn-fill btn-round\" color=\"info\" type=\"submit\" onClick={this.handleSubmit}>\n                    Save\n                  </Button>\n                </CardFooter>\n              </Card>\n            </Col>\n          </Row>\n          <LoadingOverlay\n            active={this.state.isSaving}\n            spinner\n            text='Saving...'\n            >\n          </LoadingOverlay>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(mapStateToProps, {getProviderInfo, changePassword})(ChangePassword);","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport DatePicker from \"react-datepicker\";\nimport dateFormat from 'dateformat';\nimport queryString from \"query-string\";\nimport { getSession, setSession } from \"../../config/session\";\nimport api from \"../../config/api\";\nimport { format } from 'date-fns'\nimport { PulseLoader } from \"react-spinners\";\nimport { \n  getSalesList,\n  getSalesListGrocery,\n  getSalesListXls, \n  getSalesListGroceryXls\n} from \"../../layouts/Admin/actions/ProductActions\";\nimport { getPageById } from \"../../layouts/Admin/actions/PageActions\";\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\nimport Switch from \"react-toggle-switch\";\n\nimport {\n  Alert,\n  FormGroup,\n  Input,\n  Button,\n  Table,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  Row,\n  Col\n} from \"reactstrap\";\n\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nclass OrderReports extends React.Component {\n  constructor(props) {\n    super(props);\n    const datesStr = dateFormat(new Date(),'isoDate');\n    this.state = {\n      page: {},\n      transactions: [],\n      startDate: new Date(),\n      endDate: new Date(),\n      startDateStr: datesStr,\n      endDateStr: datesStr,\n      selectedPaymentMethod: '',\n      showTests: false,\n      pagination: {},\n      activePage: 1,\n      sortBy: \"\",\n      sort: \"\",\n      status: \"paid\",\n      isGrocery: false,\n      isLoading: false,\n      isGeneratingXls: false,\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const sessionToken = userData.sessionToken;\n    if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') { // If Grocery\n      this.setState({isGrocery:true});\n    }\n    if (defaultPage && defaultPage!==\"\") {\n      this.props.getPageById(defaultPage, sessionToken, (error, result) => {\n        if (error) {\n          this.showNotificationError('An error occured. Cannot find the page information!');\n        } else {\n          if(result) {\n            const { _id, name, addressLine1: address, city, province, email, balances } = result.page;\n            this.setState({\n              page: {\n                _id,\n                name,\n                address,\n                city,\n                province,\n                email,\n                balances,\n              }\n            });\n          } else {\n            this.showNotificationError('Page not found.');\n          }\n        }\n      });\n    }\n  }\n\n  handleChangeStartDate = (date) => {\n    const datesStr = dateFormat(date,'isoDate');\n    this.setState({startDate: date});\n    this.setState({startDateStr: datesStr});\n  }\n\n  handleChangeEndDate = (date) => {\n    const datesStr = dateFormat(date,'isoDate');\n    this.setState({endDate: date});\n    this.setState({endDateStr: datesStr});\n  }\n\n  handleChangePaymentMethod = (e) => {\n    let { value } = e.target;\n    this.setState({ selectedPaymentMethod: value });\n  }\n\n  handleToggleShowTests = (e) => {\n    this.setState(prevState => ({showTests: !prevState.showTests}));\n  }\n\n  onDismiss = () => {\n    this.setState({ hideTutorials: true });\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    pageInfo.hideTutorials = true;\n    setSession('pageInfo',JSON.stringify(pageInfo));\n  }\n\n  onHideTutorials = () => {\n    if (!window.confirm(\"Are you sure you want to hide this section permanently?\")) {\n      return false;\n    }\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const place = { \n      hideTutorials: true\n    }\n    api(sessionToken).patch(`/provider/places/${pageInfo._id}`, place)\n      .then(response => {\n        if (response && response.data && response.data.status === 'ok') {\n          this.setState({ hideTutorials: true });\n          pageInfo.hideTutorials = true;\n          setSession('pageInfo',JSON.stringify(pageInfo));\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      })\n      .catch(error => {\n        this.setState({ submitted: false, isSaving: false });\n        if(error.response && typeof error.response === 'string' ) {\n          this.showNotificationError(error.response);\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      });\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      \n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  generateList = () => {\n    let sort = \"\";\n    let sortBy = \"price\";\n    let pageId = JSON.parse(getSession(\"defaultPage\"));\n    if (this.state.sort !== \"desc\") {\n      sort = \"desc\";\n    } else {\n      sort = \"asc\";\n    }\n    \n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    query.dateStart = this.state.startDateStr;\n    query.dateEnd = this.state.endDateStr;\n    if(this.state.selectedPaymentMethod !== '') {\n      query.selectedPaymentMethod = this.state.selectedPaymentMethod;\n    }\n    if(this.state.showTests) {\n      query.showTests = this.state.showTests;\n    }\n\n    query.pageId = pageId;\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    this.generateTxnsList(queryStr);\n  }\n\n  exportList = () => {\n    this.setState({ isGeneratingXls: true });\n    let sort = \"\";\n    let sortBy = \"price\";\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const { sessionToken } = userData;\n    if (this.state.sort !== \"desc\") {\n      sort = \"desc\";\n    } else {\n      sort = \"asc\";\n    }\n    \n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    query.dateStart = this.state.startDateStr;\n    query.dateEnd = this.state.endDateStr;\n    if(this.state.selectedPaymentMethod !== '') {\n      query.selectedPaymentMethod = this.state.selectedPaymentMethod;\n    }\n    if(this.state.showTests) {\n      query.showTests = this.state.showTests;\n    }\n    \n    query.pageId = pageId;\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    if (userData !== null) {\n      if(pageInfo) {\n        if(this.state.isGrocery) {\n          this.props.getSalesListGroceryXls(\n            query,\n            sessionToken,\n            (error, result) => {\n              if (result && result.data && result.data.status === 'success' && result.data.filename) {\n                const fileName = result.data.filename;\n                this.setState({ isGeneratingXls: false });\n                window.open(fileName);\n              } else {\n                this.setState({ isGeneratingXls: false });\n                this.showNotificationError('No transactions found.');\n              }\n            }\n          );\n        } else {\n          this.props.getSalesListXls(\n            query,\n            sessionToken,\n            (error, result) => {\n              if (result && result.data && result.data.status === 'success' && result.data.filename) {\n                const fileName = result.data.filename;\n                this.setState({ isGeneratingXls: false });\n                window.open(fileName);\n              } else {\n                this.setState({ isGeneratingXls: false });\n                this.showNotificationError('No transactions found.');\n              }\n            }\n          );\n        }\n      }\n    } else {\n      this.setState({ isGeneratingXls: false });\n    }\n  }\n\n  generateTxnsList(queryStr) {\n    this.setState({isLoading:true});\n    const query = queryString.parse(queryStr);\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const { sessionToken } = userData;\n    \n    if (userData !== null) {\n      if(pageInfo) {\n        if(this.state.isGrocery) {\n          this.props.getSalesListGrocery(\n            query,\n            sessionToken,\n            (error, result) => {\n              if (!error && result && result.data) {\n                const txns = result.data;\n                this.setState({\n                  transactions: txns,\n                });\n              }\n              this.setState({ isLoading: false });\n            }\n          );\n        } else {\n          this.props.getSalesList(\n            query,\n            sessionToken,\n            (error, result) => {\n              if (!error && result && result.data) {\n                const txns = [...result.data];\n                this.setState({\n                  transactions: txns,\n                });\n              }\n              this.setState({ isLoading: false });\n            }\n          );\n        }\n      }\n    }\n  }\n\n  renderRows(transactions) {\n    let colSpan = 20;\n    if(this.state.isGrocery) {\n      colSpan = 20;\n    }\n    if(this.state.isLoading) {\n      return (\n        <tr>\n          <td colSpan={colSpan}>\n            <PulseLoader\n              sizeUnit={\"px\"}\n              size={15}\n              color={'#1d8cf8'}\n              loading={this.state.isLoading}\n            />\n          </td>\n        </tr>\n      );\n    } else {\n      if (\n        transactions instanceof Array &&\n        transactions.length > 0\n      ) {\n        if(this.state.isGrocery) {\n          return transactions.map((item, index) => (\n            <tr key={index}>\n              <td style={{ whiteSpace: 'nowrap' }}>{format(new Date(item.createdAt),\"MMM dd, yyyy\")}<br/>{format(new Date(item.createdAt),\"hh:mm:aa\")}</td>\n              <td style={{ whiteSpace: 'nowrap' }}>{format(new Date(item.bookedForDate),\"MMM dd, yyyy\")}<br/>{format(new Date(item.bookedForDate),\"hh:mm:aa\")}</td>\n              <td style={{ whiteSpace: 'nowrap' }}>{ item.datePaid && format(new Date(item.datePaid),\"MMM dd, yyyy\")}<br/>{item.datePaid && format(new Date(item.datePaid),\"hh:mm:aa\")}</td>\n              <td>...{lastSixDigits(item._id)}</td>\n              <td>{ item.selectedPaymentOption ? item.selectedPaymentOption.toUpperCase() : 'N/A' }</td>\n              <td>&#8369;{numberWithCommas(item.grossSales)}</td>\n              <td>&#8369;{numberWithCommas(item.pointsAmountUsed)}</td> \n              <td>&#8369;{numberWithCommas(item.walletAmountUsed)}</td>\n              <td>&#8369;{numberWithCommas(item.discount)}</td>\n              <td>&#8369;{numberWithCommas(item.promosAmountStreetby)}</td>\n              <td>&#8369;{numberWithCommas(item.promosAmountMerchant)}</td>\n              <td>&#8369;{numberWithCommas(item.merchantNet)}</td>\n              <td>&#8369;0.00</td>\n              <td>{capitalizeFirstLetter(item.bookingOption)}</td>\n              <td style={{width:'500px'}}>{item.customer.firstName + \" \" + item.customer.lastName}</td>\n              <td>{item.customer.email}</td>\n              <td style={{width:'500px'}}>{item.customerLocation}</td>\n            </tr>\n          ));\n        } else {\n          return transactions.map((item, index) => (\n            <tr key={index}>\n              <td style={{ whiteSpace: 'nowrap' }}>{format(new Date(item.createdAt),\"MMM dd, yyyy\")}<br/>{format(new Date(item.createdAt),\"hh:mm:aa\")}</td>\n              <td style={{ whiteSpace: 'nowrap' }}>{format(new Date(item.bookedForDate),\"MMM dd, yyyy\")}<br/>{format(new Date(item.bookedForDate),\"hh:mm:aa\")}</td>\n              <td style={{ whiteSpace: 'nowrap' }}>{item.datePaid && format(new Date(item.datePaid),\"MMM dd, yyyy\")}<br/>{item.datePaid && format(new Date(item.datePaid),\"hh:mm:aa\")}</td>\n              <td>...{lastSixDigits(item._id)}</td>\n              <td style={{ whiteSpace: 'nowrap' }}>{item.selectedPaymentOption ? item.selectedPaymentOption.toUpperCase() : 'N/A'}</td>\n              <td>&#8369;{numberWithCommas(item.grossSales)}</td>\n              <td>&#8369;{numberWithCommas(item.pointsAmountUsed)}</td>\n              <td>&#8369;{numberWithCommas(item.walletAmountUsed)}</td>\n              <td>&#8369;{numberWithCommas(item.discount)}</td>\n              <td>&#8369;{numberWithCommas(item.promosAmountStreetby)}</td>\n              <td>&#8369;{numberWithCommas(item.promosAmountMerchant)}</td>\n              <td>&#8369;{numberWithCommas(item.netCustomerPayout)}</td>\n              <td>&#8369;{numberWithCommas(item.streetbyFees)}</td>\n              <td>&#8369;{numberWithCommas(item.merchantNet)}</td>\n              <td>&#8369;{numberWithCommas(item.extraFees)}</td>\n              <td>{capitalizeFirstLetter(item.bookingOption)}</td>\n              <td style={{width:'500px'}}>{item.customer.firstName + \" \" + item.customer.lastName}</td>\n              <td>{item.customer.email}</td>\n              <td style={{width:'500px'}}>{item.customerLocation}</td>\n            </tr>\n          ));\n        }\n      } else {\n        return (\n          <tr>\n            <td colSpan={colSpan}>\n              <h5 className=\"text-danger\">\n                <em>No transactions found.</em>\n              </h5>\n            </td>\n          </tr>\n        );\n      }\n    }\n  }\n\n  renderNoPageAdded() {\n    return (\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">No Page Added</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You have not added a page yet. Click{\" \"} <Link to=\"/add-page\">here</Link> {\" \"}to add a new page.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderPageNotVerified() {\n    return(\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">You Have Not Agreed with our Terms & Policies</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You must agree  with our Terms & Policies. Click {\" \"} <Link to=\"/statement-of-agreement\">here</Link> {\" \"} to read our Terms & Policies.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderNoProductsAdded() {\n    return (\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">No Products Added</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You need to add a product before you can activate your store. Click{\" \"} <Link to=\"/products/new\">here</Link> {\" \"}to add a product.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  render() {\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const hasCategories = JSON.parse(getSession(\"hasCategories\"));\n    const hasProducts = JSON.parse(getSession(\"hasProducts\"));\n    if(pageInfo && pageInfo._id) {\n      if(pageInfo.isVerified === true) {\n        if(hasProducts === true) {\n          return (\n            <>\n              <div className=\"content\">\n                <div className=\"react-notification-alert-container\">\n                  <NotificationAlert ref=\"notify\" />\n                </div>\n                <Row>\n                  <Col md=\"12\">\n                    <Card>\n                      <CardHeader>\n                        <h4 className=\"title\">Sales Reports - <em>{this.state.page.name}</em></h4>\n                        {!pageInfo.hideTutorials &&\n                          <Row>\n                            <Col sm=\"12\">\n                              <Row>\n                                <Col md=\"12\">\n                                  <Alert className=\"alert-compact\" color=\"primary\" isOpen={!this.state.hideTutorials} toggle={this.onDismiss} fade={false}>\n                                    <h4 className=\"alert-heading\">New on Sales Reports?</h4>\n                                    <hr />\n                                    <p className=\"mb-0\">\n                                      Check our videos here on how to manage your Sales Reports.<br /> \n                                    </p>\n                                    <a className=\"btn btn-sm btn-primary-v2\" href=\"https://www.youtube.com/watch?v=k8VEDqbPv7w\">View Tutorials</a>\n                                    <Button\n                                      className=\"btn-fill btn-sm\"\n                                      color=\"danger\"\n                                      type=\"button\"\n                                      onClick={this.onHideTutorials}\n                                    >\n                                      Hide Permanently\n                                    </Button>\n                                  </Alert>\n                                </Col>\n                              </Row>\n                            </Col>\n                          </Row>\n                        }\n                        <Row>\n                          {hasCategories && hasProducts && pageInfo.isActive !== true &&\n                            <Col sm=\"12\">\n                              <Row>\n                                <Col md=\"12\">\n                                  <Alert color=\"danger\">\n                                    <h4 className=\"alert-heading\">Store Not Activated</h4>\n                                    <hr />\n                                    <p className=\"mb-0\">\n                                      You must activate your store so it will appear in the app and you can start selling.<br /> \n                                      Click {\" \"} <Link to=\"/activate-store\">here</Link> {\" \"} to activate you store.\n                                    </p>\n                                  </Alert>\n                                </Col>\n                              </Row>\n                            </Col>\n                          }\n                          <Col className=\"pr-md-1\" md=\"3\">\n                            <FormGroup>\n                              <label htmlFor=\"startDate\" className=\"control-label\" style={{display:'block'}}>\n                                Start Date\n                              </label>\n                              <DatePicker\n                                name=\"startDate\"\n                                className=\"form-control\"\n                                selectsStart\n                                startDate={this.state.startDate}\n                                endDate={this.state.endDate}\n                                selected={this.state.startDate}\n                                onChange={this.handleChangeStartDate}\n                              />\n                            </FormGroup>\n                          </Col>\n                          <Col className=\"px-md-1\" md=\"3\">\n                            <FormGroup>\n                              <label htmlFor=\"endDate\" className=\"control-label\" style={{display:'block'}}>\n                                End Date\n                              </label>\n                              <DatePicker\n                                name=\"endDate\"\n                                selectsEnd\n                                startDate={this.state.startDate}\n                                endDate={this.state.endDate}\n                                className=\"form-control\"\n                                selected={this.state.endDate}\n                                onChange={this.handleChangeEndDate}\n                              />\n                            </FormGroup>\n                          </Col>\n                          <Col className=\"px-md-1\" md=\"3\">\n                            <FormGroup>\n                              <label htmlFor=\"paymentMethod\" className=\"control-label\">\n                                Payment Method\n                              </label>\n                              <Input\n                                id=\"paymentMethod\"\n                                name=\"paymentMethod\"\n                                type=\"select\"\n                                onChange={this.handleChangePaymentMethod}\n                                value={this.state.selectedPaymentMethod}\n                              >\n                                <option value=\"\">All</option>\n                                <option value=\"cash\">Cash</option>\n                                <option value=\"gcash\">G-Cash</option>\n                                <option value=\"paynamics\">Paynamics</option>\n                                <option value=\"paymongo\">Paymongo</option>\n                                <option value=\"cc\">Paypal</option>\n                                <option value=\"direct-transfer\">Direct Transfer</option>\n                              </Input>\n                            </FormGroup>\n                          </Col>\n                          <Col className=\"pr-md-1\" md=\"3\">\n                            <FormGroup>\n                              <label className=\"control-label\">\n                                <br />\n                                <Switch\n                                  onClick={this.handleToggleShowTests}\n                                  on={this.state.showTests}\n                                />\n                                &nbsp;Show Test Txns\n                              </label>\n                            </FormGroup>\n                          </Col>\n                        </Row>\n                        <Row>\n                          <Col md=\"12\">\n                            <FormGroup>\n                              <Button className=\"btn-round\" color=\"info\" type=\"button\" onClick={this.generateList}>\n                                Generate\n                              </Button>\n                              <Button className=\"btn-round\" color=\"info\" type=\"button\" onClick={this.exportList}>\n                                Export\n                              </Button>\n                            </FormGroup>\n                          </Col>\n                        </Row>\n                      </CardHeader>\n                      <CardBody>\n                        <Table className=\"tablesorter table-striped fs12\" responsive>\n                          <thead className=\"text-primary bg-gray\">\n                            <tr>\n                              {this.state.isGrocery ? (\n                                <>\n                                  <th>Date Placed</th>\n                                  <th>Booked For Date</th>\n                                  <th>Date Paid</th>\n                                  <th>Order ID</th>\n                                  <th>Payment Method</th>\n                                  <th>Gross Amount</th>\n                                  <th>SB Points</th>\n                                  <th>SB Wallet</th>\n                                  <th>SB Discounts</th>\n                                  <th>SB Promos</th>\n                                  <th>Merchant Promos</th>\n                                  <th>Net Amount</th>\n                                  <th>Fee</th>\n                                  <th>Booking Option</th>\n                                  <th>Customer Name</th>\n                                  <th>Customer Email</th>\n                                  <th>Customer Location</th>\n                                </>\n                              ) : (\n                                <>\n                                  <th>Date Placed</th>\n                                  <th>Booked For Date</th>\n                                  <th>Date Paid</th>\n                                  <th>Order ID</th>\n                                  <th>Payment Method</th>\n                                  <th>Gross Sales</th>\n                                  <th>SB Points</th>\n                                  <th>SB Wallet</th>\n                                  <th>SB Discounts</th>\n                                  <th>SB Promos</th>\n                                  <th>Merchant Promos</th>\n                                  <th>Net Customer Payout</th>\n                                  <th>StreetBy Fees</th>\n                                  <th>Merchant Net</th>\n                                  <th>Product Charges/Fees</th>\n                                  <th>Booking Option</th>\n                                  <th>Customer Name</th>\n                                  <th>Customer Email</th>\n                                  <th>Customer Location</th>\n                                </>\n                              )}\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {this.renderRows(this.state.transactions)}\n                          </tbody>\n                        </Table>\n                      </CardBody>\n                      <CardFooter>\n                      </CardFooter>\n                    </Card>\n                  </Col>\n                </Row>\n              </div>\n              <LoadingOverlay\n                active={this.state.isGeneratingXls}\n                spinner\n                text='Generating...'\n                >\n              </LoadingOverlay>\n            </>\n          );\n        } else {\n          return (this.renderNoProductsAdded());\n        }\n      } else {\n        return (this.renderPageNotVerified());\n      }\n    } else {\n      return (this.renderNoPageAdded());\n    }\n  }\n}\n\nconst numberWithCommas = x => {\n  return typeof x === \"number\" ? priceRound(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : \"0.00\"\n};\n\nconst priceRound = (price, dec) => {\n  if (dec === undefined) {\n    dec = 2;\n  }\n  if (price !== 0) {\n    if (!price || isNaN(price)) {\n      throw new Error(\"price is not a number\" + price);\n    }\n  }\n  const str = parseFloat(Math.round(price * 100) / 100).toFixed(dec);\n\n  return str;\n};\n\nconst lastSixDigits = (objectId) => {\n  let str = objectId.toString();\n  let sixDigits = new Array(str.length - 6 + 1).join('') + str.slice(-6);\n  return \"...\" + sixDigits;\n}\n\nconst capitalizeFirstLetter = (str) => {\n  if(typeof str === \"string\" && str.length > 0) {\n    return str.replace(/^./, str[0].toUpperCase())\n  }\n} \n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    getSalesList,\n    getSalesListGrocery,\n    getSalesListXls, \n    getSalesListGroceryXls,\n    getPageById,\n  }\n)(OrderReports);","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport DatePicker from \"react-datepicker\";\nimport queryString from \"query-string\";\nimport { getSession, setSession } from \"../../config/session\";\nimport api from \"../../config/api\";\nimport { format } from \"date-fns\";\nimport { PulseLoader } from \"react-spinners\";\nimport Switch from \"react-toggle-switch\";\nimport { \n  getOrdersList,\n  getOrdersListGrocery,\n  getOrderListXls \n} from \"../../layouts/Admin/actions/ProductActions\";\nimport { getPageById } from \"../../layouts/Admin/actions/PageActions\";\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\n\nimport {\n  Alert,\n  FormGroup,\n  Input,\n  Button,\n  Table,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  Row,\n  Col\n} from \"reactstrap\";\n\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nclass Reports extends React.Component {\n  constructor(props) {\n    super(props);\n    const datesStr = new Date().toISOString()\n    this.state = {\n      page: {},\n      transactions: [],\n      startDate: new Date(),\n      endDate: new Date(),\n      startDateStr: datesStr,\n      endDateStr: datesStr,\n      selectedPaymentMethod: '',\n      pagination: {},\n      activePage: 1,\n      sortBy: \"\",\n      sort: \"\",\n      status: \"paid\",\n      isLoading: false,\n      isGrocery: false,\n      isGeneratingXls: false,\n      debugMode: false\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    const sessionToken = userData.sessionToken;\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') { // If Grocery\n      this.setState({isGrocery:true});\n    }\n    if (defaultPage && defaultPage!==\"\") {\n      this.props.getPageById(defaultPage, sessionToken, (error, result) => {\n        if (error) {\n          this.showNotificationError('An error occured. Cannot find the page information!');\n        } else {\n          if(result) {\n            const { _id, name, addressLine1: address, city, province, email, balances } = result.page;\n            this.setState({\n              page: {\n                _id,\n                name,\n                address,\n                city,\n                province,\n                email,\n                balances,\n              }\n            });\n          } else {\n            this.showNotificationError('Page not found.');\n          }\n        }\n      });\n    }\n  }\n\n  handleChangeStartDate = (date) => {\n    const datesStr = new Date(date).toISOString()\n    this.setState({startDate: date})\n    this.setState({startDateStr: datesStr})\n  }\n\n  handleChangeEndDate = (date) => {\n    const datesStr = new Date(date).toISOString()\n    this.setState({endDate: date})\n    this.setState({endDateStr: datesStr})\n  }\n\n  handleChangePaymentMethod = (e) => {\n    let { value } = e.target;\n    this.setState({ selectedPaymentMethod: value });\n  }\n\n  handleChangeStatus = (e) => {\n    let { value } = e.target;\n    this.setState({ status: value });\n  }\n\n  handleChangeDebugMode = (e) => {\n    this.setState(prevState => ({debugMode: !prevState.debugMode}));\n  }\n\n  onDismiss = () => {\n    this.setState({ hideTutorials: true });\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    pageInfo.hideTutorials = true;\n    setSession('pageInfo',JSON.stringify(pageInfo));\n  }\n\n  onHideTutorials = () => {\n    if (!window.confirm(\"Are you sure you want to hide this section permanently?\")) {\n      return false;\n    }\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const place = { \n      hideTutorials: true\n    }\n    api(sessionToken).patch(`/provider/places/${pageInfo._id}`, place)\n      .then(response => {\n        if (response && response.data && response.data.status === 'ok') {\n          this.setState({ hideTutorials: true });\n          pageInfo.hideTutorials = true;\n          setSession('pageInfo',JSON.stringify(pageInfo));\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      })\n      .catch(error => {\n        this.setState({ submitted: false, isSaving: false });\n        if(error.response && typeof error.response === 'string' ) {\n          this.showNotificationError(error.response);\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      });\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      \n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  generateList = () => {\n    let sort = \"\";\n    let sortBy = \"price\";\n    let pageId = JSON.parse(getSession(\"defaultPage\"));\n    if (this.state.sort !== \"desc\") {\n      sort = \"desc\";\n    } else {\n      sort = \"asc\";\n    }\n    \n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    query.dateStart = this.state.startDateStr;\n    query.dateEnd = this.state.endDateStr;\n    if(this.state.selectedPaymentMethod !== '') {\n      query.selectedPaymentMethod = this.state.selectedPaymentMethod;\n    }\n    if(this.state.status !== '') {\n      query.status = this.state.status;\n    }\n    if(this.state.debugMode) {\n      query.debugMode = this.state.debugMode;\n    }\n    query.pageId = pageId;\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    this.generateTxnsList(queryStr);\n  }\n\n  exportList = () => {\n    this.setState({ isGeneratingXls: true });\n    let sort = \"\";\n    let sortBy = \"price\";\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    const { sessionToken }\n     = userData;\n    if (this.state.sort !== \"desc\") {\n      sort = \"desc\";\n    } else {\n      sort = \"asc\";\n    }\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    query.dateStart = this.state.startDateStr;\n    query.dateEnd = this.state.endDateStr;\n    if(this.state.selectedPaymentMethod !== '') {\n      query.selectedPaymentMethod = this.state.selectedPaymentMethod;\n    }\n    if(this.state.status !== '') {\n      query.status = this.state.status;\n    }\n    if(this.state.debugMode) {\n      query.debugMode = this.state.debugMode;\n    }\n    query.pageId = pageId;\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    if (userData !== null) {\n      this.props.getOrderListXls(\n        query,\n        sessionToken,\n        (error, result) => {\n          if (result && result.data && result.data.status === 'success' && result.data.filename) {\n            const fileName = result.data.filename;\n            this.setState({ isGeneratingXls: false });\n            window.open(fileName);\n          } else {\n            this.setState({ isGeneratingXls: false });\n            this.showNotificationError('No transactions found.');\n          }\n        }\n      );\n    } else {\n      this.setState({ isGeneratingXls: false });\n    }\n  }\n\n  generateTxnsList(queryStr) {\n    this.setState({isLoading:true});\n    const query = queryString.parse(queryStr);\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const { sessionToken } = userData;\n    \n    if (userData !== null) {\n      if(pageInfo) {\n        if(this.state.isGrocery) {\n          this.props.getOrdersListGrocery(\n            query,\n            sessionToken,\n            (error, result) => {\n              if (!error && result && result.data) {\n                const txns = result.data;\n                this.setState({\n                  transactions: txns,\n                });\n              }\n              this.setState({ isLoading: false });\n            }\n          );\n        } else {\n          this.props.getOrdersList(\n            query,\n            sessionToken,\n            (error, result) => {\n              if (!error && result && result.data) {\n                const txns = result.data;\n                this.setState({\n                  transactions: txns,\n                });\n              }\n              this.setState({ isLoading: false });\n            }\n          );\n        }\n      }\n    }\n  }\n\n  renderRows() {\n    let colSpan = 13;\n    if(this.state.isGrocery) {\n      colSpan = 12;\n    }\n    if(this.state.isLoading) {\n      return (\n        <tr>\n          <td colSpan={colSpan}>\n            <PulseLoader\n              sizeUnit={\"px\"}\n              size={15}\n              color={'#1d8cf8'}\n              loading={this.state.isLoading}\n            />\n          </td>\n        </tr>\n      );\n    } else {\n      if (\n        this.state.transactions instanceof Array &&\n        this.state.transactions.length > 0\n      ) {\n        return this.state.transactions.map((item, index) => (\n          <tr key={index}>\n            <td style={{ whiteSpace: 'nowrap' }}>{format(new Date(item.createdAt),\"MMM dd, yyyy\")}<br/>{format(new Date(item.createdAt),\"hh:mm:aa\")}</td>\n            <td style={{ whiteSpace: 'nowrap' }}>{ item.datePaid && format(new Date(item.datePaid),\"hh:mm:aa\")}<br/>{item.datePaid && format(new Date(item.datePaid),\"hh:mm:aa\")}</td>\n            <td>{lastSixDigits(item.orderId)}</td>\n            <td>{item.itemName}</td>\n            <td align=\"center\">{item.quantity}</td>\n            <td>&#8369;{item.price ? numberWithCommas(item.price) : \"0.00\"}</td>\n            <td>&#8369;{item.productsTotal ? numberWithCommas(item.productsTotal) : \"0.00\"}</td>\n            <td style={{ whiteSpace: 'nowrap' }}>{format(new Date(item.bookedForDate),\"hh:mm:aa\")}<br/>{format(new Date(item.bookedForDate),\"hh:mm:aa\")}</td>\n            <td>{item.status.toUpperCase()}</td>\n          </tr>\n        ));\n      } else {\n        return (\n          <tr>\n            <td colSpan={colSpan}>\n              <h5 className=\"text-danger\">\n                <em>No transactions found.</em>\n              </h5>\n            </td>\n          </tr>\n        );\n      }\n    }\n  }\n\n  renderNoPageAdded() {\n    return (\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">No Page Added</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You have not added a page yet. Click{\" \"} <Link to=\"/add-page\">here</Link> {\" \"}to add a new page.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderPageNotVerified() {\n    return(\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">You Have Not Agreed with our Terms & Policies</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You must agree  with our Terms & Policies. Click {\" \"} <Link to=\"/statement-of-agreement\">here</Link> {\" \"} to read our Terms & Policies.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderNoProductsAdded() {\n    return (\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">No Products Added</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You need to add a product before you can activate your store. Click{\" \"} <Link to=\"/products/new\">here</Link> {\" \"}to add a product.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  render() {\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const hasProducts = JSON.parse(getSession(\"hasProducts\"));\n    const hasCategories = JSON.parse(getSession(\"hasCategories\"));\n    if(pageInfo && pageInfo._id) {\n      if(pageInfo.isVerified === true) {\n        if(hasProducts === true) {\n          return (\n            <>\n              <div className=\"content\">\n                <div className=\"react-notification-alert-container\">\n                  <NotificationAlert ref=\"notify\" />\n                </div>\n                <Row>\n                  <Col md=\"12\">\n                    <Card>\n                      <CardHeader>\n                        <h4 className=\"title\">Order List - <em>{this.state.page.name}</em></h4>\n                        {!pageInfo.hideTutorials &&\n                          <Row>\n                            <Col sm=\"12\">\n                              <Row>\n                                <Col md=\"12\">\n                                  <Alert className=\"alert-compact\" color=\"primary\" isOpen={!this.state.hideTutorials} toggle={this.onDismiss} fade={false}>\n                                    <h4 className=\"alert-heading\">New on Order Reports?</h4>\n                                    <hr />\n                                    <p className=\"mb-0\">\n                                      Check our videos here on how to manage your Order Reports.<br /> \n                                    </p>\n                                    <a className=\"btn btn-sm btn-primary-v2\" href=\"https://www.youtube.com/watch?v=k8VEDqbPv7w\">View Tutorials</a>\n                                    <Button\n                                      className=\"btn-fill btn-sm\"\n                                      color=\"danger\"\n                                      type=\"button\"\n                                      onClick={this.onHideTutorials}\n                                    >\n                                      Hide Permanently\n                                    </Button>\n                                  </Alert>\n                                </Col>\n                              </Row>\n                            </Col>\n                          </Row>\n                        }\n                        <Row>\n                          {hasCategories && hasProducts && pageInfo.isActive !== true &&\n                            <Col sm=\"12\">\n                              <Row>\n                                <Col md=\"12\">\n                                  <Alert color=\"danger\">\n                                    <h4 className=\"alert-heading\">Store Not Activated</h4>\n                                    <hr />\n                                    <p className=\"mb-0\">\n                                      You must activate your store so it will appear in the app and you can start selling.<br /> \n                                      Click {\" \"} <Link to=\"/activate-store\">here</Link> {\" \"} to activate you store.\n                                    </p>\n                                  </Alert>\n                                </Col>\n                              </Row>\n                            </Col>\n                          }\n                          <Col className=\"pr-md-1\" md=\"3\">\n                            <FormGroup>\n                              <label htmlFor=\"startDate\" className=\"control-label\" style={{display:'block'}}>\n                                Start Date:\n                              </label>\n                              <DatePicker\n                                name=\"startDate\"\n                                className=\"form-control\"\n                                selectsStart\n                                startDate={this.state.startDate}\n                                endDate={this.state.endDate}\n                                selected={this.state.startDate}\n                                onChange={this.handleChangeStartDate}\n                              />\n                            </FormGroup>\n                          </Col>\n                          <Col className=\"px-md-1\" md=\"3\">\n                            <FormGroup>\n                              <label htmlFor=\"endDate\" className=\"control-label\" style={{display:'block'}}>\n                                End Date:\n                              </label>\n                              <DatePicker\n                                name=\"endDate\"\n                                selectsEnd\n                                startDate={this.state.startDate}\n                                endDate={this.state.endDate}\n                                className=\"form-control\"\n                                selected={this.state.endDate}\n                                onChange={this.handleChangeEndDate}\n                              />\n                            </FormGroup>\n                          </Col>\n                          <Col className=\"px-md-1\" md=\"2\">\n                            <FormGroup>\n                              <label htmlFor=\"paymentMethod\" className=\"control-label\">\n                                Payment Method:\n                              </label>\n                              <Input\n                                id=\"paymentMethod\"\n                                name=\"paymentMethod\"\n                                type=\"select\"\n                                onChange={this.handleChangePaymentMethod}\n                                value={this.state.selectedPaymentMethod}\n                              >\n                                <option value=\"\">All</option>\n                                <option value=\"cash\">Cash</option>\n                                <option value=\"paynamics\">Paynamics</option>\n                                <option value=\"paymongo\">Paymongo</option>\n                                <option value=\"cc\">Paypal</option>\n                                <option value=\"direct-transfer\">Direct Transfer</option>\n                                <option value=\"gcash\">G-Cash</option>\n                              </Input>\n                            </FormGroup>\n                          </Col>\n                          <Col className=\"px-md-1\" md=\"2\">\n                            <FormGroup>\n                              <label htmlFor=\"status\" className=\"control-label\">\n                                Status:\n                              </label>\n                              <Input\n                                id=\"status\"\n                                name=\"status\"\n                                type=\"select\"\n                                onChange={this.handleChangeStatus}\n                                value={this.state.status}\n                              >\n                                <option value=\"\">All</option>\n                                <option value=\"for_confirmation\">For Confirmation</option>\n                                <option value=\"payment_pending\">Pending</option>\n                                <option value=\"paid\">Paid</option>\n                                <option value=\"cancelled\">Cancelled</option>\n                                <option value=\"void\">Void</option>\n                              </Input>\n                            </FormGroup>\n                          </Col>\n                        </Row>\n                        <Row>\n                          <Col className=\"pr-md-1\" md=\"3\">\n                            <FormGroup>\n                              <label className=\"control-label\">\n                                <Switch\n                                  onClick={this.handleChangeDebugMode}\n                                  on={this.state.debugMode}\n                                />\n                                &nbsp;Show Test Txns\n                              </label>\n                            </FormGroup>\n                          </Col>\n                        </Row>\n                        <Row>\n                          <Col md=\"12\">\n                            <FormGroup>\n                              <Button className=\"btn-round\" color=\"info\" type=\"button\" onClick={this.generateList}>\n                                Generate\n                              </Button>\n                              <Button className=\"btn-round\" color=\"info\" type=\"button\" onClick={this.exportList}>\n                                Export\n                              </Button>\n                            </FormGroup>\n                          </Col>\n                        </Row>\n                      </CardHeader>\n                      <CardBody>\n                        <Table className=\"tablesorter table-striped fs12\" responsive>\n                          <thead className=\"text-primary bg-gray\">\n                            <tr>\n                              <th>Date Placed</th>\n                              <th>Date Paid</th>\n                              <th>Order ID</th>\n                              <th>Item Name</th>\n                              <th>Quantity</th>\n                              <th>SRP</th>\n                              <th>Total</th>\n                              <th>Booked For Date</th>\n                              <th>Order Status</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {this.renderRows()}\n                          </tbody>\n                        </Table>\n                      </CardBody>\n                      <CardFooter>\n                      </CardFooter>\n                    </Card>\n                  </Col>\n                </Row>\n              </div>\n              <LoadingOverlay\n                active={this.state.isGeneratingXls}\n                spinner\n                text='Generating...'\n                >\n              </LoadingOverlay>\n            </>\n          );\n        } else {\n          return (this.renderNoProductsAdded());\n        }\n      } else {\n        return (this.renderPageNotVerified());\n      }\n    } else {\n      return (this.renderNoPageAdded());\n    }\n  }\n}\n\nconst numberWithCommas = x => {\n  return priceRound(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n};\n\nconst priceRound = (price, dec) => {\n  if (dec === undefined) {\n    dec = 2;\n  }\n  if (price !== 0) {\n    if (!price || isNaN(price)) {\n      throw new Error(\"price is not a number\" + price);\n    }\n  }\n  const str = parseFloat(Math.round(price * 100) / 100).toFixed(dec);\n\n  return str;\n};\n\nconst lastSixDigits = (string) => {\n  let str = string.toString();\n  let sixDigits = new Array(str.length - 6 + 1).join('') + str.slice(-6);\n  return \"...\" + sixDigits;\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    getOrdersList,\n    getOrdersListGrocery,\n    getOrderListXls,\n    getPageById,\n  }\n)(Reports);","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport DatePicker from \"react-datepicker\";\nimport queryString from \"query-string\";\nimport { getSession, setSession } from \"../../config/session\";\nimport api from \"../../config/api\";\nimport { PulseLoader } from \"react-spinners\";\nimport { \n  getProductOrders,\n  getProductOrdersGrocery,\n  getProductOrdersXls,\n  getProductOrdersGroceryXls \n} from \"../../layouts/Admin/actions/ProductActions\";\nimport { getProductCategoriesAll, getProductCategoriesAllV2 } from \"../../layouts/Admin/actions/ProductCategoryActions\";\nimport { getPageById } from \"../../layouts/Admin/actions/PageActions\";\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\nimport Select from 'react-select';\nimport Switch from 'react-toggle-switch';\n\nimport defaultProductImage from \"assets/img/product-image-default.png\";\n\nimport {\n  Alert,\n  FormGroup,\n  Input,\n  Button,\n  Table,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  Media,\n  Row,\n  Col\n} from \"reactstrap\";\n\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nimport { startOfDay, endOfDay } from 'date-fns'\n\nclass ProductReports extends React.Component {\n  constructor(props) {\n    super(props);\n    const datesStr = new Date().toISOString();\n    this.state = {\n      page: {},\n      transactions: [],\n      productCategories: [],\n      productCategoriesSub: [],\n      startDate: startOfDay(new Date()),\n      endDate: endOfDay(new Date()),\n      startDateStr: datesStr,\n      endDateStr: datesStr,\n      selectedPaymentMethod: '',\n      selectedProductCategory: \"\",\n      selectedProductCategorySub: \"\",\n      filterDate: \"deliveryDate\",\n      pagination: {},\n      activePage: 1,\n      sortBy: \"quantitySoldDesc\",\n      status: \"payment_pending\",\n      isLoading: false,\n      isGrocery: false,\n      isGeneratingXls: false,\n      showTests: false\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    const sessionToken = userData.sessionToken;\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') { // If Grocery\n      this.setState({isGrocery:true});\n    }\n    if (defaultPage && defaultPage!==\"\") {\n      this.props.getPageById(defaultPage, sessionToken, (error, result) => {\n        if (error) {\n          this.showNotificationError('An error occured. Cannot find the page information!');\n        } else {\n          if(result) {\n            const { _id, name, addressLine1: address, city, province, email, balances } = result.page;\n            this.setState({\n              page: {\n                _id,\n                name,\n                address,\n                city,\n                province,\n                email,\n                balances,\n              }\n            });\n            this.getCategories(pageInfo, defaultPage, sessionToken);\n          } else {\n            this.showNotificationError('Page not found.');\n          }\n        }\n      });\n    }\n  }\n\n  handleChangeStartDate = (date) => {\n    const datesStr = new Date(date).toISOString();\n    this.setState({startDate: date});\n    this.setState({startDateStr: datesStr});\n  }\n\n  handleChangeEndDate = (date) => {\n    const datesStr = new Date(date).toISOString();\n    this.setState({endDate: date});\n    this.setState({endDateStr: datesStr});\n  }\n\n  handleChangeFilterDate = (e) => {\n    let { value } = e.target;\n    this.setState({ filterDate: value });\n  }\n\n  handleChangePaymentMethod = (e) => {\n    let { value } = e.target;\n    this.setState({ selectedPaymentMethod: value });\n  }\n\n  handleChangeStatus = (e) => {\n    let { value } = e.target;\n    this.setState({ status: value });\n  }\n\n  handleChangeProductCategory = (e) => {\n    this.setState({isLoading:true});\n    let pageId = JSON.parse(getSession(\"defaultPage\"));\n    let value = \"\";\n    const productCategoriesAll = this.state.productCategoriesAll;\n    let productCategoriesSub = [];\n    let query = {};\n\n    query.dateStart = this.state.startDateStr;\n    query.dateEnd = this.state.endDateStr;\n    if(this.state.selectedProductCategory !== '') {\n      query.category = this.state.selectedProductCategory;\n    }\n    if(this.state.selectedProductCategorySub !== '') {\n      query.subCategory = this.state.selectedProductCategorySub;\n    }\n    if(this.state.selectedPaymentMethod !== '') {\n      query.selectedPaymentMethod = this.state.selectedPaymentMethod;\n    }\n    if(this.state.status !== '') {\n      query.status = this.state.status;\n    }\n    if(this.state.filterDate !== '') {\n      query.filterDate = this.state.filterDate;\n    }\n    \n    query.pageId = pageId;\n    if (e && e.value) {\n      value = e.value;\n      productCategoriesSub = productCategoriesAll.filter(item => item.parent && item.parent.id.toString() === value);\n      query.category = value;\n    } else {\n      delete query.category;\n    }\n    delete query.subCategory;\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({ selectedProductCategory: value, selectedProductCategorySub: \"\", productCategoriesSub: productCategoriesSub });\n    this.generateTxnsList(queryStr);\n  }\n\n  handleChangeProductCategorySub = (e) => {\n    this.setState({isLoading:true});\n    let pageId = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n\n    query.dateStart = this.state.startDateStr;\n    query.dateEnd = this.state.endDateStr;\n    if(this.state.selectedProductCategory !== '') {\n      query.category = this.state.selectedProductCategory;\n    }\n    if(this.state.selectedProductCategorySub !== '') {\n      query.subCategory = this.state.selectedProductCategorySub;\n    }\n    if(this.state.selectedPaymentMethod !== '') {\n      query.selectedPaymentMethod = this.state.selectedPaymentMethod;\n    }\n    if(this.state.status !== '') {\n      query.status = this.state.status;\n    }\n    if(this.state.filterDate !== '') {\n      query.filterDate = this.state.filterDate;\n    }\n    \n    query.pageId = pageId;\n    let value = \"\";\n    if (e && e.value) {\n      value = e.value;\n      query.subCategory = value;\n    } else {\n      delete query.subCategory;\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({ selectedProductCategorySub: value});\n    this.generateTxnsList(queryStr);\n  }\n\n  handleChangeSortBy = (e) => {\n    let { value } = e.target;\n    this.setState({ sortBy: value });\n  }\n\n  handleToggleShowTests = (e) => {\n    this.setState(prevState => ({showTests: !prevState.showTests}));\n  }\n\n  generateList = () => {\n    let pageId = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    query.dateStart = this.state.startDateStr;\n    query.dateEnd = this.state.endDateStr;\n    if(this.state.selectedProductCategory !== '') {\n      query.category = this.state.selectedProductCategory;\n    }\n    if(this.state.selectedProductCategorySub !== '') {\n      query.subCategory = this.state.selectedProductCategorySub;\n    }\n    if(this.state.selectedPaymentMethod !== '') {\n      query.selectedPaymentMethod = this.state.selectedPaymentMethod;\n    }\n    if(this.state.status !== '') {\n      query.status = this.state.status;\n    }\n    if(this.state.filterDate !== '') {\n      query.filterDate = this.state.filterDate;\n    }\n    if(this.state.sortBy !== '') {\n      query.sortBy = this.state.sortBy;\n    }\n    if(this.state.showTests) {\n      query.showTests = this.state.showTests;\n    }\n    \n    query.pageId = pageId;\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.generateTxnsList(queryStr);\n  }\n\n  exportList = () => {\n    this.setState({ isGeneratingXls: true });\n    let sort = \"\";\n    let sortBy = \"price\";\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    const { sessionToken } = userData;\n    if (this.state.sort !== \"desc\") {\n      sort = \"desc\";\n    } else {\n      sort = \"asc\";\n    }\n    \n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    query.dateStart = this.state.startDateStr;\n    query.dateEnd = this.state.endDateStr;\n    if(this.state.selectedProductCategory !== '') {\n      query.category = this.state.selectedProductCategory;\n    }\n    if(this.state.selectedProductCategorySub !== '') {\n      query.subCategory = this.state.selectedProductCategorySub;\n    }\n    if(this.state.selectedPaymentMethod !== '') {\n      query.selectedPaymentMethod = this.state.selectedPaymentMethod;\n    }\n    if(this.state.status !== '') {\n      query.status = this.state.status;\n    }\n    if(this.state.filterDate !== '') {\n      query.filterDate = this.state.filterDate;\n    }\n    if(this.state.showTests) {\n      query.showTests = this.state.showTests;\n    }\n\n    query.pageId = pageId;\n\n    this.setState({ sort: sort });\n    this.setState({ sortBy: sortBy });\n    if (userData !== null) {\n      if(this.state.isGrocery) {\n        this.props.getProductOrdersGroceryXls(\n          query,\n          sessionToken,\n          (error, result) => {\n            if (result && result.data && result.data.status === 'success' && result.data.filename) {\n              const fileName = result.data.filename;\n              this.setState({ isGeneratingXls: false });\n              window.open(fileName);\n            } else {\n              this.setState({ isGeneratingXls: false });\n              this.showNotificationError('No transactions found.');\n            }\n          }\n        );\n      } else {\n        this.props.getProductOrdersXls(\n          query,\n          sessionToken,\n          (error, result) => {\n            if (result && result.data && result.data.status === 'success' && result.data.filename) {\n              const fileName = result.data.filename;\n              this.setState({ isGeneratingXls: false });\n              window.open(fileName);\n            } else {\n              this.setState({ isGeneratingXls: false });\n              this.showNotificationError('No transactions found.');\n            }\n          }\n        );\n      }\n    } else {\n      this.setState({ isGeneratingXls: false });\n    }\n  }\n\n  generateTxnsList(queryStr) {\n    this.setState({isLoading:true});\n    const query = queryString.parse(queryStr);\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const { sessionToken } = userData;\n    \n    if (userData !== null) {\n      if(pageInfo) {\n        if(this.state.isGrocery) {\n          this.props.getProductOrdersGrocery(\n            query,\n            sessionToken,\n            (error, result) => {\n              if (!error && result && result.data) {\n                const txns = result.data;\n                this.setState({ transactions:txns });\n              } else {\n                this.setState({ transactions:[] });\n              }\n              this.setState({ isLoading:false });\n            }\n          );\n        } else {\n          this.props.getProductOrders(\n            query,\n            sessionToken,\n            (error, result) => {\n              if (!error && result && result.data) {\n                const txns = result.data;\n                this.setState({ transactions:txns });\n              } else {\n                this.setState({ transactions:[] });\n              }\n              this.setState({ isLoading:false });\n            }\n          );\n        }\n      }\n    }\n  }\n\n  onDismiss = () => {\n    this.setState({ hideTutorials: true });\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    pageInfo.hideTutorials = true;\n    setSession('pageInfo',JSON.stringify(pageInfo));\n  }\n\n  onHideTutorials = () => {\n    if (!window.confirm(\"Are you sure you want to hide this section permanently?\")) {\n      return false;\n    }\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const place = { \n      hideTutorials: true\n    }\n    api(sessionToken).patch(`/provider/places/${pageInfo._id}`, place)\n      .then(response => {\n        if (response && response.data && response.data.status === 'ok') {\n          this.setState({ hideTutorials: true });\n          pageInfo.hideTutorials = true;\n          setSession('pageInfo',JSON.stringify(pageInfo));\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      })\n      .catch(error => {\n        this.setState({ submitted: false, isSaving: false });\n        if(error.response && typeof error.response === 'string' ) {\n          this.showNotificationError(error.response);\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      });\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      \n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  renderImage(item) {\n    const {\n      name,\n      photos,\n    } = item;\n\n    let primaryPhoto;\n    if (photos && (photos[0] !== undefined || photos[0] != null)) {\n      primaryPhoto = photos[0];\n    } else {\n      primaryPhoto = {\n        thumb: defaultProductImage,\n      }\n    }\n    return (\n      <Media className=\"mt-1\">\n        { primaryPhoto && primaryPhoto.thumb &&\n          <Media left middle>\n            <Media\n              object\n              data-src={primaryPhoto.thumb}\n              src={primaryPhoto.thumb}\n              alt={name}\n              title={name}\n            />\n          </Media>\n        }\n      </Media>\n    );\n  }\n\n  renderRows() {\n    let colSpan = 9;\n    if(this.state.isGrocery) {\n      colSpan = 10;\n    }\n    if(this.state.isLoading) {\n      return (\n        <tr>\n          <td colSpan={colSpan}>\n            <PulseLoader\n              sizeUnit={\"px\"}\n              size={15}\n              color={'#1d8cf8'}\n              loading={this.state.isLoading}\n            />\n          </td>\n        </tr>\n      );\n    } else {\n      if (\n        this.state.transactions instanceof Array &&\n        this.state.transactions.length > 0\n      ) {\n        if(this.state.isGrocery) {\n          return this.state.transactions.map((item, index) => (\n            <tr key={index}>\n              <td>{index+1}&middot;{this.renderImage(item)}</td>\n              <td>\n                <Link target=\"_blank\" to={`/products/${item._id}/edit`}>{item.productName}</Link>\n              </td>\n              <td>{item.categories && item.categories.length > 0 && item.categories.filter(item => !item.parent).map(cat => cat.name).join(\", \")}</td>\n              <td>{item.categories && item.categories.length > 0 && item.categories.filter(item => item.parent!== null).map(cat => cat.name).join(\", \")}</td>\n              <td>...{item._id.substring(18, 24)}</td>\n              <td style={{whiteSpace:\"nowrap\"}}>{item.itemCode}</td>\n              <td>{item.barcode}</td>\n              <td>&#8369;{numberWithCommas(item.price)}</td>\n              <td align=\"center\">{item.quantitySold}</td>\n              <td>&#8369;{numberWithCommas(item.totalSales)}</td>\n            </tr>\n          ));\n        } else {\n          return this.state.transactions.map((item, index) => (\n            <tr key={index}>\n              <td>{index+1}&middot;{this.renderImage(item)}</td>\n              <td>\n                <Link target=\"_blank\" to={`/products/${item._id}/edit`}>{item.productName}</Link>\n              </td>\n              <td>{item.categories && item.categories.length > 0 && item.categories.map(cat => cat.name).join(\", \")}</td>\n              <td>...{item._id.substring(18, 24)}</td>\n              <td style={{whiteSpace:\"nowrap\"}}>{item.itemCode}</td>\n              <td>{item.barcode}</td>\n              <td>&#8369;{numberWithCommas(item.price)}</td>\n              <td align=\"center\">{item.quantitySold}</td>\n              <td>&#8369;{numberWithCommas(item.totalSales)}</td>\n            </tr>\n          ));\n        }\n      } else {\n        return (\n          <tr>\n            <td colSpan={colSpan}>\n              <h5 className=\"text-danger\">\n                <em>No transactions found.</em>\n              </h5>\n            </td>\n          </tr>\n        );\n      }\n    }\n  }\n\n  getCategories(pageInfo,defaultPage,sessionToken) {\n    if(this.state.isGrocery) { // If Grocery\n      this.setState({isGrocery:true});\n      this.props.getProductCategoriesAllV2(\n        {},\n        defaultPage,\n        sessionToken,\n        (error, result) => {\n          if (!error && result) {\n            const categoriesAll = result;\n            if(categoriesAll instanceof Array && categoriesAll.length > 0) {\n              let productCategoriesAll = [];\n              let productCategoriesMain = [];\n              let productCategoriesSub = [];\n              categoriesAll.forEach(item => {\n                const category = {\n                  value: item._id,\n                  label: item.name,\n                  parent: item.parent,\n                }\n                productCategoriesAll.push(category);\n              });\n              productCategoriesMain = productCategoriesAll.filter(item => !item.parent);\n              const categoryFirst = {\n                value: \"\",\n                label: \"All\",\n                parent: \"\",\n              }\n              productCategoriesMain = [categoryFirst,...productCategoriesMain];\n              if(this.state.selectedProductCategory) {\n                productCategoriesSub = productCategoriesAll.filter(item => item.parent && item.parent.id.toString() === this.state.selectedProductCategory);\n              }\n              this.setState({\n                productCategoriesAll: productCategoriesAll,\n                productCategories: productCategoriesMain,\n                productCategoriesSub: productCategoriesSub,\n              });\n              \n            } else {\n              this.setState({\n                productCategories: [],\n              });\n            }\n          }\n        }\n      );\n    } else {\n      this.props.getProductCategoriesAll(\n        {},\n        sessionToken,\n        (error, result) => {\n          if (!error && result) {\n            const categoriesAll = result;\n            if(categoriesAll instanceof Array && categoriesAll.length > 0) {\n              let productCategoriesAll = [];\n              let productCategoriesMain = [];\n              let productCategoriesSub = [];\n              categoriesAll.forEach(item => {\n                const category = {\n                  value: item._id,\n                  label: item.name,\n                  parent: item.parent,\n                }\n                productCategoriesAll.push(category);\n              });\n              productCategoriesMain = productCategoriesAll.filter(item => !item.parent);\n              const categoryFirst = {\n                value: \"\",\n                label: \"All\",\n                parent: \"\",\n              }\n              productCategoriesMain = [categoryFirst,...productCategoriesMain];\n              if(this.state.selectedProductCategory) {\n                productCategoriesSub = productCategoriesAll.filter(item => item.parent && item.parent.id.toString() === this.state.selectedProductCategory);\n              }\n              this.setState({\n                productCategoriesAll: productCategoriesAll,\n                productCategories: productCategoriesMain,\n                productCategoriesSub: productCategoriesSub,\n              });\n              \n            } else {\n              this.setState({\n                productCategories: [],\n              });\n            }\n          }\n        }\n      );\n    }\n  }\n\n  renderNoPageAdded() {\n    return (\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">No Page Added</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You have not added a page yet. Click{\" \"} <Link to=\"/add-page\">here</Link> {\" \"}to add a new page.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderPageNotVerified() {\n    return(\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">You Have Not Agreed with our Terms & Policies</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You must agree  with our Terms & Policies. Click {\" \"} <Link to=\"/statement-of-agreement\">here</Link> {\" \"} to read our Terms & Policies.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderNoProductsAdded() {\n    return (\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">No Products Added</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You need to add a product before you can activate your store. Click{\" \"} <Link to=\"/products/new\">here</Link> {\" \"}to add a product.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  render() {\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const hasProducts = JSON.parse(getSession(\"hasProducts\"));\n    const hasCategories = JSON.parse(getSession(\"hasCategories\"));\n    if(pageInfo && pageInfo._id) {\n      if(pageInfo.isVerified === true) {\n        if(hasProducts === true) {\n          return (\n            <>\n              <div className=\"content\">\n                <div className=\"react-notification-alert-container\">\n                  <NotificationAlert ref=\"notify\" />\n                </div>\n                <Row>\n                  <Col md=\"12\">\n                    <Card>\n                      <CardHeader>\n                        <h4 className=\"title\">Product Order Reports - <em>{this.state.page.name}</em></h4>\n                        {!pageInfo.hideTutorials &&\n                          <Row>\n                            <Col sm=\"12\">\n                              <Row>\n                                <Col md=\"12\">\n                                  <Alert className=\"alert-compact\" color=\"primary\" isOpen={!this.state.hideTutorials} toggle={this.onDismiss} fade={false}>\n                                    <h4 className=\"alert-heading\">New on Product Reports?</h4>\n                                    <hr />\n                                    <p className=\"mb-0\">\n                                      Check our videos here on how to manage your Product Reports.<br /> \n                                    </p>\n                                    <a className=\"btn btn-sm btn-primary-v2\" href=\"https://www.youtube.com/watch?v=k8VEDqbPv7w\">View Tutorials</a>\n                                    <Button\n                                      className=\"btn-fill btn-sm\"\n                                      color=\"danger\"\n                                      type=\"button\"\n                                      onClick={this.onHideTutorials}\n                                    >\n                                      Hide Permanently\n                                    </Button>\n                                  </Alert>\n                                </Col>\n                              </Row>\n                            </Col>\n                          </Row>\n                        }\n                        <Row>\n                          {hasCategories && hasProducts && pageInfo.isActive !== true &&\n                            <Col sm=\"12\">\n                              <Row>\n                                <Col md=\"12\">\n                                  <Alert color=\"danger\">\n                                    <h4 className=\"alert-heading\">Store Not Activated</h4>\n                                    <hr />\n                                    <p className=\"mb-0\">\n                                      You must activate your store so it will appear in the app and you can start selling.<br /> \n                                      Click {\" \"} <Link to=\"/activate-store\">here</Link> {\" \"} to activate you store.\n                                    </p>\n                                  </Alert>\n                                </Col>\n                              </Row>\n                            </Col>\n                          }\n                          <Col className=\"pr-md-1\" md=\"6\">\n                            <Row>\n                              <Col md=\"6\">\n                                <FormGroup>\n                                  <label htmlFor=\"startDate\" className=\"control-label\" style={{display:'block'}}>\n                                    Start Date:\n                                  </label>\n                                  { this.state.filterDate && this.state.filterDate === 'deliveryDate' \n                                    ?\n                                    <DatePicker\n                                      name=\"startDate\"\n                                      className=\"form-control\"\n                                      selectsStart\n                                      startDate={this.state.startDate}\n                                      endDate={this.state.endDate}\n                                      selected={this.state.startDate}\n                                      onChange={this.handleChangeStartDate}\n                                      showTimeSelect\n                                      dateFormat=\"MMMM d, yyyy h:mm aa\"\n                                      timeIntervals={30}\n                                      timeCaption=\"Time\"\n                                      autoComplete=\"off\"\n                                    />\n                                    :\n                                    <DatePicker\n                                      name=\"startDate\"\n                                      className=\"form-control\"\n                                      selectsStart\n                                      startDate={this.state.startDate}\n                                      endDate={this.state.endDate}\n                                      selected={this.state.startDate}\n                                      onChange={this.handleChangeStartDate}\n                                      dateFormat=\"MMMM d, yyyy\"\n                                      autoComplete=\"off\"\n                                    />\n                                  }\n                                </FormGroup>\n                              </Col>\n                              <Col md=\"6\">  \n                                <FormGroup>\n                                  <label htmlFor=\"endDate\" className=\"control-label\" style={{display:'block'}}>\n                                    End Date:\n                                  </label>\n                                  { this.state.filterDate && this.state.filterDate === 'deliveryDate' \n                                    ?\n                                    <DatePicker\n                                      name=\"endDate\"\n                                      selectsEnd\n                                      startDate={this.state.startDate}\n                                      endDate={this.state.endDate}\n                                      className=\"form-control\"\n                                      selected={this.state.endDate}\n                                      onChange={this.handleChangeEndDate}\n                                      showTimeSelect\n                                      dateFormat=\"MMMM d, yyyy h:mm aa\"\n                                      timeIntervals={30}\n                                      timeCaption=\"Time\"\n                                      autoComplete=\"off\"\n                                    />\n                                    :\n                                    <DatePicker\n                                      name=\"endDate\"\n                                      selectsEnd\n                                      startDate={this.state.startDate}\n                                      endDate={this.state.endDate}\n                                      className=\"form-control\"\n                                      selected={this.state.endDate}\n                                      onChange={this.handleChangeEndDate}\n                                      dateFormat=\"MMMM d, yyyy\"\n                                      autoComplete=\"off\"\n                                    />\n                                  }\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col md=\"6\">\n                                <FormGroup>\n                                  <label htmlFor=\"filterDate\" className=\"control-label\">\n                                    Filter Date by:\n                                  </label>\n                                  <Input\n                                    id=\"filterDate\"\n                                    name=\"filterDate\"\n                                    type=\"select\"\n                                    onChange={this.handleChangeFilterDate}\n                                    value={this.state.filterDate}\n                                  >\n                                    <option value=\"deliveryDate\">Delivery Date</option>\n                                    <option value=\"orderDate\">Date Ordered</option>\n                                  </Input>\n                                </FormGroup>\n                              </Col>\n                              <Col md=\"6\">\n                                <FormGroup>\n                                  <label htmlFor=\"sortBy\" className=\"control-label\">\n                                    Sort by:\n                                  </label>\n                                  <Input\n                                    id=\"sortBy\"\n                                    name=\"sortBy\"\n                                    type=\"select\"\n                                    onChange={this.handleChangeSortBy}\n                                    value={this.state.sortBy}\n                                  >\n                                    <option value=\"productName\">Product - A to Z</option>\n                                    <option value=\"productNameDesc\">Product - Z to A</option>\n                                    <option value=\"quantitySold\">Qty. Sold - Low to High</option>\n                                    <option value=\"quantitySoldDesc\">Qty. Sold - High to Low</option>\n                                    <option value=\"price\">Price - Low to High</option>\n                                    <option value=\"priceDesc\">Price - High to Low</option>\n                                  </Input>\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                          </Col>\n                          <Col className=\"pl-md-1\" md=\"6\">\n                            <Row>\n                              <Col md=\"6\">\n                                <FormGroup>\n                                  <label htmlFor=\"category\" className=\"control-label\">\n                                    Category:\n                                  </label>\n                                  <Select\n                                    className=\"react-select\"\n                                    name=\"category\"\n                                    styles={{fontSize:'13px !important'}}\n                                    options={this.state.productCategories}\n                                    onChange={this.handleChangeProductCategory}\n                                    placeholder=\"Select main category\"\n                                    value={this.state.productCategories.filter(item => item.value === this.state.selectedProductCategory)}\n                                  />\n                                </FormGroup>\n                              </Col>\n                              <Col md=\"6\">\n                                <FormGroup>\n                                  <label htmlFor=\"subCategory\" className=\"control-label\">\n                                    Subcategory:\n                                  </label>\n                                  <Select\n                                    className=\"react-select\"\n                                    name=\"subCategory\"\n                                    styles={{fontSize:'13px !important'}}\n                                    isClearable={true}\n                                    options={this.state.productCategoriesSub}\n                                    onChange={this.handleChangeProductCategorySub}\n                                    placeholder=\"Select sub category\"\n                                    value={this.state.productCategoriesSub.filter(item => item.value === this.state.selectedProductCategorySub)}\n                                  />\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col md=\"6\">\n                                <FormGroup>\n                                  <label htmlFor=\"paymentMethod\" className=\"control-label\">\n                                    Payment Method:\n                                  </label>\n                                  <Input\n                                    id=\"paymentMethod\"\n                                    name=\"paymentMethod\"\n                                    type=\"select\"\n                                    onChange={this.handleChangePaymentMethod}\n                                    value={this.state.selectedPaymentMethod}\n                                  >\n                                    <option value=\"\">All</option>\n                                    <option value=\"cash\">Cash</option>\n                                    <option value=\"gcash\">G-Cash</option>\n                                    <option value=\"paynamics\">Paynamics</option>\n                                    <option value=\"paymongo\">Paymongo</option>\n                                    <option value=\"cc\">Paypal</option>\n                                    <option value=\"direct-transfer\">Direct Transfer</option>\n                                  </Input>\n                                </FormGroup>\n                              </Col>\n                              <Col md=\"6\">\n                                <FormGroup>\n                                  <label htmlFor=\"status\" className=\"control-label\">\n                                    Status:\n                                  </label>\n                                  <Input\n                                    id=\"status\"\n                                    name=\"status\"\n                                    type=\"select\"\n                                    onChange={this.handleChangeStatus}\n                                    value={this.state.status}\n                                  >\n                                    <option value=\"\">All</option>\n                                    <option value=\"for_confirmation\">For Confirmation</option>\n                                    <option value=\"payment_pending\">Pending</option>\n                                    <option value=\"paid\">Paid</option>\n                                    <option value=\"cancelled\">Cancelled</option>\n                                    <option value=\"void\">Void</option>\n                                  </Input>\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                          </Col>\n                          <Col className=\"pr-md-1\" md=\"6\">\n                            <Row>\n                              <Col md=\"6\">\n                                <FormGroup>\n                                  <label className=\"control-label\">\n                                    <Switch\n                                      onClick={this.handleToggleShowTests}\n                                      on={this.state.showTests}\n                                    />\n                                    &nbsp;Show Test Txns\n                                  </label>\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                          </Col>\n                        </Row>\n                        <Row>\n                          <Col md=\"12\">\n                            <FormGroup>\n                              <Button className=\"btn-round\" color=\"info\" type=\"button\" onClick={this.generateList}>\n                                Generate\n                              </Button>\n                              <Button className=\"btn-round\" color=\"info\" type=\"button\" onClick={this.exportList}>\n                                Export\n                              </Button>\n                            </FormGroup>\n                          </Col>\n                        </Row>\n                      </CardHeader>\n                      <CardBody>\n                        <Table className=\"tablesorter table-striped fs12\" responsive>\n                          <thead className=\"text-primary bg-gray\">\n                            { this.state.isGrocery ? (\n                                <tr>\n                                  <th>#</th>\n                                  <th>Product</th>\n                                  <th>Category</th>\n                                  <th style={{whiteSpace:\"nowrap\"}}>Sub-category</th>\n                                  <th>Product ID</th>\n                                  <th>Item Code</th>\n                                  <th>Barcode</th>\n                                  <th>SRP</th>\n                                  <th>Qty. Sold</th>\n                                  <th>Total Sales</th>\n                                </tr>\n                              ) : (\n                                <tr>\n                                  <th>#</th>\n                                  <th>Product</th>\n                                  <th>Category</th>\n                                  <th>Product Id</th>\n                                  <th>Item Code</th>\n                                  <th>Barcode</th>\n                                  <th>SRP</th>\n                                  <th>Qty. Sold</th>\n                                  <th>Total Sales</th>\n                                </tr>\n                              )\n                            } \n                          </thead>\n                          <tbody>\n                            {this.renderRows()}\n                          </tbody>\n                        </Table>\n                      </CardBody>\n                      <CardFooter>\n                      </CardFooter>\n                    </Card>\n                  </Col>\n                </Row>\n              </div>\n              <LoadingOverlay\n                active={this.state.isGeneratingXls}\n                spinner\n                text='Generating...'\n                >\n              </LoadingOverlay>\n            </>\n          );\n        } else {\n          return (this.renderNoProductsAdded());\n        }\n      } else {\n        return (this.renderPageNotVerified());\n      }\n    } else {\n      return (this.renderNoPageAdded());\n    }\n  }\n}\n\nconst numberWithCommas = x => {\n  return priceRound(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n};\n\nconst priceRound = (price, dec) => {\n  if (dec === undefined) {\n    dec = 2;\n  }\n  if (price !== 0) {\n    if (!price || isNaN(price)) {\n      throw new Error(\"price is not a number\" + price);\n    }\n  }\n  const str = parseFloat(Math.round(price * 100) / 100).toFixed(dec);\n\n  return str;\n};\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    getProductOrders,\n    getProductOrdersGrocery,\n    getProductOrdersXls,\n    getProductOrdersGroceryXls,\n    getPageById,\n    getProductCategoriesAll,\n    getProductCategoriesAllV2,\n  }\n)(ProductReports);","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../../config/api\";\nimport queryString from \"query-string\";\nimport {\n  saveNewStatus,\n  pickUp,\n  cancelAction,\n  checkIfMine,\n  receivePayment,\n  fetchSingleOrderData\n} from \"../../layouts/Admin/actions/OrderActions\";\nimport { getSession, setSession } from \"../../config/session\";\nimport { PulseLoader } from \"react-spinners\";\nimport { FontAwesomeIcon as Fa } from \"@fortawesome/react-fontawesome\";\nimport Pagination from \"react-js-pagination\";\nimport NotificationAlert from \"react-notification-alert\";\nimport { Alert, Card, CardHeader, CardBody, CardFooter, Table, Row, Col, Media, Button,\n  Badge, Input, FormGroup\n} from \"reactstrap\";\nimport DatePicker from \"react-datepicker\";\nimport Select from 'react-select';\nimport LoadingOverlay from 'react-loading-overlay';\nimport Switch from \"react-toggle-switch\";\nimport { format, startOfDay, endOfDay, addHours, subSeconds } from 'date-fns';\n\nimport logoBlu from \"assets/img/sb-pin-logo-blu.png\";\n\nclass Orders extends React.Component {\n  constructor(props) {\n    super();\n    this.toggleDrop = this.toggleDrop.bind(this);\n    const datesStartStr = format(startOfDay(new Date()), \"yyyy-MM-dd'T'HH:mm:ss\");\n    const datesEndStr = format(endOfDay(new Date()), \"yyyy-MM-dd'T'HH:mm:ss\");\n    this.state = {\n      orders: [],\n      dateStart: startOfDay(new Date()),\n      dateEnd: endOfDay(new Date()),\n      dateStartStr: datesStartStr,\n      dateEndStr: datesEndStr,\n      timeStart: 0,\n      timeEnd: 24,\n      deliveryTime: '10001359',\n      filterDate: 'deliveryDate',\n      showTests: false,\n      sort: \"created\",\n      sortBy: \"desc\",\n      size: 25,\n      selectedPaymentMethod: '',\n      singleDetails: [],\n      modal: false,\n      modalConfirm: false,\n      nestedModal: false,\n      closeAll: false,\n      dropdownOpen: false,\n      reason: \"\",\n      pagination: {},\n      activePage: 1,\n      subReason: \"\",\n      isLoading: true,\n      isLoadingOrderDetail: true,\n      canPickUp: false,\n      status: \"\",\n      search: \"\",\n      showPickUpModal: false,\n      showPaymentModal: false,\n      providerNote: \"\",\n      shoppers: [],\n      shopperOptions: [],\n      isGrocery: false,\n      isGeneratingXls: false,\n    };\n  }\n\n  componentDidMount() {\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let pageId = JSON.parse(getSession(\"defaultPage\"));\n    const { sessionToken } = JSON.parse(getSession(\"userData\"));\n    if(pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb') { // If Grocery\n      this.setState({isGrocery:true});\n      if(sessionToken && pageId) {\n        api(sessionToken).get(`/provider/places/${pageId}/get-shoppers`)\n          .then(resp => {\n            if(resp && resp.data) {\n              const shoppers = resp.data;\n              let shopperOptions = [];\n              shoppers.forEach(item => {\n                const shopper = {\n                  value: item._id,\n                  label: `${item.firstName} ${item.lastName} (${item.email})`,\n                }\n                shopperOptions.push(shopper);\n              });\n              const optionFirst = [\n                {\n                  value: \"\",\n                  label: \"Select\",\n                }\n              ]\n              shopperOptions = [...optionFirst,...shopperOptions];\n              this.setState({ \n                shopperOptions,\n                shoppers\n              });\n            }\n          })\n          .catch(error => {\n            console.error({error});\n          });\n      }\n    }\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    let activePage = query.page ? Number(query.page) : this.state.activePage;\n    let status = query.status ? query.status : this.state.status;\n    let sort = query.sort ? query.sort : this.state.sort;\n    let sortBy = query.sortBy ? query.sortBy : this.state.sortBy;\n    let search = query.search ? query.search : this.state.search;\n    let size = query.size ? query.size : this.state.size;\n    let selectedPaymentMethod = query.selectedPaymentMethod ? query.selectedPaymentMethod : this.state.selectedPaymentMethod;\n    let filterDate = query.filterDate ? query.filterDate : this.state.filterDate;\n    let dateStart = query.dateStart ? new Date(query.dateStart) : this.state.dateStart;\n    let dateEnd = query.dateEnd ? new Date(query.dateEnd) : this.state.dateEnd;\n    let dateStartStr = query.dateStart ? format(new Date(query.dateStart),\"yyyy-MM-dd'T'HH:mm:ss\") : this.state.dateStartStr;\n    let dateEndStr = query.dateEnd ? format(new Date(query.dateEnd),\"yyyy-MM-dd'T'HH:mm:ss\") : this.state.dateEndStr;\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({\n      activePage: activePage,\n      status: status,\n      sort: sort,\n      sortBy: sortBy,\n      search: search,\n      size: size,\n      dateStart: dateStart,\n      dateEnd: dateEnd,\n      dateStartStr: dateStartStr,\n      dateEndStr: dateEndStr,\n      selectedPaymentMethod: selectedPaymentMethod,\n      filterDate: filterDate,\n      singleDetails: this.state.orders[0],\n      pageName: pageInfo && pageInfo.name ? pageInfo.name : ''\n    });\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    this.refreshOrders(queryStr, defaultPage);\n  }\n\n  toggleConfirm = () => {\n    this.setState(prevState => ({\n      modalConfirm: !prevState.modalConfirm\n    }));\n  }\n\n  toggle = () => {\n    this.setState(prevState => ({\n      modal: !prevState.modal,\n      reason: \"\",\n      subReason: \"\"\n    }));\n  }\n\n  toggleDrop = () => {\n    this.setState(prevState => ({\n      dropdownOpen: !prevState.dropdownOpen\n    }));\n  }\n\n  toggleNested = () => {\n    this.setState({\n      nestedModal: !this.state.nestedModal,\n      closeAll: false\n    });\n  }\n\n  toggleAll = () => {\n    this.setState({\n      nestedModal: !this.state.nestedModal,\n      closeAll: true\n    });\n  }\n\n  togglePickupModal = () => {\n    this.setState(prevState => ({\n      showPickUpModal: !prevState.showPickUpModal\n    }));\n  }\n\n  handleChangeKeyword = (e) => {\n    let { value } = e.target;\n    this.setState({ search: value });\n  }\n\n  handleChangeStartDate = (date) => {\n    const datesStr = format(new Date(date), \"yyyy-MM-dd'T'HH:mm:ss\");\n    this.setState({dateStart: date});\n    this.setState({dateStartStr: datesStr});\n    this.setState({isLoading:true});\n    this.setState({isLoadingOrderDetail:true});\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    query.dateStart = datesStr;\n    query.dateEnd = this.state.dateEndStr;\n    if(this.state.selectedPaymentMethod !== '') {\n      query.selectedPaymentMethod = this.state.selectedPaymentMethod;\n    } else {\n      delete query.selectedPaymentMethod;\n    }\n    if(this.state.filterDate !== '') {\n      query.filterDate = this.state.filterDate;\n    } else {\n      delete query.filterDate;\n    }\n    if(this.state.search !== '') {\n      query.search = this.state.search;\n    } else {\n      delete query.search;\n    }\n    if(this.state.status !== '') {\n      query.status = this.state.status;\n    } else {\n      delete query.status;\n    }\n    delete query.page\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.refreshOrders(queryStr, defaultPage);\n  }\n\n  handleChangeEndDate = (date) => {\n    const datesStr = format(new Date(date), \"yyyy-MM-dd'T'HH:mm:ss\");\n    this.setState({dateEnd: date});\n    this.setState({dateEndStr: datesStr});\n    this.setState({isLoading:true});\n    this.setState({isLoadingOrderDetail:true});\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    query.dateStart = this.state.dateStartStr;\n    query.dateEnd = datesStr;\n    if(this.state.selectedPaymentMethod !== '') {\n      query.selectedPaymentMethod = this.state.selectedPaymentMethod;\n    } else {\n      delete query.selectedPaymentMethod;\n    }\n    if(this.state.filterDate !== '') {\n      query.filterDate = this.state.filterDate;\n    } else {\n      delete query.filterDate;\n    }\n    if(this.state.search !== '') {\n      query.search = this.state.search;\n    } else {\n      delete query.search;\n    }\n    if(this.state.status !== '') {\n      query.status = this.state.status;\n    } else {\n      delete query.status;\n    }\n    delete query.page\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.refreshOrders(queryStr, defaultPage);\n  }\n\n  handleChangeFilterDate = (e) => {\n    let { value } = e.target;\n    this.setState({filterDate:value});\n    this.setState({isLoading:true});\n    this.setState({isLoadingOrderDetail:true});\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    query.dateStart = this.state.dateStartStr;\n    query.dateEnd = this.state.dateEndStr;\n    if(this.state.selectedPaymentMethod !== '') {\n      query.selectedPaymentMethod = this.state.selectedPaymentMethod;\n    } else {\n      delete query.selectedPaymentMethod;\n    }\n    if(value !== '') {\n      query.filterDate = value;\n    } else {\n      delete query.filterDate;\n    }\n    if(this.state.search !== '') {\n      query.search = this.state.search;\n    } else {\n      delete query.search;\n    }\n    if(this.state.status !== '') {\n      query.status = this.state.status;\n    } else {\n      delete query.status;\n    }\n    delete query.page\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.refreshOrders(queryStr, defaultPage);\n  }\n\n  handleChangePaymentMethod = (e) => {\n    let { value } = e.target;\n    this.setState({selectedPaymentMethod:value});\n    this.setState({isLoading:true});\n    this.setState({isLoadingOrderDetail:true});\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    query.dateStart = this.state.dateStartStr;\n    query.dateEnd = this.state.dateEndStr;\n    if(value !== '') {\n      query.selectedPaymentMethod = value;\n    } else {\n      delete query.selectedPaymentMethod;\n    }\n    if(this.state.filterDate !== '') {\n      query.filterDate = this.state.filterDate;\n    } else {\n      delete query.filterDate;\n    }\n    if(this.state.search !== '') {\n      query.search = this.state.search;\n    } else {\n      delete query.search;\n    }\n    if(this.state.status !== '') {\n      query.status = this.state.status;\n    } else {\n      delete query.status;\n    }\n    delete query.page\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.refreshOrders(queryStr, defaultPage);\n  }\n\n  handleChangeStatus = (e) => {\n    let { value } = e.target;\n    if(value) {\n      this.setState({status:value});\n    } else {\n      this.setState({status:''});\n    }\n    this.setState({isLoading:true});\n    this.setState({isLoadingOrderDetail:true});\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    query.dateStart = this.state.dateStartStr;\n    query.dateEnd = this.state.dateEndStr;\n    if(this.state.selectedPaymentMethod !== '') {\n      query.selectedPaymentMethod = this.state.selectedPaymentMethod;\n    } else {\n      delete query.selectedPaymentMethod;\n    }\n    if(this.state.filterDate !== '') {\n      query.filterDate = this.state.filterDate;\n    } else {\n      delete query.filterDate;\n    }\n    if(this.state.search !== '') {\n      query.search = this.state.search;\n    } else {\n      delete query.search;\n    }\n    if(value !== '') {\n      query.status = value;\n    } else {\n      delete query.status;\n    }\n    delete query.page\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.refreshOrders(queryStr, defaultPage);\n  }\n\n  handleChangeDate = (date) => {\n    const { timeStart, timeEnd } = this.state;\n    const dateStart = addHours(startOfDay(new Date(date)),timeStart);\n    const dateEnd = subSeconds(addHours(startOfDay(new Date(date)),timeEnd),1);\n    this.setState({\n      dateStart,\n      dateEnd,\n      isLoading: true,\n      isLoadingOrderDetail: true\n    });\n    const defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    query.dateStart = format(new Date(dateStart), \"yyyy-MM-dd'T'HH:mm:ss\");\n    query.dateEnd = format(new Date(dateEnd), \"yyyy-MM-dd'T'HH:mm:ss\");\n    if(this.state.selectedPaymentMethod !== '') {\n      query.selectedPaymentMethod = this.state.selectedPaymentMethod;\n    } else {\n      delete query.selectedPaymentMethod;\n    }\n    if(this.state.filterDate !== '') {\n      query.filterDate = this.state.filterDate;\n    } else {\n      delete query.filterDate;\n    }\n    if(this.state.search !== '') {\n      query.search = this.state.search;\n    } else {\n      delete query.search;\n    }\n    if(this.state.status !== '') {\n      query.status = this.state.status;\n    } else {\n      delete query.status;\n    }\n    delete query.page\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.refreshOrders(queryStr, defaultPage);\n  }\n\n  handleChangeDeliveryTime = (e) => {\n    const time = e.target.value;\n    let timeStart = 0, timeEnd = 24;\n    if(time) {\n      if(time==='14001659') {\n        timeStart = 14;\n        timeEnd = 17;\n      } else if(time==='17002059') {\n        timeStart = 17;\n        timeEnd = 21;\n      } else if(time==='10002059') {\n        timeStart = 10;\n        timeEnd = 21;\n      }\n    }\n    const { dateStart, dateEnd } = this.state;\n    const dateStartNew = addHours(startOfDay(new Date(dateStart)),timeStart);\n    const dateEndNew = subSeconds(addHours(startOfDay(new Date(dateEnd)),timeEnd),1);\n    this.setState({\n      timeStart,\n      timeEnd,\n      deliveryTime: time,\n      dateStart: dateStartNew,\n      dateEnd: dateEndNew,\n      isLoading: true,\n      isLoadingOrderDetail: true\n    });\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    query.dateStart = format(new Date(dateStartNew),\"yyyy-MM-dd'T'HH:mm:ss\");\n    query.dateEnd = format(new Date(dateEndNew),\"yyyy-MM-dd'T'HH:mm:ss\");\n    if(this.state.selectedPaymentMethod !== '') {\n      query.selectedPaymentMethod = this.state.selectedPaymentMethod;\n    } else {\n      delete query.selectedPaymentMethod;\n    }\n    if(this.state.filterDate !== '') {\n      query.filterDate = this.state.filterDate;\n    } else {\n      delete query.filterDate;\n    }\n    if(this.state.search !== '') {\n      query.search = this.state.search;\n    } else {\n      delete query.search;\n    }\n    if(this.state.status !== '') {\n      query.status = this.state.status;\n    } else {\n      delete query.status;\n    }\n    delete query.page\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.refreshOrders(queryStr, defaultPage);\n  }\n\n  handleToggleShowTests = (e) => {\n    const prevStatus = this.state.showTests\n    this.setState(prevState => ({showTests: !prevState.showTests}));\n    this.setState({isLoading:true});\n    this.setState({isLoadingOrderDetail:true});\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    query.dateStart = this.state.dateStartStr;\n    query.dateEnd = this.state.dateEndStr;\n    if(this.state.selectedPaymentMethod !== '') {\n      query.selectedPaymentMethod = this.state.selectedPaymentMethod;\n    } else {\n      delete query.selectedPaymentMethod;\n    }\n    if(this.state.filterDate !== '') {\n      query.filterDate = this.state.filterDate;\n    } else {\n      delete query.filterDate;\n    }\n    if(this.state.search !== '') {\n      query.search = this.state.search;\n    } else {\n      delete query.search;\n    }\n    if(this.state.status !== '') {\n      query.status = this.state.status;\n    } else {\n      delete query.status;\n    }\n    query.showTests = prevStatus ? \"no\" : \"yes\"\n    delete query.page\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.refreshOrders(queryStr, defaultPage);\n  }\n\n  handleChangeShopper = (e) => {\n    const shopper = this.state.singleDetails.shopper;\n    let { value } = e;\n    if(shopper && shopper._id === value) {\n      return false;\n    }\n    if (value) {\n      if (!window.confirm(\"Are you sure you want to update the shopper?\")){\n        return false;\n      }\n      const pageId = JSON.parse(getSession(\"defaultPage\"));\n      const { sessionToken } = JSON.parse(getSession(\"userData\"));\n      const orderId = this.state.singleDetails._id;\n      let newShopper = {};\n      if(value && value !== '') {\n        newShopper = this.state.shoppers.find(item => item._id === value);\n        newShopper.pageId = pageId;\n      }\n      const body = {\n        shopper: newShopper\n      }\n      if(sessionToken) {\n        api(sessionToken).patch(`/provider/places/${pageId}/orders/${orderId}/update-order`,body)\n          .then(response => {\n            if (response && response.data) {\n              this.setState({\n                singleDetails: {\n                  ...this.state.singleDetails,\n                  shopper: newShopper\n                }\n              });\n              this.showNotification('Shopper was successfully updated.');\n            }\n          })\n          .catch(error => {\n            this.setState({ submitted: false, isSaving: false });\n            if(error.response && typeof error.response === 'string' ) {\n              this.showNotificationError(error.response);\n            } else {\n              this.showNotificationError('There is a error updating the shopper!');\n            }\n          });\n      }\n    } else {\n      this.showNotificationError('Please select a shopper!');\n    }\n  }\n\n  onDismiss = () => {\n    this.setState({ hideTutorials: true });\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    pageInfo.hideTutorials = true;\n    setSession('pageInfo',JSON.stringify(pageInfo));\n  }\n\n  onHideTutorials = () => {\n    if (!window.confirm(\"Are you sure you want to hide this section permanently?\")) {\n      return false;\n    }\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let userData = JSON.parse(getSession(\"userData\"));\n    const sessionToken = userData.sessionToken;\n    const place = { \n      hideTutorials: true\n    }\n    api(sessionToken).patch(`/provider/places/${pageInfo._id}`, place)\n      .then(response => {\n        if (response && response.data && response.data.status === 'ok') {\n          this.setState({ hideTutorials: true });\n          pageInfo.hideTutorials = true;\n          setSession('pageInfo',JSON.stringify(pageInfo));\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      })\n      .catch(error => {\n        this.setState({ submitted: false, isSaving: false });\n        if(error.response && typeof error.response === 'string' ) {\n          this.showNotificationError(error.response);\n        } else {\n          this.showNotificationError('An unknown error occured. Please try again!');\n        }\n      });\n  }\n\n  showNotification(message) {\n    if (message && typeof message === \"string\") {\n      const notification = {\n        place: \"tc\",\n        message: (\n          <div>\n            <div>{message}</div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 2\n      };\n      if(notification && this.refs.notify && this.refs.notify.notificationAlert) {\n        this.refs.notify.notificationAlert(notification);\n      } else {\n        console.error(`'this.refs.notify.notificationAlert' not found!`);\n      }\n    }\n  }\n\n  showNotificationError(message, place) {\n    if (message && typeof message === \"string\") {\n      const notification = {\n        place: place || \"tc\",\n        message: (\n          <div>\n            <div>{message}</div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 2\n      };\n      if(notification  && this.refs.notify && this.refs.notify.notificationAlert) {\n        this.refs.notify.notificationAlert(notification);\n      } else {\n        console.error(`'this.refs.notify.notificationAlert' not found!`);\n      }\n    }\n  }\n\n  renderDetails() {\n    const order = this.state.singleDetails;\n    let user = JSON.parse(getSession(\"userData\"));\n    let pageId = JSON.parse(getSession(\"defaultPage\"));\n    let email = \"\";\n    let sessionToken = \"\";\n    if(user && user.email) {\n      email = user.email;\n      sessionToken = user.sessionToken;\n    }\n    if (this.state.isLoadingOrderDetail) {\n      return (\n        <table>\n          <tbody>\n            <tr>\n              <td colSpan=\"8\">\n                <PulseLoader\n                  sizeUnit={\"px\"}\n                  size={15}\n                  color={\"#1d8cf8\"}\n                  loading={this.state.isLoadingOrderDetail}\n                />\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      );\n    } else {\n      if (this.state.orders instanceof Array && this.state.orders.length > 0) {\n        return (\n          <Card>\n            <CardBody>\n              <center>\n                <h4 className=\"text-navy\" style={{ fontSize:18, fontWeight: \"600\" }}>\n                  Order No.: <span style={{ fontFamily:'monospace'}}>{order._id.toString()}</span>\n                </h4>\n              </center>\n              <div style={{ display: 'flex', flexDirection: 'row', marginTop: 25 }}>\n                <div style={{ flex: 1, display: 'flex', flexDirection: 'row' }}>\n                  <div>\n                    {this.renderImage(this.state.singleDetails)}\n                  </div>\n                  <div style={{ paddingLeft: 10, paddingTop: 5 }}>\n                    <p style={{ fontWeight: '600', color: '#3B3A39', fontSize: 14 }}>\n                      {this.state.singleDetails.customer.firstName} {this.state.singleDetails.customer.lastName}\n                    </p>\n                    <p style={{ fontWeight: '600', color: '#3B3A39', fontSize: 14 }}>\n                      {this.state.singleDetails.customer.mobileNumbers[0]}\n                    </p>\n                  </div>\n                </div>\n                <div style={{ flex: 1 }}>\n                  <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                    <div className=\"roundLabel dining-option\" style={{ backgroundColor: '#F8BF45', width: '60%' }}>\n                      {order.products[order.products.length - 1].diningOption}\n                    </div>\n                    <div className=\"roundLabel selected-payment-option\" style={{ backgroundColor: '#D16E66', width: '60%' }}>\n                      { order.selectedPaymentOption === \"gcash\" && order.paymongoDetail && order.paymongoDetail.commissionPercentage\n                        ?\n                        <>\n                          paymongo gcash\n                        </>\n                        :\n                        <>\n                          {order.selectedPaymentOption}\n                        </>\n                      }\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </CardBody>\n            <div>\n              <FormGroup>\n                <Col sm=\"12\">\n                  <label className=\"control-label\" style={{ fontSize:'12px' }}>Payment Status: {this.renderOrderStatus(order.status)}</label>\n                </Col>\n                { this.state.isGrocery &&\n                  <Col sm=\"12\">\n                    <Input\n                      disabled={this.state.singleDetails.status === \"cancelled\" || this.state.singleDetails.status === \"void\" || this.state.singleDetails.requestedForVoid}\n                      style={{ marginTop:'5px', width:'auto' }}\n                      className=\"form-control-sm\"\n                      type=\"select\"\n                      onChange={(e) => {\n                        const status = e.target.value\n                        if(status && status.length > 0) {\n                          if (!window.confirm(\"Are you sure you want to update this order?\")){\n                            return false\n                          }\n                        } else {\n                          this.showNotificationError(\"No status selected. Please select a status!\")\n                          return false\n                        }\n                        order.status = status\n                        this.setState({\n                          singleDetails: {\n                            ...this.state.singleDetails,\n                            status: status\n                          }\n                        });\n                        const body = {\n                          status: order.status\n                        }\n                        if(sessionToken) {\n                          api(sessionToken).patch(`/provider/places/${pageId}/orders/${order._id}/update-order`,body)\n                            .then(response => {\n                              if (response && response.data) {\n                                const orders = this.state.orders;\n                                const currentOrder = (item) => item._id === order._id;\n                                const index = orders.findIndex(currentOrder);\n                                orders[index] = order;\n                                this.setState({\n                                  orders: orders\n                                });\n                                this.showNotification('Order was successfully updated.');\n                              }\n                            })\n                            .catch(error => {\n                              this.setState({ submitted: false, isSaving: false });\n                              if(error.response && typeof error.response === 'string' ) {\n                                this.showNotificationError(error.response);\n                              } else {\n                                this.showNotificationError('There is a error updating the order!');\n                              }\n                            });\n                          }\n                        }\n                      }\n                      value={this.state.singleDetails.status}\n                    >\n                      <option value=\"\">Select</option>\n                      <option value=\"paid\">Paid</option>\n                      <option value=\"cancelled\">Cancel</option>\n                      <option value=\"void\">Void</option>\n                    </Input>\n                  </Col>\n                }\n              </FormGroup>\n              <FormGroup>\n                  <Col sm=\"12\">\n                    <label className=\"control-label\" style={{ fontSize:'12px' }}>Order Status: {this.renderDeliveryStatusBadge(order.orderStatus)}</label>\n                  </Col>\n                  { this.state.isGrocery &&\n                    <Col sm=\"12\">\n                      <Input\n                        disabled={this.state.singleDetails.status === \"cancelled\" || this.state.singleDetails.status === \"void\" || this.state.singleDetails.requestedForVoid}\n                        style={{ marginTop:'5px', width:'auto' }}\n                        type=\"select\"\n                        className=\"form-control-sm\"\n                        onChange={(e) => {\n                          const status = e.target.value;\n                          if(status && status.length > 0) {\n                            if (!window.confirm(\"Are you sure you want to update this order?\")){\n                              return false\n                            }\n                          } else {\n                            this.showNotificationError(\"No status selected. Please select a status!\")\n                            return false\n                          }\n                          let proceed = true;\n                          let { orderStatus } = order;\n                          let lastOrderStatus = {}\n                          if(orderStatus instanceof Array && orderStatus.length > 0) {\n                            lastOrderStatus = orderStatus[orderStatus.length-1];\n                          }\n                          const deployedStatus = {\n                            time: new Date(),\n                            email,\n                            status: \"Deployed\"\n                          };\n                          const pickedupStatus = {\n                            time: new Date(),\n                            email,\n                            status: \"Picked up\"\n                          };\n                          const paidStatus = {\n                            time: new Date(),\n                            email,\n                            status: \"Paid\"\n                          };\n                          const completedStatus = {\n                            time: new Date(),\n                            email,\n                            status: \"Order Completed\"\n                          };\n\n                          if (lastOrderStatus && lastOrderStatus.status) {\n                            const lastStatus = lastOrderStatus.status;\n                            if(lastStatus && lastStatus.status && lastStatus.status === \"Requested for void\") {\n                              this.showNotificationError('Order is already is requested for void! Please mark the order \"Void\"');\n                            }\n                            if (status === \"Confirmed\") {\n                              this.showNotificationError(\"Order is already confirmed!\");\n                              proceed = false;\n                            } else if (status === \"Deployed\") {\n                              if(lastStatus === \"Confirmed\") {\n                                orderStatus = [...orderStatus,deployedStatus];\n                              } else if(lastStatus === \"Deployed\") {\n                                this.showNotificationError(\"Order is already deployed!\");\n                                proceed = false;\n                              } else if(lastStatus === \"Picked up\") {\n                                this.showNotificationError(\"Order is already picked up!\");\n                                proceed = false;\n                              } else if(lastStatus === \"Order Completed\") {\n                                this.showNotificationError(\"Order is already completed!\");\n                                proceed = false;\n                              } else if(lastStatus === \"Paid\") {\n                                this.showNotificationError(\"Order is already paid!\");\n                                proceed = false;\n                              }  else if(lastStatus === \"Received Order\") {\n                                this.showNotificationError(\"Cannot update because the order was already received!\")\n                                proceed = false;\n                              } else if(lastStatus === \"Requested for void\") {\n                                this.showNotificationError(\"Cannot update because the order has been requested for void!\")\n                                proceed = false;\n                              } else {\n                                this.showNotificationError(`Cannot update because the order. Order status is ${lastStatus}!`)\n                                proceed = false;\n                              }\n                            } else if (status === \"Picked up\") {\n                              if(lastStatus === \"Confirmed\") {\n                                orderStatus = [...orderStatus,deployedStatus,pickedupStatus];\n                              } else if(lastStatus === \"Deployed\" || lastStatus === \"Ready to Pickup\") {\n                                orderStatus = [...orderStatus,pickedupStatus];\n                              } else if(lastStatus === \"Picked up\") {\n                                this.showNotificationError(\"Order is already picked up!\");\n                                proceed = false;\n                              } else if(lastStatus === \"Order Completed\") {\n                                this.showNotificationError(\"Order is already completed!\");\n                                proceed = false;\n                              } else if(lastStatus === \"Paid\") {\n                                this.showNotificationError(\"Order is already paid!\");\n                                proceed = false;\n                              }  else if(lastStatus === \"Received Order\") {\n                                this.showNotificationError(\"Cannot update because the order was already received!\")\n                                proceed = false;\n                              } else if(lastStatus === \"Requested for void\") {\n                                this.showNotificationError(\"Cannot update because the order has been requested for void!\")\n                                proceed = false;\n                              } else {\n                                this.showNotificationError(`Cannot update because the order. Order status is ${lastStatus}!`)\n                                proceed = false;\n                              }\n                            } else if (status === \"Order Completed\") {\n                              if(lastStatus === \"Confirmed\") {\n                                orderStatus = [...orderStatus,deployedStatus,pickedupStatus,paidStatus,completedStatus];\n                              } else if(lastStatus === \"Deployed\") {\n                                orderStatus = [...orderStatus,pickedupStatus,paidStatus,completedStatus];\n                              } else if(lastStatus === \"Picked up\" || lastStatus === \"Ready to Pickup\") {\n                                orderStatus = [...orderStatus,paidStatus,completedStatus]\n                              } else if(lastStatus === \"Paid\") {\n                                orderStatus = [...orderStatus,completedStatus]\n                              } else if(lastStatus === \"Order Completed\") {\n                                this.showNotificationError(\"Order is already completed!\")\n                                proceed = false;\n                              } else if(lastStatus === \"Paid\") {\n                                this.showNotificationError(\"Order is already paid!\")\n                                proceed = false;\n                              } else if(lastStatus === \"Received Order\") {\n                                this.showNotificationError(\"Cannot update because the order was already received!\")\n                                proceed = false;\n                              } else if(lastStatus === \"Requested for void\") {\n                                this.showNotificationError(\"Cannot update because the order has been requested for void!\")\n                                proceed = false;\n                              } else {\n                                this.showNotificationError(`Cannot update because the order. Order status is ${lastStatus}!`)\n                                proceed = false;\n                              }\n                            } else {\n                              if(lastStatus === \"Confirmed\") {\n                                this.showNotificationError(\"Order is already confirmed!\");\n                                proceed = false;\n                              } else if(lastStatus === \"Deployed\") {\n                                this.showNotificationError(\"Order is already deployed!\");\n                                proceed = false;\n                              } else if(lastStatus === \"Picked up\") {\n                                this.showNotificationError(\"Order is already picked up!\");\n                                proceed = false;\n                              } else if(lastStatus === \"Order Completed\") {\n                                this.showNotificationError(\"Order is already completed!\");\n                                proceed = false;\n                              } else if(lastStatus === \"Paid\") {\n                                this.showNotificationError(\"Order is already paid!\");\n                                proceed = false;\n                              }  else if(lastStatus === \"Received Order\") {\n                                this.showNotificationError(\"Cannot update because the order was already received!\")\n                                proceed = false;\n                              } else if(lastStatus === \"Requested for void\") {\n                                this.showNotificationError(\"Cannot update because the order has been requested for void!\")\n                                proceed = false;\n                              } else {\n                                this.showNotificationError(`Cannot update because the order. Order status is ${lastStatus}!`)\n                                proceed = false;\n                              }\n                            }\n                          }\n                          if(proceed) {\n                            order.orderStatus = orderStatus\n                            const body = {\n                              orderStatus: order.orderStatus,\n                            }\n                            if(status === \"Order Completed\" || status === \"Paid\") {\n                              order.status = \"paid\"\n                            }\n                            if(sessionToken) {\n                              api(sessionToken).patch(`/provider/places/${pageId}/orders/${order._id}/update-order`, body)\n                                .then(response => {\n                                  if (response && response.data) {\n                                    const orders = this.state.orders;\n                                    const currentOrder = (item) => item._id === order._id;\n                                    const index = orders.findIndex(currentOrder);\n                                    orders[index] = order;\n                                    this.setState({\n                                      orders: orders,\n                                      singleDetails: order\n                                    });\n                                    this.showNotification('Order was successfully updated.');\n                                  }\n                                })\n                                .catch(error => {\n                                  this.setState({ submitted: false, isSaving: false });\n                                  if(error.response && typeof error.response === 'string' ) {\n                                    this.showNotificationError(error.response);\n                                  } else {\n                                    this.showNotificationError('There is a error updating the order!');\n                                  }\n                                });\n                            }\n                          }\n                        }}\n                        value={this.state.singleDetails.orderStatus && this.state.singleDetails.orderStatus.length > 0 ? this.state.singleDetails.orderStatus[this.state.singleDetails.orderStatus.length-1].status : \"\"}\n                      >\n                        <option value=\"\">Select</option>\n                        <option value=\"Confirmed\">Confirmed</option>\n                        <option value=\"Deployed\">Deployed</option>\n                        <option value=\"Picked up\">Picked Up</option>\n                        <option value=\"Order Completed\">Order Completed</option>\n                      </Input>\n                    </Col>\n                  }\n                </FormGroup>\n              <FormGroup>\n                <Col sm=\"12\" style={{ textAlign:'right' }}>      \n                  <Button color=\"link\" aria-label=\"PDF\" style={{ padding: \"0.5rem 0.25rem\" }}>\n                    <span aria-hidden>\n                      <Fa\n                        icon=\"file-pdf\"\n                        size={'lg'}\n                        onClick={() => {\n                          this.printMinDetails(order._id);\n                        }}\n                      />\n                    </span>\n                  </Button>\n                  <Button color=\"link\" aria-label=\"Print\" style={{ padding: \"0.5rem 0.25rem\" }}>\n                    <span aria-hidden>\n                      <Fa\n                        icon=\"print\"\n                        size={'lg'}\n                        onClick={() => {\n                          this.printDetails(order._id);\n                        }}\n                      />\n                    </span>\n                  </Button>\n                </Col>\n              </FormGroup>\n              <FormGroup>\n                <Col sm=\"12\">\n                  <hr style={{ backgroundColor: 'rgba(169,169,169,0.5)' }} />\n                </Col>\n              </FormGroup>\n            </div>\n            <Col sm=\"12\">\n              <Table borderless responsive style={{fontSize: \"12px\", marginBottom:'0'}}>\n                <thead>\n                  <tr>\n                    <th>&nbsp;</th>\n                    <th>Item</th>\n                    <th>Qty</th>\n                    <th>Price</th>\n                    <th>Total</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {this.renderProducts(this.state.singleDetails)}\n                  {this.renderAddedProducts(this.state.singleDetails)}\n                </tbody>\n              </Table>\n            </Col>\n            <CardBody>\n              {this.renderPaymentInfo()}\n              {this.renderOrderInfo(this.state.singleDetails)}\n              {this.renderCustomerInfo(this.state.singleDetails)}\n              { this.state.isGrocery &&\n                this.renderShopperInfo(this.state.singleDetails && this.state.singleDetails.shopper)\n              }\n              {this.state.singleDetails.isDelivery && this.renderDeliveryStatus()}\n            </CardBody>\n          </Card>\n        );\n      } else {\n        return (\n          <Table borderless>\n            <tbody>\n              <tr>\n                <td colSpan=\"7\">\n                  <label className=\"text-danger\">\n                    <em>No Orders found.</em>\n                  </label>\n                </td>\n              </tr>\n            </tbody>\n          </Table>\n        );\n      }\n    }\n  }\n  \n  renderPaymentInfo() {\n    const order = this.state.singleDetails;\n    const { page } = order;\n    const markupValue = page && page.markup && page.markup.value ? page.markup.value : 0;\n    const markupRate = markupValue/100;\n    let containerFee = 0;\n    const serviceCharge = (order.extraFees && order.extraFees.serviceCharge) || 0;\n    let { products, addedProducts } = order;\n    if(addedProducts && addedProducts instanceof Array && addedProducts.length > 0) {\n      products = [...products,...addedProducts];\n    }\n    const newProducts = products.filter(item => item.unavailable !== true);\n    let grandTotal = 0;\n    let itemsTotal = 0;\n    let convenienceFee = 0;\n    const deliveryFee = order.delivery && order.delivery[0] && order.delivery[0].fee ? order.delivery[0].fee : 0;\n    const cargoFee = order.convenienceFee && order.convenienceFee.value ? order.convenienceFee.value : 0;\n    const pointsAmountUsed = order.pointsAmountUsed ? order.pointsAmountUsed : 0;\n    const walletAmountUsed = order.walletAmountUsed ? order.walletAmountUsed : 0;\n    let promos = order.orderPromoDiscount ? order.orderPromoDiscount : 0;\n    let productPromos = 0;\n    newProducts.forEach(item => {\n      itemsTotal += item.price * item.quantity;\n      if(item.markup && item.markup > 0) {\n        convenienceFee += item.markup * item.quantity;\n      } else {\n        convenienceFee += item.price * item.quantity * markupRate;\n      }\n      if(item.containerFee && item.containerFee.amount) {\n        const delivery = item.containerFee.supportedOrderOption && item.containerFee.supportedOrderOption.delivery ? item.containerFee.supportedOrderOption.delivery : false\n        const pickup = item.containerFee.supportedOrderOption && item.containerFee.supportedOrderOption.pickup ? item.containerFee.supportedOrderOption.pickup : false\n        const days = item.days > 1 ? item.days : 1\n        if(item.diningOption===\"delivery\" && delivery) {\n          containerFee += item.containerFee.amount * item.quantity * days\n        } else if (item.diningOption===\"pickup\" && pickup) {\n          containerFee += item.containerFee.amount * item.quantity * days\n        }\n      }\n      if(item.promos && item.promos.length > 0) {\n        const promo = item.promos[0];\n        const promoType = promo.calculation.type;\n        const promoValue = promo.calculation.value;\n        let days = 1;\n        if(item.days && item.days > 1) {\n          days = item.days;\n        }\n        if (promoType === 'percent') {\n          productPromos += (item.price * item.quantity * days) * (promoValue / 100);\n        } else {\n          productPromos += promoValue;\n        }\n      }\n      promos += productPromos;\n    })\n\n    let gatewayFees = 0\n    const totalCustomer = itemsTotal + convenienceFee + cargoFee + containerFee + serviceCharge + deliveryFee\n    if (order.selectedPaymentOption === 'paynamics') {\n      const commissionRate = order.paynamicsDetail.commissionPercentage;\n      if (order.paynamicsDetail.commissionType === 'customer') {\n        gatewayFees = (totalCustomer / (1 - commissionRate)) - totalCustomer;\n      }\n    } else if (order.selectedPaymentOption === 'paymongo') {\n      const commissionRate = order.paymongoDetail.commissionPercentage\n      const commissionFixed = order.paymongoDetail.commissionFixed\n      const commissionFixedCondition = order.paymongoDetail.commissionFixedCondition ? order.paymongoDetail.commissionFixedCondition : 0\n      if (order.paymongoDetail.commissionType === 'customer') {\n        gatewayFees = ((totalCustomer + commissionFixed) / (1 - commissionRate)) - totalCustomer;\n      } else if (order.paymongoDetail.commissionType === 'streetby' && totalCustomer > commissionFixedCondition ) {\n        gatewayFees = commissionFixed\n      }\n    }\n    \n    if(this.state.isGrocery) {\n      grandTotal = itemsTotal + convenienceFee + cargoFee + containerFee + serviceCharge + deliveryFee + gatewayFees\n    } else {\n      grandTotal = itemsTotal + convenienceFee + cargoFee + containerFee + serviceCharge + gatewayFees\n    }\n    const customerPayout = grandTotal - (pointsAmountUsed + walletAmountUsed + promos)\n    \n    return (\n      <div style={{color: 'rgba(34, 42, 66, 0.7) !important' ,fontSize:'12px'}}>\n        <div style={{ display:'flex', flexDirection:'row', justifyContent:'space-between', marginBottom: 8 }}>\n          <label className=\"control-label\">Items Total</label>\n          <label className=\"txt-medium label-secondary\">&#8369;{numberWithCommas(itemsTotal)}</label>\n        </div>\n        <hr style={{ backgroundColor: 'rgba(169,169,169,0.5)' }} />\n        { this.state.isGrocery\n          ?\n          <>\n            <div style={{ display:'flex', flexDirection:'row', justifyContent:'space-between', marginBottom:10 }}>\n              <label>Cargo Fee</label>\n              <label className=\"label-secondary\">&#8369;{numberWithCommas(cargoFee)}</label>\n            </div>\n            <div style={{ display:'flex', flexDirection:'row', justifyContent:'space-between', marginBottom:10 }}>\n              <label>Convenience Fee</label>\n              <label className=\"label-secondary\">&#8369;{numberWithCommas(convenienceFee)}</label>\n            </div>\n          </>\n          :\n          <>\n            <div style={{ display:'flex', flexDirection:'row', justifyContent:'space-between', marginBottom:10 }}>\n              <label>Container Fee</label>\n              <label className=\"label-secondary\">&#8369;{numberWithCommas(containerFee)}</label>\n            </div>\n            <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between', marginBottom: 10 }}>\n              <label>Service Fee</label>\n              <label className=\"label-secondary\">&#8369;{numberWithCommas(serviceCharge)}</label>\n            </div>\n          </>\n        }\n        { this.state.isGrocery &&\n          <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between', marginBottom: 10 }}>\n            <label>Delivery Fee</label>\n            <label className=\"label-secondary\">&#8369;{numberWithCommas(deliveryFee)}</label>\n          </div>\n        }\n        { gatewayFees > 0 &&\n          <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between', marginBottom: 10 }}>\n            <label className=\"text-success\">Gateway Fees</label>\n            <label className=\"text-success\">&#8369;{numberWithCommas(gatewayFees)}</label>\n          </div>\n        }\n        { promos > 0 &&\n          <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between', marginBottom: 10, paddingLeft: 10, fontStyle: 'italic' }}>\n            <label>Promos</label>\n            <label className=\"label-secondary\">&#8369;{numberWithCommas(promos)}</label>\n          </div>\n        }\n        { walletAmountUsed > 0 &&\n          <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between', marginBottom: 10, paddingLeft: 10, fontStyle: 'italic' }}>\n            <label>Wallet</label>\n            <label className=\"label-secondary\">&#8369;{numberWithCommas(walletAmountUsed)}</label>\n          </div>\n        }\n        { pointsAmountUsed > 0 &&\n          <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between', marginBottom: 10, paddingLeft: 10, fontStyle: 'italic' }}>\n            <label>Points</label>\n            <label className=\"label-secondary\">&#8369;{numberWithCommas(pointsAmountUsed)}</label>\n          </div>\n        }\n        <hr style={{ backgroundColor: 'rgba(169,169,169,0.5)' }} />\n        <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between', marginBottom: 10 }}>\n          <label className=\"control-label\">Grand Total</label>\n          <label className=\"txt-medium label-secondary\">&#8369;{numberWithCommas(grandTotal)}</label>\n        </div>\n          <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between', marginBottom: 10 }}>\n            <label className=\"control-label\">Customer Payout</label>\n            <label className=\"txt-medium label-secondary\">&#8369;{numberWithCommas(customerPayout)}</label>\n          </div>\n        <hr style={{ backgroundColor: 'rgba(169,169,169,0.5)' }} />\n      </div>\n    )\n  }\n\n  renderVerticalLine() {\n    return (\n      <div style={{ borderLeft: '2px solid #344675', height: 40 }}></div>\n    )\n  }\n\n  deliveryStatusParser(status) {\n    switch(status) {\n      case 'confirmed':\n        return 'Confirmed';\n      case 'placed':\n        return 'Placed';\n      case 'inPreparation':\n        return 'being Prepared';\n      case 'inTransit':\n        return 'on the way';\n      case 'orderCompleted':\n        return 'Completed';\n      default:\n      return 'Updated';\n    }\n  }\n\n  renderDeliveryStatus() {\n    return (\n      <>\n        <div style={{fontSize:'12px',paddingBottom:10}}>\n          <label className=\"control-label\">\n            Delivery Status\n          </label>\n        </div>\n        <div style={{fontSize:'12px'}}>\n          <div style={{width: '45%'}}>\n            {this.state.singleDetails.delivery.map((data, index) => {\n              const isFinalData = this.state.singleDetails.delivery.length - 1 === index;\n              const status = this.deliveryStatusParser(data.status);\n              return (\n                <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }} key={index}>\n                  <p className=\"text-primary\" style={{ fontSize: 12, fontWeight: '500', textAlign: 'center' }}>Order is {status}</p>\n                  <p className=\"text-muted\" style={{ fontSize: 11, margin: 0 }}>{format(new Date(data.updatedAt),'MMM dd, yyyy hh:mm a')}</p>\n                  {!isFinalData && this.renderVerticalLine()}\n                </div>\n              )\n            })}\n          </div>\n        </div>\n      </>\n    )\n  }\n\n  renderOrderInfo(order) {\n    let latestDeliveryInfo = order.delivery[order.delivery.length - 1];\n    return (\n      <>\n        <div style={{fontSize:'12px'}}>\n          <div style={{ display:'flex', flexDirection:'row', marginBottom:10 }}>\n            <div style={{ flex: 1.5 }}>\n              <label>Est. Delivery Pick-up Time</label>\n            </div>\n            <div style={{ flex: 1 }}>\n              <label className=\"label-secondary\">\n              {latestDeliveryInfo && latestDeliveryInfo.pickupDate\n                ? format(new Date(latestDeliveryInfo.pickupDate),'MMM dd, yyyy hh:mm a')\n                : 'No date selected'\n              }\n              </label>\n            </div>\n          </div>\n          <div style={{ display: 'flex', flexDirection: 'row', marginBottom: 10 }}>\n            <div style={{ flex: 1.5 }}>\n              <label>Ordered On</label>\n            </div>\n            <div style={{ flex: 1 }}>\n              <label className=\"label-secondary\">{format(new Date(order.createdAt),'MMM dd, yyyy hh:mm a')}</label>\n            </div>\n          </div>\n          { latestDeliveryInfo && latestDeliveryInfo.deliveryEstimateDescription ?\n            <div style={{ display: 'flex', flexDirection: 'row', marginBottom: 10 }}>\n              <div style={{ flex: 1.5 }}>\n                <label>Estimated Time</label>\n              </div>\n              <div style={{ flex: 1 }}>\n                <label className=\"label-secondary\">{latestDeliveryInfo.deliveryEstimateDescription}</label>\n              </div>\n            </div>\n            :\n            <div style={{ display: 'flex', flexDirection: 'row', marginBottom: 10 }}>\n              <div style={{ flex: 1.5 }}>\n                <label>Booked For</label>\n              </div>\n              <div style={{ flex: 1 }}>\n                <label className=\"label-secondary\">\n                  { latestDeliveryInfo && latestDeliveryInfo.to \n                    ? format(new Date(latestDeliveryInfo.to),'MMM dd, yyyy hh:mm a')\n                    : 'No date selected'\n                  }\n                </label>\n              </div>\n            </div>\n          }\n          <div style={{ display: 'flex', flexDirection: 'row', marginBottom: 10 }}>\n            <div style={{ flex: 1.5 }}>\n              <label>Dining Option</label>\n            </div>\n            <div style={{ flex: 1 }}>\n              <label className=\"label-secondary\">{order.products[0].diningOption.toUpperCase()}</label>\n            </div>\n          </div>\n          <div style={{ display: 'flex', flexDirection: 'row', marginBottom: 10 }}>\n            <div style={{ flex: 1.5 }}>\n              <label>Payment Method</label>\n            </div>\n            <div style={{ flex: 1 }}>\n              <label className=\"label-secondary\">\n                { order.selectedPaymentOption === \"gcash\" && order.paymongoDetail && order.paymongoDetail.commissionPercentage\n                  ?\n                  \"PAYMONGO GCASH\"\n                  :\n                  order.selectedPaymentOption.toUpperCase()\n                }\n              </label>\n            </div>\n          </div>\n          <hr style={{ backgroundColor: 'rgba(169,169,169,0.5)' }} />\n          <div>\n            <label className=\"control-label\">Notes from the Customer</label>\n            <p style={{ color: '#447098', paddingLeft: 10, marginTop: 10 }}>{order.consumerNotes || 'No note added'}</p>\n          </div>\n          <hr style={{ backgroundColor: 'rgba(169,169,169,0.5)' }} />\n          { order.status !== 'for_confirmation' ?\n            <div>\n              <label className=\"control-label\">Provider Notes</label>\n              <p style={{ color: '#447098', paddingLeft: 10, marginTop: 10 }}>{order.notes || 'No note added'}</p>\n            </div>\n            :\n            <div>\n              <label className=\"control-label\">Provider Notes</label>\n              <div>\n                <textarea\n                  style={{\n                    borderColor: 'rgba(169,169,169,0.5)',\n                    width: '100%',\n                    marginTop: 10,\n                    resize: 'none',\n                    maxHeight:\"450px\",\n                  }}\n                  placeholder={'Type something...'}\n                  rows=\"8\"\n                  onChange={(e) => this.setState({ providerNote: e.target.value })}\n                  autoComplete=\"off\"\n                />\n              </div>\n            </div>\n          }\n          <hr style={{ backgroundColor: 'rgba(169,169,169,0.5)' }} />\n        </div>\n      </>\n    );\n  }\n\n  checkProductPhotos(prod) {\n    let productPhoto;\n    if (prod && prod._id && prod._id.photos && prod._id.photos.length > 0) {\n      productPhoto = prod._id.photos[prod._id.photos.length - 1].medium;\n    } else {\n      productPhoto = logoBlu\n    }\n    return (\n      <>\n        <Media left top href=\"#\">\n          <Media\n            object\n            data-src={productPhoto}\n            src={productPhoto}\n            alt={prod.name}\n            style={{maxWidth:'50px',maxHeight:'50px'}}\n          />\n        </Media>\n      </>\n    );\n  }\n\n  renderProducts(order) {\n    let { products } = order;\n    return products.map((prod, index) => (\n      <tr key={index} className={prod.unavailable ? `deleted-item` : ``}>\n        <td>{index+1}.</td>\n        <td width={'50%'}>\n          <Media>\n            {this.checkProductPhotos(prod)}\n            <Media body>\n              <Media style={{fontSize: \"12px\", marginBottom:\"0px\"}} heading>\n                {prod.name}\n              </Media>\n            </Media>\n          </Media>\n        </td>\n        <td width={'5%'}>{prod.quantity}</td>\n        <td width={'20%'}>₱{numberWithCommas(prod.price)}</td>\n        <td width={'20%'}>₱{numberWithCommas(prod.price * prod.quantity)}</td>\n      </tr>\n    ));\n  }\n\n  renderAddedProducts(order) {\n    let { products, addedProducts } = order;\n    const totalProducts = products && products instanceof Array ? products.length : 0;\n    if(addedProducts && addedProducts instanceof Array && addedProducts.length > 0) {\n      return addedProducts.map((prod, index) => (\n        <tr key={index} className={prod.unavailable ? `deleted-item` : `added-item`}>\n          <td>{totalProducts+index+1}.</td>\n          <td width={'50%'}>\n            <Media>\n              {this.checkProductPhotos(prod)}\n              <Media body>\n                <Media style={{fontSize: \"12px\", marginBottom:\"0px\"}} heading>\n                  {prod.name}\n                </Media>\n              </Media>\n            </Media>\n          </td>\n          <td width={'5%'}>{prod.quantity}</td>\n          <td width={'20%'}>₱{numberWithCommas(prod.price)}</td>\n          <td width={'20%'}>₱{numberWithCommas(prod.price * prod.quantity)}</td>\n        </tr>\n      ));\n    }\n  }\n\n  pickUpOrder(deliveryData) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const { sessionToken } = userData;\n\n    let payloadData = {\n      data: {\n        fromMerchant: true,\n        requestType: \"delivery\",\n        delivery: deliveryData.delivery[deliveryData.delivery.length - 1],\n        orderId: deliveryData._id,\n        deliveryStatus: \"inTransit\"\n      }\n    };\n\n    this.props.pickUp(payloadData, deliveryData._id, sessionToken, (result, error) => {\n      if (!error && result) {\n        const { orders } = this.state;\n        const detailId = this.state.singleDetails._id;\n        if(orders instanceof Array && orders.length > 0 && typeof detailId !== 'undefined') {\n          const selectedOrderIndex = orders.findIndex(eachOne => eachOne._id.toString() === detailId.toString());\n          const selectedOrder = orders[selectedOrderIndex];\n          let mostRecentDeliveryStatus = selectedOrder.delivery[selectedOrder.delivery.length - 1];\n          mostRecentDeliveryStatus = { ...mostRecentDeliveryStatus, status: result.data.delivery.status, updatedAt: result.data.delivery.updatedAt };\n          selectedOrder.delivery.push(mostRecentDeliveryStatus);\n          orders[selectedOrderIndex] = selectedOrder;\n          this.setState({\n            orders: orders,\n            canPickUp: false,\n          }, () => this.togglePickupModal());\n        }\n      } else {\n        if (error) {\n          this.togglePickupModal();\n          this.showNotificationError(\"There error on confirming the order!\");\n        }\n      }\n    });\n  }\n\n  handleSearch = (e) => {\n    let { key } = e;\n    if (key === \"Enter\") {\n      let { dateStart, dateEnd } = this.state;\n      this.setState({isLoading:true});\n      this.setState({isLoadingOrderDetail:true});\n      let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n      let url = this.props.location.search;\n      let query = queryString.parse(url);\n      query.dateStart = format(new Date(dateStart),\"yyyy-MM-dd'T'HH:mm:ss\");\n      query.dateEnd = format(new Date(dateEnd),\"yyyy-MM-dd'T'HH:mm:ss\");\n      if(this.state.selectedPaymentMethod !== '') {\n        query.selectedPaymentMethod = this.state.selectedPaymentMethod;\n      }\n      if(this.state.status !== '') {\n        query.status = this.state.status;\n      }\n      if(this.state.filterDate !== '') {\n        query.filterDate = this.state.filterDate;\n      }\n      if(this.state.search !== '') {\n        query.search = this.state.search;\n      } else {\n        delete query.search;\n      }\n      delete query.page;\n      this.setState({ activePage: 1 });\n      let queryStr = \"?\" + queryString.stringify(query);\n      this.refreshOrders(queryStr, defaultPage);\n    }\n  }\n\n  handlePageChange = (pageNumber) => {\n    this.setState({isLoading:true});\n    this.setState({isLoadingOrderDetail:true});\n    let defaultPage = JSON.parse(getSession(\"defaultPage\"));\n\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    query.page = pageNumber;\n    let queryStr = \"?\" + queryString.stringify(query);\n\n    this.setState({ activePage: pageNumber });\n    this.refreshOrders(queryStr, defaultPage);\n  }\n\n  showDetails(orderId) {\n    this.setState({isLoadingOrderDetail:true});\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    const { sessionToken } = userData;\n    if (userData && userData !== \"\") {\n      api(sessionToken).get(`places/${pageId}/orders/${orderId}`)\n      .then(resp => {\n        if(resp && resp.data) {\n          const order = resp.data;\n          this.setState({\n            singleDetails: order,\n            canPickUp: order.isDelivery && order.delivery[order.delivery.length - 1].status === 'inPreparation',\n            isLoadingOrderDetail:false\n          });\n        } else {\n          this.showNotificationError(\"Order not found!\");\n          this.setState({\n            singleDetails: {},\n            canPickUp: false,\n          });\n          this.setState({isLoadingOrderDetail:false});\n        }\n      })\n      .catch(error => {\n        this.setState({isLoadingOrderDetail:false});\n        this.showNotificationError(\"There is an error fetching order. Please try again\");\n        setTimeout(() => { \n          this.props.history.push(\"/order-list\");\n          window.location.reload();\n        },1000);\n      })\n    }\n  }\n\n  changeStatus(newStatus) {\n    let { orders } = this.state;\n    let detailId = this.state.singleDetails._id;\n    if(orders instanceof Array && orders.length > 0 && typeof detailId !== 'undefined') {\n      let index = orders.findIndex(eachOne => eachOne._id.toString() === detailId.toString());\n      orders[index].status = newStatus;\n      this.setState({\n        orders: orders,\n      });\n    } else {\n      this.showNotificationError(\"Order not found!\");\n    }\n  }\n\n  orderAction(newStatus, id) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const { sessionToken } = userData;\n    if (newStatus === \"confirm\") {\n      this.props.saveNewStatus({ newStatus, providerNote: this.state.providerNote || '' }, id, sessionToken, (result, error) => {\n        this.setState({modalConfirm: false});\n        if (!error && result) {\n          let { orders } = this.state;\n          let detailId = this.state.singleDetails._id;\n          if(orders instanceof Array && orders.length > 0 && typeof detailId !== 'undefined') {\n            let index = orders.findIndex(eachOne => eachOne._id.toString() === detailId.toString());\n            orders[index].status = result.data.data.status;\n            orders[index].notes = result.data.data.notes;\n            this.setState({ orders });\n          } else {\n            this.showNotificationError(\"Order not found!\");\n          }\n        } else {\n          if (error) {\n            this.showNotificationError(\"There is an error on confirming the order!\");\n          }\n        }\n      });\n    } else if (newStatus === \"cancel\") {\n      let messages = { message: this.state.reason, code: this.state.subReason };\n      this.props.cancelAction(id, messages, sessionToken, (result, error) => {\n        this.setState({modal: false});\n        if (!error && result) {\n          let { orders } = this.state;\n          let detailId = this.state.singleDetails._id;\n          if(orders instanceof Array && orders.length > 0 && typeof detailId !== 'undefined') {\n            let index = orders.findIndex(eachOne => eachOne._id.toString() === detailId.toString());\n            orders[index].status = \"cancelled\";\n            orders[index].notes = this.state.reason;\n            this.setState({ orders });\n          } else {\n            this.showNotificationError(\"Order not found!\");\n          }\n        } else {\n          if (error) {\n            this.showNotificationError(\"There is an error on cancelling the order!\");\n          }\n        }\n      });\n    }\n  }\n\n  printDetails(orderId) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    const { sessionToken } = userData;\n    if (orderId && userData && userData !== \"\") {\n      api(sessionToken).get(`places/${pageId}/orders/${orderId}`)\n      .then(resp => {\n        if(resp && resp.data) {\n          const item = resp.data;\n          var wnd = window.open(\"\", \"_blank\", \"\");\n          var bookingOption = item.isDelivery && item.delivery.length > 0 ? item.delivery[item.delivery.length - 1].deliveryEstimateDescription : \"notDelivery\";\n          bookingOption = bookingOption === \"notDelivery\" ? \"\" : bookingOption === \"\" ? \"Book For\" : \"Deliver Now\";\n          let htmlProducts = \"\";\n          let customerPayout = 0;\n          let grandTotal = 0;\n          let itemsTotal = 0;\n          let convenienceFee = 0;\n          const pointsAmountUsed = item.pointsAmountUsed ? item.pointsAmountUsed : 0;\n          const walletAmountUsed = item.walletAmountUsed ? item.walletAmountUsed : 0;\n          let promos = item.orderPromoDiscount ? item.orderPromoDiscount : 0;\n          let productPromos = 0;\n          const email = item.customer.email ? item.customer.email : \"&nbsp;&nbsp;&nbsp;&nbsp;\";\n          const phone = item.customer.mobileNumbers && item.customer.mobileNumbers instanceof Array && item.customer.mobileNumbers.length > 0 ? item.customer.mobileNumbers[0] : \"\";\n          let shopperInfo = \"\";\n          if(item.shopper && this.state.isGrocery) {\n            let shopperName = \"\";\n            if(item.shopper.firstName && item.shopper.lastName) {\n              shopperName = `${item.shopper.firstName} ${item.shopper.lastName}`;\n            } else {\n              if(item.shopper.firstName) {\n                shopperName = item.shopper.firstName;\n              } else if(item.shopper.lastName) {\n                shopperName = item.shopper.lastName;\n              }\n            }\n            const shopperEmail = item.shopper && item.shopper.email ? item.shopper.email : \"&nbsp;&nbsp;&nbsp;&nbsp;\";\n            const shopperPhone = item.shopper && item.shopper.mobileNumbers && item.shopper.mobileNumbers instanceof Array && item.shopper.mobileNumbers.length > 0 ? item.shopper.mobileNumbers[0].number : \"\"; \n            shopperInfo = `<p><label style=\"white-space: nowrap;\">Shopper:</label> ${shopperName}</p>\n            <p><label style=\"white-space: nowrap;\">Shopper Email:</label> ${shopperEmail} &nbsp;&nbsp;&nbsp;&nbsp;<span style=\"white-space: nowrap;\"><label>Shopper Phone No.:</label> ${shopperPhone}</span></p>`\n          }\n          const deliveryFee = item.delivery && item.delivery[0] && item.delivery[0].fee ? item.delivery[0].fee : 0;\n          let deliveryAddress = \"\";\n          deliveryAddress = item.delivery && item.delivery[0] && item.delivery[0].deliveryAddress && item.delivery[0].deliveryAddress.address ? item.delivery[0].deliveryAddress.address : \"\";\n          let landmark = \"\";\n          landmark = item.delivery && item.delivery[0] && item.delivery[0].deliveryAddress && item.delivery[0].deliveryAddress.address && item.delivery[0].deliveryAddress.landmark ? ' | ' + item.delivery[0].deliveryAddress.landmark : \"\";\n          const cargoFee = item.convenienceFee && item.convenienceFee.value ? item.convenienceFee.value : 0;\n          deliveryAddress = deliveryAddress + landmark;\n          const gMapAddress = item.delivery && item.delivery[0] && item.delivery[0].deliveryAddress && item.delivery[0].deliveryAddress.googleAddress ? item.delivery[0].deliveryAddress.googleAddress : \"\";\n          const consumerNotes = item.consumerNotes ? item.consumerNotes : \"No notes\";\n          const cashPrepared = item.invoiceDetails && item.invoiceDetails.customerCash ? item.invoiceDetails.customerCash : 0;\n          const receiverName = item.delivery && item.delivery[0] && item.delivery[0].deliveryAddress && item.delivery[0].deliveryAddress.name ? item.delivery[0].deliveryAddress.name : \"None\";\n          const receiverPhone = item.delivery && item.delivery[0] && item.delivery[0].deliveryAddress && item.delivery[0].deliveryAddress.phone ? item.delivery[0].deliveryAddress.phone : \"None\";\n          let containerFee = 0;\n          const serviceCharge = (item.extraFees && item.extraFees.serviceCharge) || 0;\n          let rowClass = \"\";\n          let { products, addedProducts } = item;\n          let newProducts = products;\n          if(addedProducts && addedProducts instanceof Array && addedProducts.length > 0) {\n            newProducts = [...products,...addedProducts];\n          }\n          let deliveryStatus = \"N/A\";\n          if(item.orderStatus && item.orderStatus instanceof Array && item.orderStatus.length > 0) {\n            const finalStatus = item.orderStatus[item.orderStatus.length - 1];\n            const status = finalStatus.status;\n            if(status==='Confirmed') {\n              deliveryStatus = \"Confirmed\";\n            } else if (status==='Deployed') {\n              deliveryStatus = \"Deployed\";\n            } else if (status==='Picked up') {\n              deliveryStatus = \"Picked Up\";\n            } else if (status==='Requested for void') {\n              deliveryStatus = \"Requested for void\";\n            } else if (status==='Order Completed') {\n              deliveryStatus = \"Order Completed\";\n            } else if (status==='Paid') {\n              deliveryStatus = \"Paid\";\n            } else if (status==='Cancelled') {\n              deliveryStatus = \"Cancelled\";\n            } else if (status==='Received Order') {\n              deliveryStatus = \"Received Order\";\n            }\n          }\n          let statusText = \"N/A\";\n          if(item.status==='for_confirmation') {\n            statusText = \"For Confirmation\";\n          } else if (item.status==='payment_pending') {\n            statusText = \"Pending\";\n          } else if (item.status==='paid') {\n            statusText = \"Paid\";\n          } else if (item.status==='cancelled') {\n            statusText = \"Cancelled\";\n          } else if (item.status==='void') {\n            statusText = \"Void\";\n          }\n          newProducts.forEach((product,index) => {\n            if(index%2===1) {\n              rowClass = \"odd\";\n            } else {\n              rowClass = \"\";\n            }\n            let available = \"\";\n            if(product.unavailable) {\n              available = \" deleted-item\"\n            }\n            const barcode = product._id && product._id.barcode ? product._id.barcode : \"\";\n            const itemCode = product._id && product._id.itemCode ? product._id.itemCode : \"\";\n            let productId = \"\";\n            if(product._id) {\n              if(product._id._id) {\n                productId = \"...\" + lastSixDigit(product._id._id.toString());\n              } else {\n                productId = \"...\" + lastSixDigit(product._id.toString());\n              }\n            }\n            htmlProducts += `<tr class=\"${rowClass}${available}\">\n              <td nowrap>${index+1}. ▢</td>\n              <td>${product.name}</td>\n              <td>${productId}</td>\n              <td>${itemCode}</td>\n              <td>${barcode}</td>\n              <td nowrap>&#8369;${numberWithCommas(product.price)}</td>\n              <td align=\"center\">${product.quantity}</td>\n              <td nowrap>&#8369;${numberWithCommas(product.price * product.quantity)}</td>\n            </tr>`;\n            if(product.unavailable !== true) {\n              itemsTotal += product.price * product.quantity;\n            }\n            if(product.unavailable !== true && product.markup && product.markup > 0) {\n              convenienceFee += product.markup * product.quantity;\n            }\n            if(product.unavailable !== true && product.containerFee && product.containerFee.amount) {\n              const delivery = product.containerFee.supportedOrderOption && product.containerFee.supportedOrderOption.delivery ? product.containerFee.supportedOrderOption.delivery : false\n              const pickup = product.containerFee.supportedOrderOption && product.containerFee.supportedOrderOption.pickup ? product.containerFee.supportedOrderOption.pickup : false\n              if(item.selectedPaymentOption===\"delivery\" && delivery) {\n                containerFee += product.containerFee.amount\n              } else if (item.selectedPaymentOption===\"pickup\" && pickup) {\n                containerFee += product.containerFee.amount\n              }\n            }\n            if(product.promos && product.promos.length > 0) {\n              const promo = item.promos[0];\n              const promoType = promo.calculation.type;\n              const promoValue = promo.calculation.value;\n              let days = 1;\n              if(item.days && item.days > 1) {\n                days = item.days;\n              }\n              if (promoType === 'percent') {\n                productPromos += (item.price * item.quantity * days) * (promoValue / 100);\n              } else {\n                productPromos += promoValue;\n              }\n              promos += productPromos;\n            }\n          });\n          let groceryFees = \"\";\n          let groceryFeesHeader = \"\";\n          let foodAndDrinkFees = \"\";\n          let foodAndDrinkFeesHeader = \"\";\n          if(this.state.isGrocery) {\n            groceryFeesHeader = `<p>Cargo Fee:</>\n              <p>Convenience Fee:</>`;\n            groceryFees = `<p>&#8369;${numberWithCommas(cargoFee)}</p>\n              <p>&#8369;${numberWithCommas(convenienceFee)}</p>`;\n            \n          } else {\n            foodAndDrinkFeesHeader = `<p>Container Fee:</>\n            <p>Service Charge:</>`;\n            foodAndDrinkFees = `<p>&#8369;${numberWithCommas(containerFee)}</p>\n            <p>&#8369;${numberWithCommas(serviceCharge)}</p>`\n          }\n          grandTotal = itemsTotal + convenienceFee + cargoFee + containerFee + serviceCharge + deliveryFee;\n          customerPayout = grandTotal - (pointsAmountUsed + walletAmountUsed + promos);\n          var html =\n            `<html>\n              <head>\n                <title>${item.page.name} - Order No. ${item._id}</title>\n                <style>\n                  body {\n                    font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n                    font-size: 13px;\n                  }\n                  .container { margin: 25px; overflow:auto; }\n                  h1, h2, h3, h4, h5 { margin:0 0 10px; }\n                  h1 { font-size: 16px; }\n                  h2 { font-size: 15px; }\n                  h3 { font-size: 14px; }\n                  h4 { font-size: 13px; }\n                  table, th {\n                    padding: 10px;\n                    border-bottom: 1px solid #ccc;\n                    border-collapse: collapse;\n                  }\n                  td { padding: 10px; }\n                  table.items, table.items th, table.items td { border-bottom: 1px solid #ccc; }\n                  thead tr { background-color: #f5f6fa !important; border-top: 1px solid #ccc; padding: 10px 15px; }\n                  tr.odd { background-color: #efefef !important; }\n                  tr.deleted-item { text-decoration: line-through; opacity: .65; font-style: italic }\n                  th { text-align: left; text-transform: uppercase; font-weight: bold; font-size: 13px; }\n                </style>\n              </head>\n              <body>\n                <div class=\"container\">\n                  <center><h1 style=\"width:100%;\">${item.page.name.toUpperCase()}</h1></center>\n                  <center><h1 style=\"width:100%; margin-bottom:25px;\">ORDER LIST</h1></center>\n                  <table style=\"width:100%; font-size:13px; border-bottom: 1px solid #ccc;\">\n                    <thead>\n                      <tr>\n                        <th width=\"50%\">Order No.:<span style=\"margin-left:15px;\"> ${item._id}</span></th>\n                        <th>Status: ${statusText} - ${deliveryStatus} </th>\n                        <th>Order Date: ${format(new Date(item.createdAt),'MMM dd, yyyy hh:mm a')} </th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr style=\"border-bottom:none;\">\n                        <td width=\"50%\">\n                          <table style=\"width:100%; font-size:14px; border-bottom:none;\">\n                            <tbody>\n                              <tr>\n                                <td style=\"border-bottom:none; padding-left:0;\">\n                                  <p><label style=\"white-space: nowrap;\">Customer Name:</label> ${item.customer.firstName} ${item.customer.lastName}</p>\n                                  <p><label style=\"white-space: nowrap;\">Email:</label> ${email} &nbsp;&nbsp;&nbsp;&nbsp;<span style=\"white-space: nowrap;\"><label>Phone:</label> ${phone}</span></p>\n                                  <p><label style=\"white-space: nowrap;\">Receiver:</label> ${receiverName} &nbsp;&nbsp;&nbsp;&nbsp;<span style=\"white-space: nowrap;\"><label>Phone:</label> ${receiverPhone}</span></p>\n                                  ${shopperInfo}\n                                </td>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </td>\n                        <td colspan=\"2\">\n                          <table style=\"width:100%; font-size:14px; border-bottom:none;\">\n                            <tbody>\n                              <tr>\n                                <td style=\"border-bottom:none;\">\n                                  <p><label>Booking Option:</label> ${bookingOption}</p>\n                                  <p><label>Delivery Date:</label> ${format(new Date(item.timeSelected),'MMM dd, yyyy hh:mm a')}</p>\n                                  <p><label>Delivery Address:</label> ${deliveryAddress}</p>\n                                  <p><label>Google Map Address:</label> ${gMapAddress}</p>\n                                </td>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                  <table style=\"width:100%; font-size:14px; border-bottom:none;\">\n                    <tbody>\n                      <tr>\n                        <td>\n                          <table style=\"max-width:50%; border-bottom:none; font-size:14px;\">\n                            <tbody>\n                              <tr style=\"font-weight:bold;\">\n                                <td>\n                                  <p>Items Total:</p>\n                                  <p>Delivery Fee:</>\n                                  ${groceryFeesHeader}\n                                  ${foodAndDrinkFeesHeader}\n                                  <p>GRAND TOTAL:</>\n                                </td>\n                                <td>\n                                  <p>&#8369;${numberWithCommas(itemsTotal)}</p>\n                                  <p>&#8369;${numberWithCommas(deliveryFee)}</p>\n                                  ${groceryFees}\n                                  ${foodAndDrinkFees}\n                                  <p style=\"text-decoration:underline\">&#8369;${numberWithCommas(grandTotal)}</p>\n                                </td>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </td>\n                        <td colspan=\"2\">\n                          <table style=\"border-bottom:none; font-size:14px;\">\n                            <tbody>\n                              <tr style=\"font-weight:bold;\">\n                                <td>\n                                  <p>Points Used:</p>\n                                  <p>Wallet Used:</>\n                                  <p>Promos:</>\n                                  <p>CUSTOMER PAYOUT:</>\n                                  <p>Cash Prepared:</>\n                                </td>\n                                <td>\n                                  <p>&#8369;${numberWithCommas(pointsAmountUsed)}</p>\n                                  <p>&#8369;${numberWithCommas(walletAmountUsed)}</p>\n                                  <p>&#8369;${numberWithCommas(promos)}</p>\n                                  <p style=\"text-decoration:underline\">&#8369;${numberWithCommas(customerPayout)}</p>\n                                  <p style=\"text-decoration:underline\">&#8369;${numberWithCommas(cashPrepared)}</p>\n                                </td>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                  <table class=\"items\" style=\"width:100%; font-size:13px;\">\n                    <thead>\n                      <tr>\n                        <th>&nbsp;</th>\n                        <th>Item</th>\n                        <th>Item No.</th>\n                        <th>Item Code</th>\n                        <th>Barcode</th>\n                        <th>Price</th>\n                        <th width=\"50\">Quantity</th>\n                        <th>Total</th>\n                      </tr>\n                    <thead>\n                    <tbody>\n                      ${htmlProducts}\n                      <tr style=\"font-weight:bold;\">\n                        <td colspan=\"7\" align=\"right\">ITEMS TOTAL:</td>\n                        <td nowrap>&#8369;${numberWithCommas(itemsTotal)}</td>\n                      </tr>\n                      <tr>\n                        <td colspan=\"8\"><p style=\"padding: 10px 0;\"><span style=\"font-weight:bold;\">Customer Notes:</span> <em>${consumerNotes}</em></p></td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </body>\n            </html>`;\n          wnd.document.write(html);\n        } else {\n          this.showNotificationError(\"Order not found!\");\n        }\n      })\n      .catch(error => {\n        this.showNotificationError(\"There is an error fetching order. Please try again\");\n      })\n    } else {\n      this.showNotificationError(\"Order not found!\");\n    }\n  }\n\n  printMinDetails(orderId) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    const { sessionToken } = userData;\n    if (orderId && userData && userData !== \"\") {\n      api(sessionToken).get(`places/${pageId}/orders/${orderId}`)\n      .then(resp => {\n        if(resp && resp.data) {\n          const item = resp.data;\n          var wnd = window.open(\"\", \"_blank\", \"\");\n          var bookingOption = item.isDelivery && item.delivery.length > 0 ? item.delivery[item.delivery.length - 1].deliveryEstimateDescription : \"notDelivery\";\n          bookingOption = bookingOption === \"notDelivery\" ? \"\" : bookingOption === \"\" ? \"Book For\" : \"Deliver Now\";\n          let htmlProducts = \"\";\n          let grandTotal = 0;\n          let customerPayout = 0;\n          let itemsTotal = 0;\n          let convenienceFee = 0;\n          let cargoFee = 0;\n          const pointsAmountUsed = item.pointsAmountUsed ? item.pointsAmountUsed : 0;\n          const walletAmountUsed = item.walletAmountUsed ? item.walletAmountUsed : 0;\n          let promos = item.orderPromoDiscount ? item.orderPromoDiscount : 0;\n          let productPromos = 0;\n          const email = item.customer.email ? item.customer.email : \"\";\n          const phone = item.customer.mobileNumbers && item.customer.mobileNumbers instanceof Array && item.customer.mobileNumbers.length > 0 ? item.customer.mobileNumbers[0] : \"\";\n          let shopperInfo = \"\";\n          if(item.shopper && this.state.isGrocery) {\n            let shopperName = \"\";\n            if(item.shopper.firstName && item.shopper.lastName) {\n              shopperName = `${item.shopper.firstName} ${item.shopper.lastName}`;\n            } else {\n              if(item.shopper.firstName) {\n                shopperName = item.shopper.firstName;\n              } else if(item.shopper.lastName) {\n                shopperName = item.shopper.lastName;\n              }\n            }\n            const shopperEmail = item.shopper && item.shopper.email ? item.shopper.email : \"&nbsp;&nbsp;&nbsp;&nbsp;\";\n            const shopperPhone = item.shopper && item.shopper.mobileNumbers && item.shopper.mobileNumbers instanceof Array && item.shopper.mobileNumbers.length > 0 ? item.shopper.mobileNumbers[0].number : \"\"; \n            shopperInfo = `<p><label style=\"white-space: nowrap;\">Shopper:</label> ${shopperName}</p>\n            <p><label style=\"white-space: nowrap;\">Shopper Email:</label> ${shopperEmail} &nbsp;&nbsp;&nbsp;&nbsp; <span style=\"white-space: nowrap;\"><label>Shopper Phone No.:</label> ${shopperPhone}</span></p>`\n          }\n          const deliveryFee = item.delivery && item.delivery[0] && item.delivery[0].fee ? item.delivery[0].fee : 0;\n          let deliveryAddress = \"\";\n          deliveryAddress = item.delivery && item.delivery[0] && item.delivery[0].deliveryAddress && item.delivery[0].deliveryAddress.address ? item.delivery[0].deliveryAddress.address : \"\";\n          let landmark = \"\";\n          landmark = item.delivery && item.delivery[0] && item.delivery[0].deliveryAddress && item.delivery[0].deliveryAddress.address && item.delivery[0].deliveryAddress.landmark ? ' | ' + item.delivery[0].deliveryAddress.landmark : \"\";\n          cargoFee = item.convenienceFee && item.convenienceFee.value ? item.convenienceFee.value : 0;\n          deliveryAddress = deliveryAddress + landmark;\n          const gMapAddress = item.delivery && item.delivery[0] && item.delivery[0].deliveryAddress && item.delivery[0].deliveryAddress.googleAddress ? item.delivery[0].deliveryAddress.googleAddress : \"\";\n          const consumerNotes = item.consumerNotes ? item.consumerNotes : \"No notes\";\n          const cashPrepared = item.invoiceDetails && item.invoiceDetails.customerCash ? item.invoiceDetails.customerCash : 0;\n          const receiverName = item.delivery && item.delivery[0] && item.delivery[0].deliveryAddress && item.delivery[0].deliveryAddress.name ? item.delivery[0].deliveryAddress.name : \"None\";\n          const receiverPhone = item.delivery && item.delivery[0] && item.delivery[0].deliveryAddress && item.delivery[0].deliveryAddress.phone ? item.delivery[0].deliveryAddress.phone : \"None\";\n          let containerFee = 0;\n          const serviceCharge = (item.extraFees && item.extraFees.serviceCharge) || 0;\n          let rowClass = \"\";\n          let { products, addedProducts } = item;\n          let newProducts = products;\n          if(addedProducts && addedProducts instanceof Array && addedProducts.length > 0) {\n            newProducts = [...products,...addedProducts];\n          }\n          let deliveryStatus = \"N/A\";\n          if(item.orderStatus && item.orderStatus instanceof Array && item.orderStatus.length > 0) {\n            const finalStatus = item.orderStatus[item.orderStatus.length - 1];\n            const status = finalStatus.status;\n            if(status==='Confirmed') {\n              deliveryStatus = \"Confirmed\";\n            } else if (status==='Deployed') {\n              deliveryStatus = \"Deployed\";\n            } else if (status==='Picked up') {\n              deliveryStatus = \"Picked Up\";\n            } else if (status==='Requested for void') {\n              deliveryStatus = \"Requested for void\";\n            } else if (status==='Order Completed') {\n              deliveryStatus = \"Order Completed\";\n            } else if (status==='Paid') {\n              deliveryStatus = \"Paid\";\n            } else if (status==='Cancelled') {\n              deliveryStatus = \"Cancelled\";\n            } else if (status==='Received Order') {\n              deliveryStatus = \"Received Order\";\n            }\n          }\n          let statusText = \"N/A\";\n          if(item.status==='for_confirmation') {\n            statusText = \"For Confirmation\";\n          } else if (item.status==='payment_pending') {\n            statusText = \"Pending\";\n          } else if (item.status==='paid') {\n            statusText = \"Paid\";\n          } else if (item.status==='cancelled') {\n            statusText = \"Cancelled\";\n          } else if (item.status==='void') {\n            statusText = \"Void\";\n          }\n          newProducts.forEach((product,index) => {\n            if(index%2===1) {\n              rowClass = \"odd\";\n            } else {\n              rowClass = \"\";\n            }\n            let available = \"\";\n            if(product.unavailable) {\n              available = \" deleted-item\"\n            }\n            const barcode = product._id && product._id.barcode ? product._id.barcode : \"\";\n            const itemCode = product._id && product._id.itemCode ? product._id.itemCode : \"\"\n            htmlProducts += `<tr class=\"${rowClass}${available}\">\n              <td>${index+1}. ${product.name}</td>\n              <td nowrap>${itemCode}</td>\n              <td>${barcode}</td>\n              <td nowrap>&#8369;${numberWithCommas(product.price)}</td>\n              <td align=\"center\">${product.quantity}</td>\n              <td nowrap>&#8369;${numberWithCommas(product.price * product.quantity)}</td>\n            </tr>`;\n            if(product.unavailable !== true) {\n              itemsTotal += product.price * product.quantity;\n            }\n            if(product.unavailable !== true && product.markup && product.markup > 0) {\n              convenienceFee += product.markup * product.quantity;\n            }\n            if(product.unavailable !== true && product.containerFee && product.containerFee.amount) {\n              const delivery = product.containerFee.supportedOrderOption && product.containerFee.supportedOrderOption.delivery ? product.containerFee.supportedOrderOption.delivery : false\n              const pickup = product.containerFee.supportedOrderOption && product.containerFee.supportedOrderOption.pickup ? product.containerFee.supportedOrderOption.pickup : false\n              if(item.selectedPaymentOption===\"delivery\" && delivery) {\n                containerFee += product.containerFee.amount\n              } else if (item.selectedPaymentOption===\"pickup\" && pickup) {\n                containerFee += product.containerFee.amount\n              }\n            }\n            if(product.promos && product.promos.length > 0) {\n              const promo = item.promos[0];\n              const promoType = promo.calculation.type;\n              const promoValue = promo.calculation.value;\n              let days = 1;\n              if(item.days && item.days > 1) {\n                days = item.days;\n              }\n              if (promoType === 'percent') {\n                productPromos += (item.price * item.quantity * days) * (promoValue / 100);\n              } else {\n                productPromos += promoValue;\n              }\n              promos += productPromos;\n            }\n          });\n          let groceryFees = \"\";\n          let groceryFeesHeader = \"\";\n          let foodAndDrinkFees = \"\";\n          let foodAndDrinkFeesHeader = \"\";\n          if(this.state.isGrocery) {\n            groceryFeesHeader = `<p>Cargo Fee:</>\n              <p>Convenience Fee:</>`;\n            groceryFees = `<p>&#8369;${numberWithCommas(cargoFee)}</p>\n              <p>&#8369;${numberWithCommas(convenienceFee)}</p>`;\n            \n          } else {\n            foodAndDrinkFeesHeader = `<p>Container Fee:</>\n            <p>Service Charge:</>`;\n            foodAndDrinkFees = `<p>&#8369;${numberWithCommas(containerFee)}</p>\n            <p>&#8369;${numberWithCommas(serviceCharge)}</p>`\n          }\n          grandTotal = itemsTotal + convenienceFee + cargoFee + containerFee + serviceCharge + deliveryFee;\n          customerPayout = grandTotal - (pointsAmountUsed + walletAmountUsed + promos);\n          var html =\n            `<html>\n              <head>\n                <title>${item.page.name} - Order No. ${item._id}</title>\n                <style>\n                  body {\n                    font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n                    font-size: 15px;\n                  }\n                  .container { margin: 25px; overflow:auto; }\n                  h1, h2, h3, h4, h5 { margin:0 0 10px; }\n                  h1 { font-size: 16px; }\n                  h2 { font-size: 15px; }\n                  h3 { font-size: 14px; }\n                  h4 { font-size: 13px; }\n                  table, th {\n                    padding: 10px;\n                    border-bottom: 1px solid #ccc;\n                    border-collapse: collapse;\n                  }\n                  td { padding: 10px; }\n                  table.items, table.items th, table.items td { border-bottom: 1px solid #ccc; }\n                  thead tr { background-color: #f5f6fa !important; border-top: 1px solid #ccc; padding: 10px 15px; }\n                  tr.odd { background-color: #efefef !important; }\n                  tr.deleted-item { text-decoration: line-through; opacity: .65; font-style: italic }\n                  th { text-align: left; text-transform: uppercase; font-weight: bold; font-size: 14px; }\n                </style>\n              </head>\n              <body>\n                <div class=\"container\">\n                  <center><h1 style=\"width:100%;\">${item.page.name.toUpperCase()}</h1></center>\n                  <center><h1 style=\"width:100%; margin-bottom:25px;\">ORDER LIST</h1></center>\n                  <table style=\"width:100%; font-size:14px; border-bottom: 1px solid #ccc;\">\n                    <thead>\n                      <tr>\n                        <th width=\"50%\">Order No.:<span style=\"margin-left:15px;\">${item._id}</span></th>\n                        <th>Status: ${statusText} - ${deliveryStatus} </th>\n                        <th>Order Date: ${format(new Date(item.createdAt),'MMM dd, yyyy hh:mm a')}</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr style=\"border-bottom:none;\">\n                        <td width=\"50%\">\n                          <table style=\"width:100%; font-size:14px; border-bottom:none;\">\n                            <tbody>\n                              <tr>\n                                <td style=\"border-bottom:none; padding-left:0;\">\n                                  <p><label style=\"white-space: nowrap;\">Customer Name:</label> ${item.customer.firstName} ${item.customer.lastName}</p>\n                                  <p><label style=\"white-space: nowrap;\">Email:</label> ${email} &nbsp;&nbsp;&nbsp;&nbsp;<span style=\"white-space: nowrap;\"><label>Phone:</label> ${phone}</span></p>\n                                  <p><label style=\"white-space: nowrap;\">Receiver:</label> ${receiverName} &nbsp;&nbsp;&nbsp;&nbsp;<span style=\"white-space: nowrap;\"><label>Phone:</label> ${receiverPhone}</span></p>\n                                  ${shopperInfo}\n                                </td>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </td>\n                        <td colspan=\"2\">\n                          <table style=\"width:100%; font-size:14px; border-bottom:none;\">\n                            <tbody>\n                              <tr>\n                                <td style=\"border-bottom:none;\">\n                                  <p><label>Booking Option:</label> ${bookingOption}</p>\n                                  <p><label>Delivery Date:</label> ${format(new Date(item.timeSelected),'MMM dd, yyyy hh:mm a')}</p>\n                                  <p><label>Delivery Address:</label> ${deliveryAddress}</p>\n                                  <p><label>Google Map Address:</label> ${gMapAddress}</p>\n                                </td>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                  <table style=\"width:100%; font-size:14px; border-bottom:none;\">\n                    <tbody>\n                      <tr>\n                        <td>\n                          <table style=\"max-width:50%; border-bottom:none; font-size:14px;\">\n                            <tbody>\n                              <tr style=\"font-weight:bold;\">\n                                <td>\n                                  <p>Items Total:</p>\n                                  <p>Delivery Fee:</>\n                                  ${groceryFeesHeader}\n                                  ${foodAndDrinkFeesHeader}\n                                  <p>GRAND TOTAL:</>\n                                </td>\n                                <td>\n                                  <p>&#8369;${numberWithCommas(itemsTotal)}</p>\n                                  <p>&#8369;${numberWithCommas(deliveryFee)}</p>\n                                  ${groceryFees}\n                                  ${foodAndDrinkFees}\n                                  <p style=\"text-decoration:underline\">&#8369;${numberWithCommas(grandTotal)}</p>\n                                </td>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </td>\n                        <td colspan=\"2\">\n                          <table style=\"border-bottom:none; font-size:14px;\">\n                            <tbody>\n                              <tr style=\"font-weight:bold;\">\n                                <td>\n                                  <p>Points Used:</p>\n                                  <p>Wallet Used:</>\n                                  <p>Promos:</>\n                                  <p>CUSTOMER PAYOUT:</>\n                                  <p>Cash Prepared:</>\n                                </td>\n                                <td>\n                                  <p>&#8369;${numberWithCommas(pointsAmountUsed)}</p>\n                                  <p>&#8369;${numberWithCommas(walletAmountUsed)}</p>\n                                  <p>&#8369;${numberWithCommas(promos)}</p>\n                                  <p style=\"text-decoration:underline\">&#8369;${numberWithCommas(customerPayout)}</p>\n                                  <p style=\"text-decoration:underline\">&#8369;${numberWithCommas(cashPrepared)}</p>\n                                </td>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                  <table class=\"items\" style=\"width:100%; font-size:14px;\">\n                    <thead>\n                      <tr>\n                        <th>Item</th>\n                        <th>Item Code</th>\n                        <th>Barcode</th>\n                        <th>Price</th>\n                        <th width=\"50\">Quantity</th>\n                        <th>Total</th>\n                      </tr>\n                    <thead>\n                    <tbody>\n                      ${htmlProducts}\n                      <tr style=\"font-weight:bold;\">\n                        <td colspan=\"5\" align=\"right\">ITEMS TOTAL:</td>\n                        <td nowrap>&#8369;${numberWithCommas(itemsTotal)}</td>\n                      </tr>\n                      <tr>\n                        <td colspan=\"8\"><p style=\"padding: 10px 0;\"><span style=\"font-weight:bold;\">Customer Notes:</span> <em>${consumerNotes}</em></p></td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </body>\n            </html>`;\n          wnd.document.write(html);\n        } else {\n          this.showNotificationError(\"Order not found!\");\n        }\n      })\n      .catch(error => {\n        this.showNotificationError(\"There is an error fetching order. Please try again\");\n      })\n    } else {\n      this.showNotificationError(\"Order not found!\");\n    }\n  }\n\n  exportList = () => {\n    this.setState({ isGeneratingXls: true });\n    let { dateStart, dateEnd, status, selectedPaymentMethod, keyword, filterDate, showTests } = this.state;\n    let query = {};\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    const { sessionToken } = userData;\n    query.dateStart = dateStart;\n    query.dateEnd = dateEnd;\n    if(status && status !== '') {\n      query.status = status;\n    }\n    if(selectedPaymentMethod && selectedPaymentMethod !== '') {\n      query.selectedPaymentMethod = selectedPaymentMethod;\n    }\n    if(keyword && keyword !== '') {\n      query.keyword = keyword;\n    }\n    if(filterDate && filterDate !== '') {\n      query.filterDate = filterDate;\n    }\n    if(showTests && showTests !== '') {\n      query.showTests = showTests;\n    }\n    \n    if (userData !== null) {\n      api(sessionToken).get(`/provider/places/${pageId}/orders-by-product-xls`, { params: query })\n      .then(resp => {\n        if (resp && resp.data && resp.data.status === 'success' && resp.data.filename) {\n          const fileName = resp.data.filename;\n          this.setState({ isGeneratingXls: false });\n          window.open(fileName);\n        } else {\n          this.setState({ isGeneratingXls: false });\n          this.showNotificationError('No transactions found.');\n        }\n      })\n      .catch(error => {\n        this.setState({ isGeneratingXls: false });\n        this.showNotificationError('There is an error generating the file. Please');\n      })\n    } else {\n      this.setState({ isGeneratingXls: false });\n      this.showNotificationError('No transactions found.');\n    }\n  }\n\n  renderImage(item) {\n    let defaultPhoto = logoBlu\n    var pp = item && item.customer && item.customer._id && item.customer._id.photos && item.customer._id.photos[0]\n      ? item.customer._id.photos[0].thumb\n      : defaultPhoto;\n    return (\n      <Media \n        object\n        data-src={pp}\n        src={pp}\n        alt={item.customer.firstName}\n        style={{ maxWidth:\"45px\", maxHeight:\"45px\" }}\n      />\n    );\n  }\n\n  renderStatusBadges(item, style) {\n    if (style === \"vertical\") {\n      return (\n        <div style={{ display: 'flex', flexDirection: 'column' }}>\n          <div className=\"roundLabel\" style={{ backgroundColor: '#1d8cf8' }}>\n            {item.status}\n          </div>\n          <div className=\"roundLabel\" style={{ backgroundColor: '#ff8d72' }}>\n            {item.products[item.products.length - 1].diningOption}\n          </div>\n          <div className=\"roundLabel\" style={{ backgroundColor: '#fd5d93' }}>\n            { item.selectedPaymentOption === \"gcash\" && item.paymongoDetail && item.paymongoDetail.commissionPercentage\n              ?\n              <>\n                paymongo gcash\n              </>\n              :\n              <>\n                {item.selectedPaymentOption}\n              </>\n            }\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <>\n          <Badge style={{ fontSize: \"12px\" }} color=\"info\" pill>\n            {item.status}\n          </Badge>\n          <Badge style={{ fontSize: \"12px\" }} color=\"warning\" pill>\n            {item.products[item.products.length - 1].diningOption}\n          </Badge>\n          <Badge style={{ fontSize: \"12px\" }} color=\"danger\" pill>\n            {item.selectedPaymentOption}\n          </Badge>\n          <Button color=\"link\" aria-label=\"PDF\" style={{ padding: \"0.5rem 0.25rem\" }}>\n            <span aria-hidden>\n              <Fa\n                icon=\"file-pdf\"\n                size={'lg'}\n                onClick={() => {\n                  this.printMinDetails(item._id);\n                }}\n              />\n            </span>\n          </Button>\n          <Button \n            style={{ fontSize: \"12px\", padding: \"0.5rem 0.25rem\" }}\n            className=\"btn-success-v2 btn-round float-right\"\n            onClick={() => {\n              this.printDetails(item._id);\n            }}\n          >\n            <Fa icon=\"print\" />\n          </Button>{\" \"}\n        </>\n      );\n    }\n  }\n\n  renderCustomerBilling(details) {\n    var method = \"\";\n    let billingAddress = details.billingAddress;\n\n    if (!billingAddress) {\n      billingAddress = {\n        billing_name: \"\",\n        address1: \"\",\n        address2: \"\",\n        city: \"\",\n        state_province: \"\",\n        postal: \"\",\n        country: \"\"\n      };\n    }\n    \n    if (details.selectedPaymentOption === \"cc\") {\n      method = \"Credit Card\";\n    } else if (details.selectedPaymentOption === \"cash\") {\n      method = \"Cash\";\n    } else if (details.selectedPaymentOption === \"bank\") {\n      method = \"Bank\";\n    }\n\n    return (\n      <>\n        <tr>\n          <td>\n            <h4>BILLING</h4>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <b>Method</b>\n          </td>\n          <td>{method}</td>\n        </tr>\n        <tr>\n          <td>\n            <b>Fullname</b>\n          </td>\n          <td>{billingAddress.billing_name}</td>\n        </tr>\n        <tr>\n          <td>\n            <b>Address</b>\n          </td>\n          <td>{billingAddress.address1}</td>\n        </tr>\n      </>\n    );\n  }\n  \n  renderCustomerInfo(details) {\n    const deliveryAddress =\n      details.isDelivery && details.delivery[0].deliveryAddress.address\n        ? details.delivery[0].deliveryAddress.address\n        : \"\";\n    const landmark =\n      details.isDelivery && details.delivery[0].deliveryAddress.landmark\n        ? details.delivery[0].deliveryAddress.landmark\n        : \"\";\n    const googleAddress =\n      details.isDelivery && details.delivery[0].deliveryAddress.googleAddress\n        ? details.delivery[0].deliveryAddress.googleAddress\n        : \"\";\n    const receiverName =\n      details.isDelivery && details.delivery[0].deliveryAddress.name\n        ? details.delivery[0].deliveryAddress.name\n        : \"\";\n    const receiverPhone =\n      details.isDelivery && details.delivery[0].deliveryAddress.phone\n        ? details.delivery[0].deliveryAddress.phone\n        : \"\";\n    return (\n      <div style={{fontSize:12}}>\n        <div style={{ display: 'flex', flexDirection: 'row', marginTop: 10 }}>\n          <label className=\"control-label\">Customer</label>\n        </div>\n        <div style={{ display:'flex', flexDirection:'row', paddingLeft:10, marginTop:5 }}>\n          <label className=\"label-secondary\">{details.customer.firstName} {details.customer.lastName}</label>\n        </div>\n        <div style={{ display:'flex', flexDirection:'row', paddingLeft:10, marginTop:5 }}>\n          <label className=\"label-secondary\">\n            <Fa icon=\"mobile-alt\" />&nbsp;\n            {details.customer.mobileNumbers[0]}\n          </label>\n        </div>\n        <div style={{ display:'flex', flexDirection:'row', paddingLeft:10, marginTop:5 }}>\n          <label className=\"label-secondary\">\n            <Fa icon=\"envelope\" />&nbsp;\n            {details.customer.email}\n          </label>\n        </div>\n        <div style={{ display: 'flex', flexDirection: 'row', marginTop: 10 }}>\n          <label className=\"control-label\">Delivery</label>\n        </div>\n        <div style={{ display:'flex', flexDirection:'row', paddingLeft:10, marginTop:5 }}>\n          <label className=\"label-secondary\">\n            <Fa icon=\"map-marker-alt\" />&nbsp;\n            {deliveryAddress}\n          </label>\n        </div>\n        { landmark && landmark.length > 0 &&\n          <div style={{ display:'flex', flexDirection:'row', paddingLeft:10, marginTop:5 }}>\n            <label className=\"label-secondary\">\n              <Fa icon=\"monument\" />&nbsp;\n              {landmark}\n            </label>\n          </div>\n        }\n        <div style={{ display:'flex', flexDirection:'row', paddingLeft:10, marginTop:5 }}>\n          <label className=\"label-secondary\">\n            <Fa icon=\"map-pin\" />&nbsp;\n            {googleAddress}\n          </label>\n        </div>\n        <div style={{ display:'flex', flexDirection:'row', marginTop:10 }}>\n          <label className=\"control-label\">Recipient</label>\n        </div>\n        <div style={{ display:'flex', flexDirection:'row', paddingLeft:10, marginTop:5 }}>\n          <label className=\"label-secondary\">{receiverName}</label>\n        </div>\n        <div style={{ display:'flex', flexDirection:'row', paddingLeft:10, marginTop:5 }}>\n          <label className=\"label-secondary\">\n            <Fa icon=\"phone-square\" />&nbsp;\n            {receiverPhone}\n          </label>\n        </div>\n        <hr style={{ backgroundColor: 'rgba(169,169,169,0.5)' }} />\n      </div>\n    );\n  }\n\n  renderShopperInfo(shopper) {\n    if(this.state.isGrocery) {\n      if(shopper && shopper._id) {\n        const selectId = shopper && shopper._id ? shopper._id : \"\";\n        return (\n          <div style={{fontSize:'12px'}}>\n            <div style={{ display: 'flex', flexDirection: 'row', marginTop: 10 }}>\n              <label className=\"control-label\">Shopper</label>\n            </div>\n            <div style={{ display: 'flex', flexDirection: 'row', paddingLeft:10, marginTop:5 }}>\n              <label className=\"label-secondary\">{shopper.firstName ? shopper.firstName : \"\"} {shopper.lastName ? shopper.lastName : \"\"}</label>\n            </div>\n            <div style={{ display: 'flex', flexDirection: 'row', paddingLeft:10, marginTop:5 }}>\n              <label className=\"label-secondary\">\n                <Fa icon=\"mobile-alt\" />&nbsp;\n                {shopper.mobileNumbers && shopper.mobileNumbers[0] && shopper.mobileNumbers[0].number ? shopper.mobileNumbers[0].number : \"\"}\n              </label>\n            </div>\n            <div style={{ display: 'flex', flexDirection: 'row', paddingLeft:10, marginTop:5 }}>\n              <label className=\"label-secondary\">\n                <Fa icon=\"envelope\" />&nbsp;\n                {shopper.email ? shopper.email : \"\"}\n              </label>\n            </div>\n            { this.state.shopperOptions && this.state.shopperOptions.length > 0 &&\n              <Col sm=\"12\" md=\"8\" lg=\"8\" style={{ paddingLeft: 0, marginBottom: 10, marginTop: 10 }}>\n                <FormGroup>\n                  <Select\n                    className=\"react-select\"\n                    styles={{ fontSize:'13px !important', width: 'auto' }}\n                    options={this.state.shopperOptions}\n                    onChange={this.handleChangeShopper}\n                    placeholder=\"Select a shopper\"\n                    value={this.state.shopperOptions.filter(item => item.value === selectId)}\n                  />\n                </FormGroup>\n              </Col>\n            }\n            <hr style={{ backgroundColor: 'rgba(169,169,169,0.5)' }} />\n          </div>\n        );\n      } else {\n        return (\n          <div style={{fontSize:'12px'}}>\n            <div style={{ display: 'flex', flexDirection: 'row', marginBottom: 10, marginTop: 10 }}>\n              <label className=\"control-label\">SHOPPER DETAILS</label>\n            </div>\n            <div style={{ display: 'flex', flexDirection: 'row', marginBottom: 10, marginTop: 10 }}>\n              <p style={{ color: '#447098', paddingLeft: 10 }}>No shopper added.</p>\n            </div>\n            { this.state.shopperOptions && this.state.shopperOptions.length > 0 &&\n              <Col sm=\"12\" md=\"8\" lg=\"8\" style={{ paddingLeft: 0, marginBottom: 10, marginTop: 10 }}>\n                <FormGroup>\n                  <Select\n                    className=\"react-select\"\n                    styles={{ fontSize:'13px !important', width: 'auto' }}\n                    options={this.state.shopperOptions}\n                    onChange={this.handleChangeShopper}\n                    placeholder=\"Select a shopper\"\n                    value=\"\"\n                  />\n                </FormGroup>\n              </Col>\n            }\n            <hr style={{ backgroundColor: 'rgba(169,169,169,0.5)' }} />\n          </div>\n        );\n      }\n    }\n  }\n\n  renderRows() {\n    if (this.state.isLoading) {\n      return (\n        <tr>\n          <td colSpan=\"7\">\n            <PulseLoader\n              sizeUnit={\"px\"}\n              size={15}\n              color={\"#1d8cf8\"}\n              loading={this.state.isLoading}\n            />\n          </td>\n        </tr>\n      );\n    } else {\n      if (\n        this.state.orders instanceof Array && \n        this.state.orders.length > 0\n      ) {\n        return this.state.orders.map((item, index, ordersArr) => (\n          <tr\n            key={index}\n            onClick={() => {\n              this.showDetails(item._id);\n            }}\n            className=\"order-list-item\"\n          >\n            <td width=\"30%\">\n              <Media style={{ display: 'flex', alignItems: 'center' }}>\n                {index+1}.\n                <Media left top href=\"#\">\n                  {this.renderImage(item)}\n                </Media>\n                <p style={{ marginBottom: 20 }}>\n                  {item.customer.firstName} {item.customer.lastName}\n                </p>\n              </Media>\n            </td>\n            <td width=\"100\">\n              <p>...\n                {\n                  new Array(item._id.toString().length - 6 + 1).join('') + item._id.toString().slice(-6)\n                }\n              </p>\n              { item.selectedPaymentOption === \"gcash\" && item.paymongoDetail && item.paymongoDetail.commissionPercentage \n                ?\n                  <>\n                    { item.paymongoDetail && item.paymongoDetail.commissionPercentage\n                      ?\n                      <Badge color=\"secondary\" pill>PAYMONGO G-CASH</Badge>\n                      :\n                      <Badge color=\"secondary\" pill>G-CASH</Badge>\n                    } \n                  </>\n                :\n                  <>\n                    { item.selectedPaymentOption === \"cc\" \n                      ?\n                      <Badge color=\"secondary\" pill>PAYPAL</Badge>\n                      :\n                      <Badge color=\"secondary\" pill>{item.selectedPaymentOption ? item.selectedPaymentOption.toUpperCase() : \"N/A\"}</Badge>\n                    }\n                  </>\n              }\n              \n            </td>\n            <td>\n              <p style={{whiteSpace:'noWrap'}}>{format(new Date(item.createdAt),'yyyy-MM-dd')}</p>\n              {format(new Date(item.createdAt),'hh:mm a')}\n            </td>\n            <td>\n              <p style={{whiteSpace:'noWrap'}}>{format(new Date(item.timeSelected),'yyyy-MM-dd')}</p>\n              {format(new Date(item.timeSelected),'hh:mm a')}\n            </td>\n            <td width=\"100\">\n              <FormGroup>\n                {this.renderOrderStatus(item.status)}\n              </FormGroup>\n            </td>\n            <td width=\"100\">\n              <FormGroup>\n                {this.renderDeliveryStatusBadge(item.orderStatus)}\n              </FormGroup>\n            </td>\n          </tr>\n        ));\n      } else {\n        return (\n          <tr>\n            <td colSpan=\"7\">\n              <label className=\"text-danger\">\n                <em>No Orders found.</em>\n              </label>\n            </td>\n          </tr>\n        );\n      }\n    }\n  }\n\n  refreshOrders(queryStr, pageId) {\n    const query = queryString.parse(queryStr);\n    query.keyword = query.search && query.search.length > 0 ? query.search.trim() : \"\";\n    delete query.search;\n    this.props.history.push(\"/order-list\" + queryStr);\n    const userData = JSON.parse(getSession(\"userData\"));\n    const { sessionToken } = userData;\n    if (userData && userData !== null) {\n      api(sessionToken).get(`/provider/orders/${pageId}`, { params: query })\n      .then(resp => {\n        if(resp && resp.data && resp.data.docs && resp.data.docs[0]) {\n            const orders = resp.data.docs;\n            this.setState({\n              orders: orders,\n              pagination: resp.data.pagination,\n              singleDetails: orders[0],\n              canPickUp: orders[0].isDelivery && orders[0].delivery[orders[0].delivery.length - 1].status === 'inPreparation',\n            });\n          this.setState({isLoading:false});\n          this.setState({isLoadingOrderDetail:false});\n        } else {\n          this.setState({\n            orders: [],\n            pagination: {},\n            singleDetails: {},\n            canPickUp: false,\n          });\n          this.setState({isLoading:false});\n          this.setState({isLoadingOrderDetail:false});\n        }\n      })\n      .catch(error => {\n        this.setState({isLoading:false});\n        this.setState({isLoadingOrderDetail:false});\n      })\n    } else {\n      this.setState({isLoading:false});\n      this.setState({isLoadingOrderDetail:false});\n    }\n  }\n\n  renderOrderStatus(status) {\n    if(status==='for_confirmation') {\n      return (<Badge color=\"secondary\" pill>For Confirmation</Badge>)\n    } else if (status==='payment_pending') {\n      return (<Badge color=\"warning\" pill>Pending</Badge>)\n    } else if (status==='paid') {\n      return (<Badge color=\"primary\" pill>Paid</Badge>)\n    } else if (status==='cancelled') {\n      return (<Badge color=\"danger\" pill>Cancelled</Badge>)\n    } else if (status==='void') {\n      return (<Badge color=\"secondary\" pill>Void</Badge>) \n    } else {\n      return (<Badge color=\"secondary\" pill>N/A</Badge>) \n    }\n  }\n\n  renderDeliveryStatusBadge(orderStatus) {\n    if(orderStatus && orderStatus instanceof Array && orderStatus.length > 0) {\n      const finalStatus = orderStatus[orderStatus.length - 1];\n      const status = finalStatus.status;\n      if(status==='Confirmed') {\n        return (<Badge color=\"warning\" pill>Confirmed</Badge>)\n      } else if (status==='Deployed') {\n        return (<Badge color=\"primary\" pill>Deployed</Badge>)\n      } else if (status==='Picked up') {\n        return (<Badge color=\"primary\" pill>Picked Up</Badge>)\n      } else if (status==='Requested for void') {\n        return (<Badge color=\"secondary\" pill>Requested For Void</Badge>)\n      } else if (status==='Order Completed') {\n        return (<Badge color=\"success\" pill>Completed</Badge>)\n      } else if (status==='Paid') {\n        return (<Badge color=\"primary\" pill>Paid</Badge>)\n      } else if (status==='Cancelled') {\n        return (<Badge color=\"success\" pill>Cancelled</Badge>)\n      } else if (status==='Received Order') {\n        return (<Badge color=\"success\" pill>Received Order</Badge>)\n      } else {\n        return (<Badge color=\"secondary\" pill>N/A</Badge>) \n      }\n    } else {\n      return (<Badge color=\"secondary\" pill>N/A</Badge>);\n    }\n  }\n\n  renderNoPageAdded() {\n    return (\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">No Page Added</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You have not added a page yet. Click{\" \"} <Link to=\"/add-page\">here</Link> {\" \"}to add a new page.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderPageNotVerified() {\n    return(\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">You Have Not Agreed with our Terms & Policies</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You must agree  with our Terms & Policies. Click {\" \"} <Link to=\"/statement-of-agreement\">here</Link> {\" \"} to read our Terms & Policies.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderNoProductsAdded() {\n    return (\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">No Products Added</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You need to add a product before you can activate your store. Click{\" \"} <Link to=\"/products/new\">here</Link> {\" \"}to add a product.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  render() {\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    const hasCategories = JSON.parse(getSession(\"hasCategories\"));\n    const hasProducts = JSON.parse(getSession(\"hasProducts\"));\n    if(pageInfo && pageInfo._id) {\n      if(pageInfo.isVerified === true) {\n        if(hasProducts === true) {\n          return (\n            <div className=\"content\">\n              <div className=\"react-notification-alert-container\">\n                <NotificationAlert ref=\"notify\" />\n              </div>\n              <Row>\n                <Col lg=\"7\" md=\"7\" sm=\"12\">\n                  <Card>\n                    <CardHeader>\n                      <h4 className=\"title\">Orders - <em>{this.state.pageName}</em></h4>\n                      {!pageInfo.hideTutorials &&\n                        <Row>\n                          <Col sm=\"12\">\n                            <Row>\n                              <Col md=\"12\">\n                                <Alert className=\"alert-compact\" color=\"primary\" isOpen={!this.state.hideTutorials} toggle={this.onDismiss} fade={false}>\n                                  <h4 className=\"alert-heading\">New on Orders?</h4>\n                                  <hr />\n                                  <p className=\"mb-0\">\n                                    Check our videos here on how to manage your orders.<br /> \n                                  </p>\n                                  <a className=\"btn btn-sm btn-primary-v2\" href=\"https://www.youtube.com/watch?v=k8VEDqbPv7w\">View Tutorials</a>\n                                  <Button\n                                    className=\"btn-fill btn-sm\"\n                                    color=\"danger\"\n                                    type=\"button\"\n                                    onClick={this.onHideTutorials}\n                                  >\n                                    Hide Permanently\n                                  </Button>\n                                </Alert>\n                              </Col>\n                            </Row>\n                          </Col>\n                        </Row>\n                      }\n                      <Row>\n                        {hasCategories && hasProducts && pageInfo.isActive !== true &&\n                          <Col sm=\"12\">\n                            <Row>\n                              <Col md=\"12\">\n                                <Alert color=\"danger\">\n                                  <h4 className=\"alert-heading\">Store Not Activated</h4>\n                                  <hr />\n                                  <p className=\"mb-0\">\n                                    You must activate your store so it will appear in the app and you can start selling.<br /> \n                                    Click {\" \"} <Link to=\"/activate-store\">here</Link> {\" \"} to activate you store.\n                                  </p>\n                                </Alert>\n                              </Col>\n                            </Row>\n                          </Col>\n                        }\n                        <Col md=\"6\">\n                          <Row>\n                            <Col sm=\"12\">\n                              <FormGroup>\n                                <Input\n                                  id=\"search\"\n                                  name=\"search\"\n                                  type=\"text\"\n                                  placeholder=\"Search order...\"\n                                  onChange={this.handleChangeKeyword}\n                                  onKeyPress={this.handleSearch}\n                                  value={this.state.search}\n                                ></Input>\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                        </Col>\n                        <Col md=\"6\">\n                          <Row>\n                            <Col md=\"6\">\n                              <FormGroup>\n                                <Input\n                                  id=\"paymentMethod\"\n                                  name=\"paymentMethod\"\n                                  type=\"select\"\n                                  onChange={this.handleChangePaymentMethod}\n                                  value={this.state.selectedPaymentMethod}\n                                >\n                                  <option value=\"\">Payment Method</option>\n                                  <option value=\"cash\">Cash</option>\n                                  <option value=\"gcash\">G-Cash</option>\n                                  <option value=\"paynamics\">Paynamics</option>\n                                  <option value=\"paymongo\">Paymongo</option>\n                                  <option value=\"cc\">Paypal</option>\n                                  <option value=\"direct-transfer\">Direct Transfer</option>\n                                </Input>\n                              </FormGroup>\n                            </Col>\n                            <Col md=\"6\">\n                              <FormGroup>\n                                <Input\n                                  id=\"status\"\n                                  name=\"status\"\n                                  type=\"select\"\n                                  onChange={this.handleChangeStatus}\n                                  value={this.state.status}\n                                >\n                                  <option value=\"\">Status</option>\n                                  <option value=\"for_confirmation\">For Confirmation</option>\n                                  <option value=\"payment_pending\">Pending</option>\n                                  <option value=\"paid\">Paid</option>\n                                  <option value=\"cancelled\">Cancelled</option>\n                                  <option value=\"void\">Void</option>\n                                </Input>\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                        </Col>\n                      </Row>\n                      <Row>\n                        <Col md=\"6\">\n                          <Row>\n                            <Col md=\"6\">\n                              {pageInfo && pageInfo._id !== '5ea5519c91aec75b7a387d4b'\n                                ?\n                                <FormGroup>\n                                  <label htmlFor=\"startDate\" className=\"control-label\" style={{display:'block'}}>\n                                    Start Date:\n                                  </label>\n                                  { this.state.filterDate && this.state.filterDate === 'deliveryDate' \n                                    ?\n                                    <DatePicker\n                                      name=\"dateStart\"\n                                      className=\"form-control\"\n                                      selectsStart\n                                      startDate={this.state.dateStart}\n                                      endDate={this.state.dateEnd}\n                                      selected={this.state.dateStart}\n                                      onChange={this.handleChangeStartDate} \n                                      showTimeSelect\n                                      dateFormat=\"MMMM d, yyyy h:mm aa\"\n                                      timeIntervals={30}\n                                      timeCaption=\"Time\"\n                                      autoComplete=\"off\"\n                                    />\n                                    :\n                                    <DatePicker\n                                      name=\"dateStart\"\n                                      className=\"form-control\"\n                                      selectsStart\n                                      startDate={this.state.dateStart}\n                                      endDate={this.state.dateEnd}\n                                      selected={this.state.dateStart}\n                                      onChange={this.handleChangeStartDate}\n                                      dateFormat=\"MMMM d, yyyy\"\n                                      autoComplete=\"off\"\n                                    />\n                                  }\n                                </FormGroup>\n                                :\n                                <FormGroup>\n                                  <label htmlFor=\"startDate\" className=\"control-label\" style={{display:'block'}}>\n                                    Delivery Date:\n                                  </label>\n                                  <DatePicker\n                                    name=\"dateStart\"\n                                    className=\"form-control\"\n                                    selectsStart\n                                    startDate={this.state.dateStart}\n                                    selected={this.state.dateStart}\n                                    onChange={this.handleChangeDate}\n                                    dateFormat=\"MMMM d, yyyy\"\n                                    autoComplete=\"off\"\n                                  />\n                                </FormGroup>\n                              }\n                            </Col>\n                            <Col md=\"6\">\n                            {pageInfo && pageInfo._id !== '5ea5519c91aec75b7a387d4b' &&\n                              <FormGroup>\n                                <label htmlFor=\"endDate\" className=\"control-label\" style={{display:'block'}}>\n                                  End Date:\n                                </label>\n                                { this.state.filterDate && this.state.filterDate === 'deliveryDate' \n                                  ?\n                                  <DatePicker\n                                    name=\"endDate\"\n                                    selectsEnd\n                                    startDate={this.state.dateStart}\n                                    endDate={this.state.dateEnd}\n                                    className=\"form-control\"\n                                    selected={this.state.dateEnd}\n                                    onChange={this.handleChangeEndDate}\n                                    showTimeSelect\n                                    dateFormat=\"MMMM d, yyyy h:mm aa\"\n                                    timeIntervals={30}\n                                    timeCaption=\"Time\"\n                                    autoComplete=\"off\"\n                                  />\n                                  :\n                                  <DatePicker\n                                    name=\"endDate\"\n                                    selectsEnd\n                                    startDate={this.state.dateStart}\n                                    endDate={this.state.dateEnd}\n                                    className=\"form-control\"\n                                    selected={this.state.dateEnd}\n                                    onChange={this.handleChangeEndDate}\n                                    dateFormat=\"MMMM d, yyyy\"\n                                    autoComplete=\"off\"\n                                  />\n                                }\n                              </FormGroup>\n                            }\n                            </Col>\n                          </Row>\n                        </Col>\n                        <Col md=\"6\">\n                          <Row>\n                            {pageInfo && pageInfo._id !== '5ea5519c91aec75b7a387d4b' &&\n                              <Col md=\"6\">\n                                <FormGroup>\n                                  <label htmlFor=\"filterDate\" className=\"control-label\">\n                                    Filter Date By:\n                                  </label>\n                                  <Input\n                                    id=\"filterDate\"\n                                    name=\"filterDate\"\n                                    type=\"select\"\n                                    onChange={this.handleChangeFilterDate}\n                                    value={this.state.filterDate}\n                                  >\n                                    <option value=\"deliveryDate\">Delivery Date</option>\n                                    <option value=\"orderDate\">Date Ordered</option>\n                                    <option value=\"datePaid\">Date Paid</option>\n                                  </Input>\n                                </FormGroup>\n                              </Col>\n                            }\n                            {pageInfo && pageInfo._id === '5ea5519c91aec75b7a387d4b' &&\n                              <Col md=\"6\">\n                                <FormGroup>\n                                  <label className=\"control-label\">\n                                    Actions:\n                                  </label>\n                                  <Button\n                                    alt=\"Export\"\n                                    title=\"Export\"\n                                    className=\"btn btn-sm btn-round btn-info\"\n                                    onClick={this.exportList}\n                                    >\n                                    <Fa icon=\"file-excel\" />&nbsp;Export\n                                  </Button>\n                                </FormGroup>\n                              </Col>\n                            }\n                          </Row>\n                        </Col>\n                        <Col md=\"6\">\n                          <Row>\n                            <Col md=\"12\">\n                              <FormGroup>\n                                <label className=\"control-label\">\n                                  <Switch\n                                    onClick={this.handleToggleShowTests}\n                                    on={this.state.showTests}\n                                  />\n                                  &nbsp;Show Tests\n                                </label>\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                        </Col>\n                      </Row>\n                    </CardHeader>\n                    <CardBody  style={{ maxHeight: \"700px\", overflowY: \"auto\" }}>\n                      <Table className=\"tablesorter\" responsive striped style={{fontSize:\"13px\"}}>\n                        <thead className=\"text-primary\">\n                          <tr>\n                            <th>Customer</th>\n                            <th>Order No.</th>\n                            <th>Date Ordered</th>\n                            <th>Delivery Date</th>\n                            <th>Status</th>\n                            <th>Delivery Status</th>\n                          </tr>\n                        </thead>\n                        <tbody>{this.renderRows(this.state.orders)}</tbody>\n                      </Table>\n                    </CardBody>\n                    <CardFooter>\n                      <Row>\n                        <Col md=\"12\">\n                          {this.state.pagination &&\n                            this.state.pagination.total > 0 && (\n                              <>\n                                <Pagination\n                                  innerClass=\"pagination\"\n                                  activePage={this.state.activePage}\n                                  itemsCountPerPage={this.state.pagination.limit}\n                                  totalItemsCount={this.state.pagination.total}\n                                  pageRangeDisplayed={5}\n                                  onChange={this.handlePageChange}\n                                />\n                                <p>Page <em>{this.state.activePage}</em> of <em>{Math.ceil(this.state.pagination.total/this.state.pagination.limit)}</em> of <em>{this.state.pagination.total}</em> orders.</p>\n                              </>\n                            )}\n                        </Col>\n                      </Row>\n                    </CardFooter>\n                  </Card>\n                </Col>\n                <Col className=\"order-details\" lg=\"5\" md=\"5\" sm=\"12\" style={{ height: \"800px\", overflowY: \"auto\" }} id=\"\">\n                  {this.renderDetails(this.state.singleDetails)}\n                </Col>\n              </Row>\n              <LoadingOverlay\n                active={this.state.isGeneratingXls}\n                spinner\n                text='Generating...'\n                >\n              </LoadingOverlay>\n            </div>\n          );\n        } else {\n          return (this.renderNoProductsAdded());\n        }\n      } else {\n        return (this.renderPageNotVerified());\n      }\n    } else {\n      return (this.renderNoPageAdded());\n    }\n  }\n}\n\nconst lastSixDigit = (value) => {\n  let str = value.toString();\n  return new Array(str.length - 6 + 1).join(\"\") + str.slice(-6);\n};\n\nconst numberWithCommas = x => {\n  return priceRound(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n};\n\nconst priceRound = (price, dec) => {\n  if (dec === undefined) {\n    dec = 2;\n  }\n  if (price !== 0) {\n    if (!price || isNaN(price)) {\n      throw new Error(\"price is not a number\" + price);\n    }\n  }\n  const str = parseFloat(Math.round(price * 100) / 100).toFixed(dec);\n\n  return str;\n};\n\nconst mapStateToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  {\n    receivePayment,\n    saveNewStatus,\n    pickUp,\n    cancelAction,\n    checkIfMine,\n    fetchSingleOrderData\n  }\n)(Orders);","import api from '../../../config/api';\n\nexport const getOrders = (query,pageId,token,cb) => () => {\n  api(token).get('/provider/fetchOrders/'+pageId,{params: query})\n    .then(response => {\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\nexport const saveNewStatus = (query,pageId,token,cb) => () => {\n  const body = {confirmationCode : ''}\n  api(token).patch('/provider/orders/'+pageId,body)\n    .then(response => {\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\nexport const pickUp = (payloadData,pageId,token,cb) => () => {\n  api(token).patch('/business/order/transactions/update/'+pageId,payloadData)\n    .then(response => {\n      cb(response, null)\n    })\n    .catch(error => {\n      console.error(error)\n      cb(error, null);\n    })\n};\n\nexport const cancelAction = (id,messages,token,cb) => () => {\n  const body = messages;\n  api(token).post('/provider/cancel/'+id,body)\n    .then(response => {\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\nexport const checkIfMine = (id,pageId,token,cb) => () => {\n  const body = {page:pageId};\n  api(token).post('/provider/checkIfMine/'+id,body)\n    .then(response => {\n      cb(response, null)\n    })\n    .catch(error => {\n      cb(error, null);\n    })\n};\n\nexport const receivePayment = (paymentData,token,cb) => () => {\n  const body = {\n    totalPaid: paymentData.totalPaid,\n    customerCash: paymentData.customerCash,\n    deliveryFee: paymentData.deliveryFee,\n  };\n  api(token).post('/payments/' + paymentData.invoiceId, body).then(response => {\n    cb(response, null)\n  }).catch(error => {\n    cb(null, error);\n  })\n};\n\nexport const fetchSingleOrderData = (orderId, token, cb) => () => {\n  api(token).get('/merchant/fetchSingleOrderData/'+orderId).then(res => {\n    cb(null, res.data.order);\n  }).catch(error => {\n    cb(error, null);\n  })\n}\n","import React from \"react\";\nimport { getSession } from \"../../config/session\";\nimport { connect } from \"react-redux\";\nimport { getPageById } from \"../../layouts/Admin/actions/PageActions\";\nimport {\n  merchantApiLogin,\n  importProductsFromApi,\n  syncProductsFromAPI,\n  addProduct,\n  uploadPhotoByProductName,\n} from \"../../layouts/Admin/actions/ProductActions\";\nimport { PulseLoader } from \"react-spinners\";\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\n\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  FormGroup,\n  Form,\n  Input,\n  Row,\n  Col\n} from \"reactstrap\";\n\nclass UploadProductImages extends React.Component {\n  constructor(props) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    super(props);\n    this.state = {\n      userExist: false,\n      loginUrl: \"\",\n      apiUsername: \"\",\n      apiPassword: \"\",\n      productsUrl: \"\",\n      apiKey: \"\",\n      payload: \"\",\n      isLoading: true,\n      submitted: false,\n      isUploading: false,\n      userData: userData,\n      totalImages: 0,\n      files: null,\n      images: [],\n    };\n    \n    this.handleFileSelect = this.handleFileSelect.bind(this);\n    this.handleFileUpload = this.handleFileUpload.bind(this);\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    const sessionToken = userData.sessionToken;\n  \n    if (userData != null && pageId) {\n      this.props.getPageById(pageId, sessionToken, (error, result) => {\n        if (result) {\n          const pageObj = result.page;\n          setTimeout(() => {\n            this.setState({\n              pageExists: true,\n              loginUrl: (pageObj.privateApiInfo && pageObj.privateApiInfo.loginUrl) ? pageObj.privateApiInfo.loginUrl : \"\",\n              apiUsername: (pageObj.privateApiInfo && pageObj.privateApiInfo.username) ? pageObj.privateApiInfo.username : \"\",\n              apiPassword: (pageObj.privateApiInfo && pageObj.privateApiInfo.password) ? pageObj.privateApiInfo.password : \"\",\n              productsUrl: (pageObj.privateApiInfo && pageObj.privateApiInfo.productsUrl) ? pageObj.privateApiInfo.productsUrl : \"\",\n              apiKey: (pageObj.privateApiInfo && pageObj.privateApiInfo.apiKey) ? pageObj.privateApiInfo.apiKey : \"\",\n              isLoading: false\n            });\n          }, 2000);\n          \n        } else {\n          if(error) {\n            setTimeout(() => {\n              this.setState({ isLoading: false });\n            }, 2000);\n          }\n        }\n      });\n    } else {\n      setTimeout(() => {\n        this.setState({ isLoading: false });\n      }, 2000);\n    }\n  }\n\n  handleFileSelect = (e) => {\n    const files = e.target.files;\n    const filesArr = Array.from(files);\n    this.setState({files:files,totalImages:filesArr.length});\n  }\n\n  handleFileUpload = (e) => {\n    if (!window.confirm(\"Do you want to continue uploading?\")){\n      return false;\n    }\n    this.setState({isUploading:true});\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    let sessionToken = \"\";\n    if(userData) {\n      sessionToken = userData.sessionToken;\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n    let files;\n    let images = [];\n    if(this.state.files) {\n      files = this.state.files;\n      images = this.state.images;\n      const filesArr = Array.from(files);\n      let itemsProcessed = 0;\n      \n      filesArr.forEach(file => {\n        const productName = file.name.split('.').slice(0, -1).join('.');\n        const formData = new FormData();\n        formData.append('file', file);\n        formData.append('place', pageId);\n        this.props.uploadPhotoByProductName(productName, formData, sessionToken, (error, result) => {\n          if (!error && result) {\n            const photo = result;\n            if(photo._id) {\n              images.push(photo);\n              this.setState({images: images});\n            }\n          } else {\n            if (error) {\n              console.error(error.response);\n            }\n          }\n          itemsProcessed++;\n          if(itemsProcessed === filesArr.length) {\n            this.setState({files:null});\n            this.setState({images:[]});\n            this.setState({isUploading:false});\n            this.setState({totalImages:0});\n            this.showNotification('Image upload complete.');\n          }\n        });\n      });\n    } else {\n      this.setState({isUploading:false});\n      this.showNotificationError('No image(s) added. Please select and image.');\n    }\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      \n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  render() {\n    const divStyle = {\n      position: 'relative',\n      height: 200,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      borderWidth: 2,\n      borderColor: '#666',\n      borderStyle: 'solid',\n      borderRadius: 5\n    };\n\n    if(this.state.isLoading) {\n      return (\n        <>\n          <div className=\"content\">\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">Products Images - Bulk Upload</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <PulseLoader\n                      sizeUnit={\"px\"}\n                      size={15}\n                      color={'#1d8cf8'}\n                      loading={this.state.isLoading}\n                    />\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </>\n      );\n    } else {\n      if(this.state.pageExists) {\n        return (\n          <>\n            <div className=\"content\">\n              <div className=\"react-notification-alert-container\">\n                <NotificationAlert ref=\"notify\" />\n              </div>\n              <Row>\n                <Col lg=\"12\">\n                  <Card>\n                    <CardHeader>\n                      <h4 className=\"title\">Products Images - Bulk Upload</h4>\n                    </CardHeader>\n                    <CardBody>\n                      <Form>\n                        <Row>\n                          <Col md=\"12\" lg=\"8\">\n                          <FormGroup>\n                            <label htmlFor=\"images\">Select image(s)</label>\n                            <div style={{ margin: '10px auto', border: '1px solid #ccc', 'backgroundColor': '#efefef' }}>\n                              <Input name=\"images\" label='upload file' type='file' onChange={this.handleFileSelect} style={divStyle} multiple />\n                            </div>\n                            <label>{this.state.totalImages} image(s) selected</label>\n                          </FormGroup>\n                        </Col>\n                        </Row>\n                      </Form>\n                    </CardBody>\n                    <CardFooter>\n                      <Button className=\"btn-fill\" color=\"info\" type=\"button\" onClick={this.handleFileUpload}>\n                        Upload Photos\n                      </Button>\n                    </CardFooter>\n                  </Card>\n                </Col>\n              </Row>\n              <LoadingOverlay\n                active={this.state.isUploading}\n                spinner\n                text='Uploading Products...'\n                >\n              </LoadingOverlay>\n            </div>\n          </>\n        );\n      } else {\n        return(\n          <div className=\"content\">\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">No Page Added</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <p>You have not added a page yet. Please signup as a Provider/Merchant</p>\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        );\n      }\n    }\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(mapStateToProps,\n  {\n    getPageById,\n    merchantApiLogin,\n    importProductsFromApi,\n    syncProductsFromAPI,\n    addProduct,\n    uploadPhotoByProductName,\n  }\n)(UploadProductImages);","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getSession } from \"../../config/session\";\nimport { connect } from \"react-redux\";\nimport api from \"../../config/api\";\nimport { getPageById } from \"../../layouts/Admin/actions/PageActions\";\nimport {\n  merchantApiLogin,\n  addProduct,\n} from \"../../layouts/Admin/actions/ProductActions\";\nimport { FontAwesomeIcon as Fa } from \"@fortawesome/react-fontawesome\";\nimport NotificationAlert from \"react-notification-alert\";\nimport { PulseLoader } from \"react-spinners\";\nimport LoadingOverlay from 'react-loading-overlay';\nimport XLSX from 'xlsx';\n\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  FormGroup,\n  Form,\n  Nav,\n  Row,\n  Col\n} from \"reactstrap\";\n\nclass ImportCategories extends React.Component {\n  constructor(props) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    super(props);\n    this.state = {\n      userExist: false,\n      payload: \"\",\n      invalidJsonText: \"\",\n      categories: [],\n      file: {},\n      totalItems: 0,\n      isLoading: true,\n      submitted: false,\n      isUploading: false,\n      userData: userData,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ isLoading: false });\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      if(notification && this.refs.notify && this.refs.notify.notificationAlert) {\n        this.refs.notify.notificationAlert(notification);\n      }\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      if(notification && this.refs.notify && this.refs.notify.notificationAlert) {\n        this.refs.notify.notificationAlert(notification);\n      }\n    }\n  }\n\n  validatePayload = (e) => {\n    let { name, value } = e.target;\n    try  {\n      const arr = (JSON.parse(value));\n      if (arr) {\n        const categories = arr;\n        const totalItems = categories.length;\n        this.setState({\n          [name]: value,\n          categories,\n          totalItems,\n          invalidJsonText: \"\"\n        });\n      }\n    } \n    catch (err){\n      this.setState({invalidJsonText: \"Invalid JSON Payload\"});\n    }\n    \n  }\n\n  handleFileSelect = (e) => {\n    const file = e.target.files[0];\n    this.setState({file:file});\n  }\n\n  handleFileUpload = (e) => {\n    if (!window.confirm(\"Do you want to continue uploading the categories?\")){\n      return false;\n    }\n    this.setState({isUploading:true});\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    let sessionToken = \"\";\n    if(userData) {\n      sessionToken = userData.sessionToken;\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n    const { file } = this.state;\n    if(file && file instanceof File) {\n      if(file.type === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" || file.type === \"application/vnd.ms-excel\") {\n        const fileReader = new FileReader();\n        fileReader.onload = function(event) {\n          const data = event.target.result;\n          const workbook = XLSX.read(data, {\n            type: \"binary\"\n          });\n          workbook.SheetNames.forEach(sheet => {\n            let rowObject = XLSX.utils.sheet_to_row_object_array(\n              workbook.Sheets[sheet]\n            );\n            let jsonObject = JSON.stringify(rowObject);\n            const categoriesArr = JSON.parse(jsonObject)\n            const body = {\n              categories: categoriesArr\n            }\n            if(sessionToken && categoriesArr && categoriesArr instanceof Array && categoriesArr.length > 0 ) {\n              api(sessionToken).post(`/places/${pageId}/import-categories-from-excel`,body)\n                .then(resp => {\n                  if (resp.data) {\n                    if(resp.data.status === 'ok' && resp.data.message) {\n                      alert(resp.data.message);\n                    }\n                  } else {\n                    alert('There is an error uploading the categories. No response from server.');\n                  }\n                })\n                .catch(error => {\n                  console.log({error});\n                  if(typeof error === 'string') {\n                    alert(error);\n                  } else {\n                    alert('There is an error uploading the categories. Please try again.');\n                  }\n                });\n            }\n          });\n        };\n        fileReader.readAsBinaryString(this.state.file);\n        this.setState({isUploading:false});\n      } else {\n        this.setState({isUploading:false});\n        this.showNotificationError('Invalid Excel file. Please select an .xls or .xlsx file only.');\n      }\n    } else {\n      this.setState({isUploading:false});\n      this.showNotificationError('No file selected. Please select an excel file.');\n    }\n  }\n\n  renderVerticalNavBar() {\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    return(\n      <Nav vertical >\n        <Link className=\"nav-link-vertical active-link\" to=\"/import-categories-excel\">Import using Excel <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n        { pageInfo && pageInfo.pageType === '5cd141d10d437be772373ddb' &&\n          <Link className=\"nav-link-vertical\" to=\"/sync-product-categories\">Sync Product Categories <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n        }\n      </Nav>\n    );\n  }\n\n  render() {\n    if(this.state.isLoading) {\n      return (\n        <>\n          <div className=\"content\">\n            <div className=\"react-notification-alert-container\">\n              <NotificationAlert ref=\"notify\" />\n            </div>\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">Import Categories from Excel</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <Row>\n                      <Col className=\"pr-md-1\" sm=\"4\">\n                        {this.renderVerticalNavBar()}\n                      </Col>\n                      <Col className=\"pl-md-1\" sm=\"8\">\n                        <PulseLoader\n                          sizeUnit={\"px\"}\n                          size={15}\n                          color={'#1d8cf8'}\n                          loading={this.state.isLoading}\n                        />\n                      </Col>\n                    </Row>\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <div className=\"content\">\n            <div className=\"react-notification-alert-container\">\n              <NotificationAlert ref=\"notify\" />\n            </div>\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">Import Categories from Excel file</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <Row>\n                      <Col className=\"pr-md-1\" sm=\"4\">\n                        {this.renderVerticalNavBar()}\n                      </Col>\n                      <Col className=\"pl-md-1\" sm=\"8\">\n                        <Form>  \n                          <Row>\n                            <Col md=\"12\" sm=\"12\">\n                              <FormGroup\n                                className={\n                                  this.state.submitted &&\n                                  !this.state.payload\n                                    ? \" has-danger\"\n                                    : \"\"\n                                }\n                              >\n                                <label htmlFor=\"payload\" className=\"control-label\">Select Excel file to upload</label>\n                                <p className=\"text-danger\">{this.state.invalidJsonText}</p>\n                                <input type=\"file\" id=\"fileUploader\" name=\"fileUploader\" onChange={this.handleFileSelect} accept=\".xls, .xlsx\" style={{ opacity: 1, position: 'relative' }}/>\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                          <Row>\n                            <Col md=\"12\" sm=\"12\">\n                              <Button className=\"btn-fill btn-round\" color=\"info\" type=\"button\" onClick={this.handleFileUpload}>\n                                Upload Categories\n                              </Button>\n                            </Col>\n                          </Row>\n                        </Form>          \n                      </Col>\n                    </Row>\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n            <LoadingOverlay\n              active={this.state.isUploading}\n              spinner\n              text='Uploading categories...'\n              >\n            </LoadingOverlay>\n          </div>\n        </>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(mapStateToProps,\n  {\n    getPageById,\n    merchantApiLogin,\n    addProduct,\n  }\n)(ImportCategories);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getSession } from \"../../config/session\";\nimport { connect } from \"react-redux\";\nimport api from \"../../config/api\";\nimport { getPageById } from \"../../layouts/Admin/actions/PageActions\";\nimport {\n  merchantApiLogin,\n  importProductsFromApi,\n  syncProductsFromAPI,\n  addProduct,\n} from \"../../layouts/Admin/actions/ProductActions\";\nimport { FontAwesomeIcon as Fa } from \"@fortawesome/react-fontawesome\";\nimport { PulseLoader } from \"react-spinners\";\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\n\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  FormGroup,\n  Form,\n  Input,\n  Nav,\n  Row,\n  Col,\n} from \"reactstrap\";\n\nclass ImportProducts extends React.Component {\n  constructor(props) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    super(props);\n    this.state = {\n      userExist: false,\n      loginUrl: \"\",\n      apiUsername: \"\",\n      apiPassword: \"\",\n      productsUrl: \"\",\n      apiKey: \"\",\n      payload: \"\",\n      isLoading: true,\n      submitted: false,\n      isFetching: false,\n      userData: userData\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    const sessionToken = userData.sessionToken;\n  \n    if (userData != null && pageId) {\n      this.props.getPageById(pageId, sessionToken, (error, result) => {\n        if (result) {\n          const pageObj = result.page;\n          this.setState({\n            pageExists: true,\n            loginUrl: (pageObj.privateApiInfo && pageObj.privateApiInfo.loginUrl) ? pageObj.privateApiInfo.loginUrl : \"\",\n            apiUsername: (pageObj.privateApiInfo && pageObj.privateApiInfo.username) ? pageObj.privateApiInfo.username : \"\",\n            apiPassword: (pageObj.privateApiInfo && pageObj.privateApiInfo.password) ? pageObj.privateApiInfo.password : \"\",\n            productsUrl: (pageObj.privateApiInfo && pageObj.privateApiInfo.productsUrl) ? pageObj.privateApiInfo.productsUrl : \"\",\n            apiKey: (pageObj.privateApiInfo && pageObj.privateApiInfo.apiKey) ? pageObj.privateApiInfo.apiKey : \"\",\n            isLoading: false\n          });\n        } else {\n          if(error) {\n            this.setState({ isLoading: false });\n          }\n        }\n      });\n    } else {\n      this.setState({ isLoading: false });\n    }\n  }\n\n  handleChange = (e) => {\n    let { name, value, type } = e.target;\n    if (type === \"checkbox\") {\n      const checked = e.target.checked;\n      value = checked;\n    }\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSync = () => {\n    this.setState({ submitted: true });\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    const sessionToken = userData.sessionToken;\n    this.setState({ isFetching: true });\n    this.showNotification('Syncing categories. This may take a while. Please wait for few minutes');\n    api(sessionToken).post(`/places/${pageId}/sync-product-categories-from-api`,{placeId:pageId})\n      .then(resp => {\n        if (resp && resp.data) {\n          let added = 0;\n          let updated = 0;\n          const { categoriesUpdated, categoriesAdded } = resp.data;\n          if(categoriesAdded instanceof Array && categoriesAdded.length > 0) {\n            added = categoriesAdded.length;\n          }\n          if(categoriesUpdated && categoriesUpdated.nModified &&  categoriesUpdated.nModified > 0) {\n            updated = categoriesUpdated.nModified;\n          }\n          this.showNotification(`Sync complete! ${added} added. ${updated} updated.`);\n          this.setState({ isFetching: false });\n        }\n      })\n      .catch(err => {\n        console.log({err});\n        this.showNotificationError('An error occured! Please try again.');\n        this.setState({ isFetching: false });\n      });\n  }\n\n  handleSyncParent = () => {\n    this.setState({ submitted: true });\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    const sessionToken = userData.sessionToken;\n    this.setState({ isFetching: true });\n    this.showNotification('Syncing categories. This may take a while. Please wait for few minutes');\n    api(sessionToken).post(`/places/${pageId}/update-product-categories-parent-from-api`,{placeId:pageId})\n      .then(resp => {\n        if (resp && resp.data) {\n          this.showNotification(`Sync completed.`);\n          this.setState({ isFetching: false });\n        }\n      })\n      .catch(err => {\n        console.log({err});\n        this.showNotificationError('An error occured! Please try again.');\n        this.setState({ isFetching: false });\n      });\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 3\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      \n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 3\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  render() {\n    if(this.state.isLoading) {\n      return (\n        <>\n          <div className=\"content\">\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">Import Products from API</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <Row>\n                      <Col className=\"pr-md-1\" sm=\"4\">\n                        <Nav vertical >\n                          <Link className=\"nav-link-vertical\" to=\"/import-categories-excel\">Import using Excel <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                          <Link className=\"nav-link-vertical active-link\" to=\"/sync-product-categories\">Sync Product Categories <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                        </Nav>\n                      </Col>\n                      <Col className=\"pl-md-1\" sm=\"8\">\n                        <PulseLoader\n                          sizeUnit={\"px\"}\n                          size={15}\n                          color={'#1d8cf8'}\n                          loading={this.state.isLoading}\n                        />\n                      </Col>\n                    </Row>\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </>\n      );\n    } else {\n      if(this.state.pageExists) {\n        return (\n          <>\n            <div className=\"content\">\n              <div className=\"react-notification-alert-container\">\n                <NotificationAlert ref=\"notify\" />\n              </div>\n              <Row>\n                <Col sm=\"12\" md=\"12\" lg=\"12\">\n                  <Card>\n                    <CardHeader>\n                      <h4 className=\"title\">Syc Product Categories from API</h4>\n                    </CardHeader>\n                    <CardBody>\n                      <Row>\n                        <Col className=\"pr-md-1\" sm=\"4\">\n                          <Nav vertical >\n                            <Link className=\"nav-link-vertical\" to=\"/import-categories-excel\">Import using Excel <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                            <Link className=\"nav-link-vertical active-link\" to=\"/sync-product-categories\">Sync Product Categories <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                          </Nav>\n                        </Col>\n                        <Col className=\"pl-md-1\" sm=\"8\">\n                          <Form>\n                            <Row>\n                              <Col md=\"12\" sm=\"12\">\n                                <FormGroup\n                                  className={\n                                    this.state.submitted &&\n                                    !this.state.productsUrl\n                                      ? \" has-danger\"\n                                      : \"\"\n                                  }\n                                >\n                                  <label htmlFor=\"productsUrl\" className=\"control-label\">\n                                    Product Categories URL\n                                  </label>\n                                  <Input\n                                    id=\"productsUrl\"\n                                    name=\"productsUrl\"\n                                    placeholder=\"Products URL\"\n                                    type=\"text\"\n                                    defaultValue={this.state.productsUrl}\n                                    onChange={this.handleChange}\n                                    autoComplete=\"off\"\n                                  />\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col md=\"12\" sm=\"12\">\n                                <FormGroup\n                                  className={\n                                    this.state.submitted &&\n                                    !this.state.apiKey\n                                      ? \" has-danger\"\n                                      : \"\"\n                                  }\n                                >\n                                  <label htmlFor=\"apiKey\" className=\"control-label\">\n                                    API Key\n                                  </label>\n                                  <Input\n                                    id=\"apiKey\"\n                                    name=\"apiKey\"\n                                    placeholder=\"API Key\"\n                                    type=\"text\"\n                                    value={this.state.apiKey}\n                                    onChange={this.handleChange}\n                                    autoComplete=\"off\"\n                                  />\n                                </FormGroup>\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col md=\"12\" sm=\"12\">\n                                <Button className=\"btn-fill btn-round\" color=\"info\" type=\"button\" onClick={this.handleSync}>\n                                  Sync Categories\n                                </Button>\n                                <Button className=\"btn-fill btn-round\" color=\"info\" type=\"button\" onClick={this.handleSyncParent}>\n                                  Update Parent Categories\n                                </Button>\n                              </Col>\n                            </Row>\n                          </Form>\n                        </Col>\n                      </Row>\n                    </CardBody>\n                  </Card>\n                </Col>\n              </Row>\n              <LoadingOverlay\n                active={this.state.isFetching}\n                spinner\n                text='Syncing Products...'\n                >\n              </LoadingOverlay>\n            </div>\n          </>\n        );\n      } else {\n        return(\n          <div className=\"content\">\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">No Page Added</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <Row>\n                      <Col className=\"pr-md-1\" sm=\"4\">\n                        <Nav vertical >\n                          <Link className=\"nav-link-vertical\" to=\"/import-categories-excel\">Import using Excel <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                          <Link className=\"nav-link-vertical active-link\" to=\"/sync-product-categories\">Sync Product Categories <span style={{float:\"right\"}}><Fa icon=\"chevron-right\" /></span></Link>\n                        </Nav>\n                      </Col>\n                      <Col className=\"pl-md-1\" sm=\"8\">\n                        <p>You have not added a page yet. Please signup as a Provider/Merchant</p>\n                      </Col>\n                    </Row>    \n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        );\n      }\n    }\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(mapStateToProps,\n  {\n    getPageById,\n    merchantApiLogin,\n    importProductsFromApi,\n    syncProductsFromAPI,\n    addProduct,\n  }\n)(ImportProducts);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getSession, setSession } from \"../config/session\";\nimport { connect } from \"react-redux\";  \nimport { getPageById, updatePage } from \"../layouts/Admin/actions/PageActions\";\nimport { PulseLoader } from 'react-spinners';\nimport { FontAwesomeIcon as Fa } from '@fortawesome/react-fontawesome';\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\n\nimport {\n  Alert,\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  FormGroup,\n  Form,\n  Input,\n  ListGroup,\n  ListGroupItem,\n  Row,\n  Col\n} from \"reactstrap\";\n\nclass Activate extends React.Component {\n  constructor(props) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    let userInfo = {};\n    if (userData !== null) {\n      userInfo = userData.info;\n    }\n    super(props);\n    this.state = {\n      userExist: false,\n      page:{},\n      isLoading: false,\n      isSaving: false,\n      submitted: false,\n      activateAccount: false,\n      hasMissingInfo: false,\n      user: {\n        firstName: userInfo.firstName,\n        lastName: userInfo.lastName,\n        email: userData.email,\n        phoneNumber: userInfo.mobileNumber,\n        homeAddress: userInfo.homeAddress,\n        photos: userInfo.photos ? userInfo.photos : null,\n      }\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    const sessionToken = userData.sessionToken;\n    if (defaultPage && userData && sessionToken) {\n      this.props.getPageById(defaultPage, sessionToken, (error, result) => {\n        if (error) {\n          this.setState({ isLoading: false });\n          if(error.response && typeof error.response === 'string' ) {\n            this.showNotificationError(error.response);\n          } else {\n            this.showNotificationError('There is a error retrieving the page information');\n          }\n        } \n        if(result) {\n          this.setState({ \n            activateAccount: result.page.isActive,\n            page: result.page\n          });\n          setTimeout(() => {\n            this.setState({isLoading: false});\n          }, 3000);\n        } else {\n          this.setState({ isLoading: false });\n        }\n      });\n    }\n  }\n\n  handleCheckActivate = (e) => {\n    let { type } = e.target;\n    let checked = false\n    if (type === \"checkbox\") {\n      checked = e.target.checked ? true : false;\n    }\n    this.setState({activateAccount:checked});\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    let hasMissingInfo = false;\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let userData = JSON.parse(getSession(\"userData\"));\n    let hasProducts = JSON.parse(getSession(\"hasProducts\"));\n    let hasCategories = JSON.parse(getSession(\"hasCategories\"));\n    const place = { \n      isActive: this.state.activateAccount,\n      hideTutorials: false\n    }\n    let sessionToken = \"\";\n    if(userData) {\n      sessionToken = userData.sessionToken;\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n\n    if (pageInfo) {\n      let bankName = '';\n      let accountName = '';\n      let accountNumber = '';\n      if(pageInfo.bankaccount) {\n        const { bankaccount } = pageInfo;\n        bankName = bankaccount.bankName;\n        accountName = bankaccount.accountName;\n        accountNumber = bankaccount.accountNumber;\n      }\n\n      if(bankName === '' || accountName === '' || accountNumber === '') {\n        hasMissingInfo = true;\n      }\n      if(hasCategories === false) {\n        hasMissingInfo = true;\n      }\n      if(hasProducts === false) {\n        hasMissingInfo = true;\n      }\n      if(this.state.activateAccount === true) {\n        if(hasMissingInfo === false) {\n          if (!window.confirm(\"Are you sure you want to activate your store?\")) {\n            return false;\n          }\n          this.setState({ submitted: true, isSaving: true });\n          this.props.updatePage(place, pageInfo._id, sessionToken, (error, result) => {\n            if (result) {\n              const pageInfoUpdated = {\n                _id: pageInfo._id,\n                name: pageInfo.name,\n                addressLine1: pageInfo.addressLine1,\n                city: pageInfo.city,\n                country: pageInfo.country,\n                province: pageInfo.province,\n                postalCode: pageInfo.postalCode,\n                pageType: pageInfo.pageType,\n                bankaccount: pageInfo.bankaccount,\n                isVerified: pageInfo.isVerified,\n                isActive: place.isActive,\n                photos: pageInfo.photos,\n                useCreatedProductCategory: pageInfo.useCreatedProductCategory,\n                hideTutorials: false,\n                productUploadXLSEnabled: pageInfo.productUploadXLSEnabled ? true : false,\n                productVouchersEnabled: pageInfo.productVouchersEnabled ? true : false\n              }\n              setSession('pageInfo',JSON.stringify(pageInfoUpdated));\n              this.showNotification('Your store has been activated. Complete the store information and add products to start selling.');\n              setTimeout(() => {\n                this.setState({submitted: false, isSaving: false,\n                });\n                this.props.history.push(\"/page\");\n                window.location.reload();\n              }, 3000);\n            } else {\n              if (error) {\n                if(typeof error.error === 'string') {\n                  setTimeout(() => { \n                    this.setState({ submitted: false, isSaving: false }); \n                    this.showNotificationError(error.error);\n                  }, 1000);\n                }\n              } else {\n                setTimeout(() => { \n                  this.setState({ submitted: false, isSaving: false }); \n                  this.showNotificationError('An unknown error occured. Please try again.');\n                }, 1000);\n              }\n            }\n          });\n        } else {\n          this.setState({ submitted: true });\n          this.showNotificationError('Cannot activate your store. Please complete all the requirements to proceed!');\n        }\n      } else {\n        setTimeout(() => { this.setState({ submitted: false, isSaving: false }); }, 1000);\n        this.showNotificationError('Please check the box to activate you account!');\n      }\n    } else {\n      setTimeout(() => { this.setState({ submitted: false, isSaving: false }); }, 1000);\n      this.showNotificationError('Page information not found.');\n    }\n  }\n\n  renderActivatePage() {\n    return(\n      <>\n        <div className=\"content\">\n          <div className=\"react-notification-alert-container\">\n            <NotificationAlert ref=\"notify\" />\n          </div>\n          <Row>\n            <Col md=\"12\">\n              <Card>\n                <CardHeader>\n                  <h4 className=\"title\">Just One More  Step - Account Activation</h4>\n                </CardHeader>\n                <CardBody>\n                  <Row>\n                    <Col sm=\"12\">\n                      <Row>\n                        <Col sm=\"12\">\n                          <FormGroup>\n                            <label className=\"control-label\">Great Job! Your almost done!</label>\n                          </FormGroup>\n                        </Col>\n                      </Row>\n                      <Row>\n                        <Col sm=\"12\" style={{marginBottom:'1rem'}}>\n                          {this.renderChecklist(this.state.page)}\n                        </Col>\n                      </Row>\n                      <Row>\n                        <Col sm=\"12\">\n                          <p>\n                            We at StreetBy is commited in giving  great customer  experience, with that said, we have prepare some articles, documents to you to study and learned how to accept order, manage orders, communicate with riders and how to handle different scenarios.\n                          </p><br/>\n                          <p>\n                            Please have  a detail look on the links below and learned how to give great customers experience to our users.\n                          </p>\n                        </Col>\n                      </Row>\n                      <Row>\n                        <Col md=\"12\" style={{ marginTop: '15px' }}>\n                          <Form>\n                            <FormGroup>\n                              <label style={{ marginTop: '15px' }}>\n                                <Input\n                                  type=\"checkbox\"\n                                  className=\"enable-disable-checkbox\"\n                                  id=\"activateAccount\"\n                                  name=\"activateAccount\"\n                                  checked={this.state.activateAccount}\n                                  onChange={this.handleCheckActivate}\n                                />\n                                <span className=\"form-check-sign\">\n                                  <span className=\"check\" />\n                                </span>\n                                <label className=\"control-label\">I have read and understand all the topics above.</label>\n                              </label>\n                            </FormGroup>\n                            <FormGroup>\n                              <Button className=\"btn-fill btn-round\" color=\"info\" type=\"submit\" onClick={this.handleSubmit}>\n                                I’M READY TO ACCEPT ORDERS\n                              </Button>\n                            </FormGroup>\n                          </Form>\n                        </Col>\n                      </Row>\n                    </Col>\n                  </Row>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n        <LoadingOverlay\n          active={this.state.isSaving}\n          spinner\n          text='Saving...'\n          >\n        </LoadingOverlay>\n      </>\n    );\n  }\n\n  renderPageActive() {\n    return (\n      <>\n        <div className=\"content\">\n          <div className=\"react-notification-alert-container\">\n            <NotificationAlert ref=\"notify\" />\n          </div>\n          <Row>\n            <Col sm=\"12\" md=\"12\" lg=\"12\">\n              <Card>\n                <CardBody>\n                  <Alert color=\"danger\">\n                    <h4 className=\"alert-heading\">Store is already activated.</h4>\n                    <hr />\n                    <p className=\"mb-0\">\n                      You cannot activate this store because it is already activated. Click{\" \"} <Link to=\"/page\">here</Link> {\" \"}to view the store information.\n                    </p>\n                  </Alert>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n      </>\n    );\n  }\n\n  renderNoProductsAdded() {\n    return (\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">No Products Added</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You need to add a product before you can activate your store. Click{\" \"} <Link to=\"/products/new\">here</Link> {\" \"}to add a product.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderNoPageAdded() {\n    return (\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">No Page Added</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You have not added a page yet. Click{\" \"} <Link to=\"/add-page\">here</Link> {\" \"}to add a new page.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderChecklist(page) {\n    const hasCategories = JSON.parse(getSession(\"hasCategories\"));\n    const hasProducts = JSON.parse(getSession(\"hasProducts\"));\n    const bankaccount = page && page.bankaccount ? page.bankaccount : {}\n    if(page && page.isVerified) {\n      return(\n        <ListGroup>\n          {page && page.isVerified === true ?\n            <ListGroupItem className=\"text-success-v2\"><Fa icon=\"check-circle\" /> Agreed to Terms & Policies</ListGroupItem> :\n            <ListGroupItem className=\"text-danger-v2\"><Fa icon=\"times-circle\" /> Agreed to Terms & Policies</ListGroupItem> }\n          {hasCategories ?\n            <ListGroupItem className=\"text-success-v2\"><Fa icon=\"check-circle\" /> Categories</ListGroupItem> :\n            <ListGroupItem className=\"text-danger-v2\"><Fa icon=\"times-circle\" /> Categories</ListGroupItem> }\n          {hasProducts ?\n            <ListGroupItem className=\"text-success-v2\"><Fa icon=\"check-circle\" /> Products</ListGroupItem> :\n            <ListGroupItem className=\"text-danger-v2\"><Fa icon=\"times-circle\" /> Products</ListGroupItem> }\n          {bankaccount && bankaccount.bankName && bankaccount.accountName && bankaccount.accountNumber ?\n            <ListGroupItem className=\"text-success-v2\"><Fa icon=\"check-circle\" /> Bank Account</ListGroupItem> :\n            <ListGroupItem className=\"text-danger-v2\"><Fa icon=\"times-circle\" /> Bank Account</ListGroupItem>}\n        </ListGroup>\n      );\n    } else {\n      return(\n        <ListGroup>\n          <ListGroupItem><Fa icon=\"question-circle\" /> Agreed to Terms & Policies</ListGroupItem>\n          <ListGroupItem><Fa icon=\"question-circle\" /> Categories</ListGroupItem>\n          <ListGroupItem><Fa icon=\"question-circle\" /> Products</ListGroupItem>\n          <ListGroupItem><Fa icon=\"question-circle\" /> Bank Account</ListGroupItem>\n        </ListGroup>\n      );\n    }\n  }\n\n  render() {\n    const hasProducts = JSON.parse(getSession(\"hasProducts\"));\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    if(this.state.isLoading) {\n      return (\n        <>\n          <div className=\"content\">\n            <div className=\"react-notification-alert-container\">\n              <NotificationAlert ref=\"notify\" />\n            </div>\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h4 className=\"title\">Activate Store</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <PulseLoader\n                      sizeUnit={\"px\"}\n                      size={15}\n                      color={'#1d8cf8'}\n                      loading={this.state.isLoading}\n                    />\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </>\n      );\n    } else {\n      if(pageInfo && pageInfo._id) {\n        if(pageInfo.isActive === true) {\n          return(this.renderPageActive());\n        } else {\n          if(hasProducts) {\n            return (this.renderActivatePage());\n          } else {\n            return (this.renderNoProductsAdded());\n          }\n        }\n      } else {\n        return (this.renderNoPageAdded());\n      }\n    }\n  }\n}\n\nconst mapStateToProps = () => ({});\n\n//export default UserProfile;\nexport default connect(mapStateToProps,{getPageById, updatePage})(Activate);","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getSession, setSession } from \"../config/session\";\nimport { connect } from \"react-redux\";  \nimport { getPageById, updatePage } from \"../layouts/Admin/actions/PageActions\";\nimport { PulseLoader } from 'react-spinners';\nimport NotificationAlert from \"react-notification-alert\";\nimport LoadingOverlay from 'react-loading-overlay';\n\nimport {\n  Alert,\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  FormGroup,\n  Form,\n  Input,\n  Nav,\n  NavItem,\n  NavLink,\n  Row,\n  Col\n} from \"reactstrap\";\n\nclass Agreement extends React.Component {\n  constructor(props) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    let userInfo = {};\n    if (userData !== null) {\n      userInfo = userData.info;\n    }\n    super(props);\n    this.state = {\n      pageInfo: {},\n      userExist: false,\n      isLoading: false,\n      isSaving: false,\n      submitted: false,\n      iAgree: false,\n      user: {\n        firstName: userInfo.firstName,\n        lastName: userInfo.lastName,\n        email: userData.email,\n        phoneNumber: userInfo.mobileNumber,\n        homeAddress: userInfo.homeAddress,\n        photos: userInfo.photos ? userInfo.photos : null,\n      },\n      activeStep: 'step0',\n    };\n  }\n\n  componentDidMount() {\n    const userData = JSON.parse(getSession(\"userData\"));\n    const defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    const sessionToken = userData.sessionToken;\n    if (defaultPage && userData && sessionToken) {\n      this.props.getPageById(defaultPage, sessionToken, (error, result) => {\n        if (error) {\n          this.setState({ isLoading: false });\n          if(error.response && typeof error.response === 'string' ) {\n            this.showNotificationError(error.response);\n          } else {\n            this.showNotificationError('There is an error retrieving the page information.');\n          }\n        } \n        if(result) {\n          this.setState({\n            pageInfo: result.page,\n            isLoading: false, \n            iAgree: result.page.isVerified ? result.page.isVerified : false\n          });\n        } else {\n          this.setState({ isLoading: false });\n        }\n      });\n    }\n  }\n\n  handleCheckAgree = (e) => {\n    let { type } = e.target;\n    let checked = false\n    if (type === \"checkbox\") {\n      checked = e.target.checked ? true : false;\n    }\n    this.setState({iAgree:checked});\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      this.refs.notify.notificationAlert(notification);\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    let pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    let userData = JSON.parse(getSession(\"userData\"));\n    const place = { \n      isVerified: this.state.iAgree,\n      isActive: this.state.activateAccount,\n      dateAgreed: new Date().toISOString()\n    }\n    let sessionToken = \"\";\n    if(userData) {\n      sessionToken = userData.sessionToken;\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n\n    if (pageInfo) {\n      if(this.state.iAgree === true) {\n        if (!window.confirm(\"Do you want to save these changes?\")) {\n          return false;\n        }\n        this.setState({ submitted: true, isSaving: true });\n        this.props.updatePage(place, pageInfo._id, sessionToken, (error, result) => {\n          if (result) {\n            const pageInfoUpdated = {\n              _id: pageInfo._id,\n              name: pageInfo.name,\n              addressLine1: pageInfo.addressLine1,\n              city: pageInfo.city,\n              country: pageInfo.country,\n              province: pageInfo.province,\n              postalCode: pageInfo.postalCode,\n              pageType: pageInfo.pageType,\n              bankaccount: pageInfo.bankaccount,\n              isVerified: place.isVerified,\n              isActive: pageInfo.isActive,\n              photos: pageInfo.photos,\n              useCreatedProductCategory: pageInfo.useCreatedProductCategory,\n              hideTutorials: pageInfo.hideTutorials,\n              productUploadXLSEnabled: pageInfo.productUploadXLSEnabled ? true : false,\n              productVouchersEnabled: pageInfo.productVouchersEnabled ? true : false\n            }\n            setSession('pageInfo',JSON.stringify(pageInfoUpdated));\n            this.showNotification('You successfully agreed to our Terms & Conditions. You proceed creating your produt categories!');\n            setTimeout(() => {\n              this.setState({\n                submitted: false,\n                isSaving: false\n              });\n              this.props.history.push(\"/page\");\n            }, 1000);\n          } else {\n            if (error) {\n              if(typeof error.error === 'string') {\n                setTimeout(() => { \n                  this.setState({ submitted: false, isSaving: false }); \n                  this.showNotificationError(error.error);\n                }, 1000);\n              }\n            } else {\n              setTimeout(() => { \n                this.setState({ submitted: false, isSaving: false }); \n                this.showNotificationError('An unknown error occured. Please try again.');\n              }, 1000);\n            }\n          }\n        });\n      } else {\n        this.setState({ submitted: true });\n        this.showNotificationError('You must agree with our Terms & Conditions to proceed!');\n      }\n    } else {\n      setTimeout(() => { this.setState({ submitted: false, isSaving: false }); }, 1000);\n      this.showNotificationError('Page information not found.');\n    }\n  }\n\n  renderVerticalNavBar() {\n    return(\n      <Nav vertical >\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'step0' ? \" active-link\" : \"\")} href=\"#intro\" \n            onClick={() => { this.setState({activeStep: 'step0' } ) }}\n          >\n            Introduction\n          </NavLink> \n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'step1' ? \" active-link\" : \"\") } href=\"#step1\" \n            onClick={() => { this.setState({ activeStep: 'step1' } ); }}\n          >\n            1&middot;  Mobile App Service\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'step2' ? \" active-link\" : \"\") } href=\"#step2\" \n            onClick={() => { this.setState({ activeStep: 'step2' } ); }}\n          >\n            2&middot; Provider Page Creation, Verification, and Activation\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'step3' ? \" active-link\" : \"\") } href=\"#step3\" \n            onClick={() => { this.setState({ activeStep: 'step3' } ); }}\n          >\n            3&middot; Publication of Products and Services\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'step4' ? \" active-link\" : \"\") } href=\"#step4\" \n            onClick={() => { this.setState({ activeStep: 'step4' } ); }}\n          >\n            4&middot; Payment Methods\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'step5' ? \" active-link\" : \"\") } href=\"#step5\" \n            onClick={() => { this.setState({ activeStep: 'step5' } ); }}\n          >\n            5&middot; Orders and User Payments\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'step6' ? \" active-link\" : \"\") } href=\"#step6\" \n            onClick={() => { this.setState({ activeStep: 'step6' } ); }}\n          >\n            6&middot; StreetBy Pay - Discounts, Promos, Points, and Wallet\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'step7' ? \" active-link\" : \"\") }    href=\"#step7\" \n            onClick={() => { this.setState({ activeStep: 'step7' } ); }}\n          >\n            7&middot; Other Charges\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'step8' ? \" active-link\" : \"\") }    href=\"#step8\" \n            onClick={() => { this.setState({ activeStep: 'step8' } ); }}\n          >\n            8&middot; Delivery\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'step9' ? \" active-link\" : \"\") }    href=\"#step9\" \n            onClick={() => { this.setState({ activeStep: 'step9' } ); }}\n          >\n            9&middot; StreetBy Commission and Billing\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'step10' ? \" active-link\" : \"\") }    href=\"#step10\" \n            onClick={() => { this.setState({ activeStep: 'step10' } ); }}\n          >\n            10&middot; Infractions\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'step11' ? \" active-link\" : \"\") }    href=\"#step11\" \n            onClick={() => { this.setState({ activeStep: 'step11' } ); }}\n          >\n            11&middot; App Limitations\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'step12' ? \" active-link\" : \"\") }    href=\"#step12\" \n            onClick={() => { this.setState({ activeStep: 'step12' } ); }}\n          >\n            12&middot; Version Updates\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'step13' ? \" active-link\" : \"\") }    href=\"#step13\" \n            onClick={() => { this.setState({ activeStep: 'step13' } ); }}\n          >\n            13&middot; Termination\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink className={\"nav-link-vertical\" + (this.state.activeStep && this.state.activeStep === 'step14' ? \" active-link\" : \"\") }    href=\"#step14\" \n            onClick={() => { this.setState({ activeStep: 'step14' } ); }}\n          >\n            14&middot; Amendments\n          </NavLink>\n        </NavItem>\n      </Nav>\n    );\n  }\n\n  renderStep0() {\n    return(\n      <>\n        <p id=\"intro\">\n          These Terms and Conditions (\"Terms\") constitute a legally binding agreement (“Agreement”) between Agila Innovations, Inc., a \n          company incorporated pursuant to the laws of the Philippines, with principal office address at Unit 301 3rd Floor, Starry Bldg., \n          Max Y. Suniel St., Carmen, Cagayan de Oro City, Philippines, in its capacity as the provider of the mobile application lifestyle \n          platform \"StreetBy\", and [Full Business Name]  duly organized and existing under the laws of the Philippines, with principal \n          address at [Complete Primary Address]  represented herein by its [Position of the Representative], [Name of Representative] for \n          the provision of the following services:\n        </p>\n        <p>In this Agreement, the words:</p>\n        <p>\"we,\" \"us,\" \"our\" and \"StreetBy\" are used to refer to Agila Innovations, Inc. registered  under SEC registration number \n          CS201705224 and developer of the StreetBy mobile application;\n        </p>  \n        <p>\"you\" or \"your\", “Provider” and “merchant” is used to refer to [Full Business Name];</p>\n        <p>\n          \"consumer\", “customer” and  “user”  are used to refer to a natural person who uses the StreetBy mobile application (StreetBy \n          Mobile App”) and purchases products and services made available by the Provider via the StreetBy mobile application;\n        </p>\n        <p>“page” is used to refer to the business page created by [Full Business Name] for their Provider page;</p>\n        <p>“products and services” is used to refer to the products or services of the Provider published and sold on the StreetBy platform;</p>\n        <p>\"prices” or “rates” are used to refer to the selling price of the product or service of the Merchant;</p>\n        <p>“PayPal” is the online payment gateway for online credit and debit card payments;</p>\n        <p>\n          “payment gateway” is used to refer to a service which facilitates a payment transaction by the transfer of information between a \n          payment portal (such as a website, mobile phone or interactive voice response service) and the front end processor or acquiring \n          bank;\n        </p>  \n        <p>“Platform” is used to refer to the StreetBy Online platform service; an online marketplace that places one party in touch with \n          another, such as the Provider and the consumers.\n        </p>\n      </>\n    )\n  }\n\n  renderStep1() {\n    return(\n      <>\n        <h3 id=\"step1\">1&middot; Mobile App Service</h3>\n        <ul>\n          <li>\n            <span className=\"txt-bold\">1.1</span>&middot; StreetBy Mobile App is a marketplace platform for various products and services published by partner \n            merchants and features a StreetBy Provider Solution, by which partner merchants can publish their products and services.\n          </li>\n          <li>\n            <span className=\"txt-bold\">1.2</span>&middot; Your usage of this StreetBy Provider Solution signifies you’ve agreed to the StreetBy User Terms and \n            Conditions pertaining to the Ratings and Reviews, Refunds and Returns, Notifications, Trademarks and Copyrights, Prohibited \n            Activities, Cookies, and Privacy Policy.\n          </li>\n          <li>\n            <span className=\"txt-bold\">1.3</span>&middot; StreetBy shall charge Provider a transactional fee equivalent to a percentage commission for every paid  \n            transaction booked through the StreetBy Mobile App.\n          </li>\n          <li>\n            <span className=\"txt-bold\">1.4</span>&middot; StreetBy will assist User regarding StreetBy Mobile App technical issues.\n          </li>\n          <li>\n            <span className=\"txt-bold\">1.5</span>&middot; StreetBy shall carry out maintenance measures that ensure the proper or improved functioning of StreetBy \n            Mobile App. StreetBy may improve, enhance and modify the StreetBy Provider Solution and introduce new StreetBy services from \n            time to time;\n          </li>\n          <li>\n            <span className=\"txt-bold\">1.6</span>&middot; If you access or download the mobile application from the Apple App Store, you agree to Apple’s Licensed Application \n            End User License Agreement.\n          </li>\n        </ul>\n      </>\n    )\n  }\n\n  renderStep2() {\n    return(\n      <>\n        <h3 id=\"step2\">2&middot; Provider Page Creation, Verification, and Activation</h3>\n        <ul>\n          <li>\n            <span className=\"txt-bold\">2.1</span>&middot; The account (email and password) used upon registering as a User will serve as your account as a Provider.\n          </li>\n          <li>\n            <span className=\"txt-bold\">2.2</span>&middot; You agree to provide, maintain and update true, accurate, current, active, and complete information about your business as \n            prompted by the page creation process.\n          </li>\n          <li>\n            <span className=\"txt-bold\">2.3</span>&middot; You are allowed to create multiple pages under one Provider account.\n          </li>\n          <li>\n            <span className=\"txt-bold\">2.4</span>&middot; You are required to provide complete business information upon page creation. The following information required on page \n            setup will include but are not limited to, the following:\n          </li>\n            <ul>\n              <li>\n                Page name – name of business;\n              </li>\n              <li>\n                Email address – active email address;\n              </li>\n              <li>\n                Contact number/s – active mobile and landline numbers;\n              </li>\n              <li>\n                Bank account – bank account details (account name, number, and bank name);\n              </li>\n            </ul>\n          <li>\n            <span className=\"txt-bold\">2.5</span>&middot; You will be provided a verification code via short messaging service after submitting your mobile number.\n          </li>\n          <li>\n            <span className=\"txt-bold\">2.6</span>&middot; You may not impersonate any person or entity or misrepresent your identity or affiliation with any person or entity, \n            including using another person’s username, password, or other account information.\n          </li>\n          <li>\n            <span className=\"txt-bold\">2.7</span>&middot; You are entirely responsible for maintaining the confidentiality of your password and account and for all the activity you \n            made. If you believe that your account has been compromised, you must immediately contact us by email at: support@streetby.com.\n            You agree to hold harmless StreetBy for losses incurred by you or another party due to someone else using your account as a \n            result of your failure to safeguard your password.\n          </li>\n          <li>\n            <span className=\"txt-bold\">2.8</span>&middot; StreetBy shall conduct page verification after initial page setup. For this purpose, you may be requested to submit \n            documents necessary to verify your business existence and ownership.\n          </li>\n          <li>\n            <span className=\"txt-bold\">2.9</span>&middot; StreetBy shall activate the page once the setup and verification process are complete.\n          </li>\n        </ul>\n      </>\n    );\n  }\n\n  renderStep3() {\n    return(\n      <>\n        <h3 id=\"step3\">3&middot; Publication of Products and Services</h3>\n        <ul>\n          <li>\n            <span className=\"txt-bold\">3.1</span>&middot; You may add products and services you intend to sell on the StreetBy Mobile App. \n          </li>\n          <li>\n            <span className=\"txt-bold\">3.2</span>&middot; Mark-up will be allowed, provided that prices will remain reasonable and competitive in the market.\n          </li>\n          <li>\n            <span className=\"txt-bold\">3.3</span>&middot; You shall update the accurate information of the published product and services as necessary.\n          </li>\n          <li>\n            <span className=\"txt-bold\">3.4</span>&middot; StreetBy shall render the necessary assistance in setting up the Provider’s pages, or in publishing products and \n            information, as requested by the Provider.\n          </li>  \n          <li>\n            <span className=\"txt-bold\">3.5</span>&middot; You shall ensure that the product information, related content materials, and the offer and subsequent sale of any of the \n            products and services, comply with applicable Laws (including all minimum age, marking and labelling requirements, product \n            warranties, specifications, drawings, samples, and performance criteria) and do not contain any sexually explicit and implicit \n            (except to the extent expressly permitted in written form by StreetBy and allowed under applicable Laws), defamatory, or obscene \n            materials.\n          </li>\n        </ul>\n      </>\n    );\n  }\n\n  renderStep4() {\n    return(\n      <>\n        <h3 id=\"step4\">4&middot; Payment Methods</h3>\n        <ul>\n          <li>\n            <span className=\"txt-bold\">4.1</span>&middot; You are required to accept from three (3) modes of payment for StreetBy Mobile App transactions: (a) cash; (b) credit or \n            debit card through a payment gateway; and (c) PayPal account through PayPal gateway (d) GCash., in accordance with Section 9 \n            hereof. Charges of 3.84% for global pay and paynamics, and 4.4%+15PHP Paypal fee will be charged from the merchant.\n          </li>\n        </ul>\n      </>\n    );\n  }\n\n  renderStep5() {\n    return(\n      <>\n        <h3 id=\"step5\">5&middot; Orders and User Payments</h3>\n        <ul>\n          <li>\n            <span className=\"txt-bold\">5.1</span>&middot; StreetBy is a platform for the sale of your products and services to consumers. Issues regarding damage, poor quality, and \n            false representation of your products and services are between you and the User, except in case of spoilage or adulteration of \n            the product due to any mishaps in delivery by StreetBy.\n          </li>\n          <li>\n            <span className=\"txt-bold\">5.2</span>&middot; You understand that Users’ booking options (dine-in, pick-up, delivery, booking for accommodation or service) are dependent \n            on your product application settings.\n          </li>\n          <li>\n            <span className=\"txt-bold\">5.3</span>&middot; You shall respond to Users’ bookings of products and services. You understand that User transaction fulfillment requires \n            either the confirmation or cancellation of an order. You shall coordinate with User and StreetBy support for application \n            transaction-related matters beyond the current application features or services, if any.\n          </li>\n          <li>\n            <span className=\"txt-bold\">5.4</span>&middot; The merchant shall provide the User with products consistent with the order details. StreetBy will consider paid \n            transactions as true and legitimate. Provided that StreetBy shall reimburse any commission billed in case of refunds of payment \n            by User due to glitches in the StreetBy Mobile App system.\n          </li>\n          <li>\n            <span className=\"txt-bold\">5.5</span>&middot; You are expected to only receive the total net amount for cash-on-delivery transactions (Price of product plus any related \n            fees less StreetBy Commission) and non-delivery cash transactions (Price of product plus any related fees less merchant or \n            StreetBy- initiated discounts, wallet or points used, if any) indicated on the order payment details, no more, no less. \n            Transactions through online gateway will be remitted as provided in Section 9.2.\n          </li>\n          <li>\n            <span className=\"txt-bold\">5.6</span>&middot; Unless provided with valid reason by both parties (User and provider), series of successive order cancellations by either \n            User or Provider may cause StreetBy to temporarily suspend account of either User or Provider, as the case maybe.\n          </li>\n          <li>\n            <span className=\"txt-bold\">5.7</span>&middot; StreetBy does not display the decimal values on home feed, search feed, and merchant pages for aesthetic purposes. The exact \n            value including the decimal value will be taken into account upon booking. \n          </li>\n        </ul>\n      </>\n    );\n  }\n\n  renderStep6() {\n    return(\n      <>\n        <h3 id=\"step6\">6&middot; StreetBy Pay - Discounts, Promos, Points, and Wallet</h3>\n        <ul>\n          <li>\n            <span className=\"txt-bold\">6.1</span>&middot; You understand that StreetBy may occasionally extend discounts and promos to Users for promotional activities tagged as \n            StreetBy Pay on the application. The cost of said discounts and promotions shall be exclusively borne by StreetBy.\n          </li>\n          <li>\n            <span className=\"txt-bold\">6.2</span>&middot; These discounts and promos may or may not be used in conjunction with other promos. \n          </li>\n          <li>\n            <span className=\"txt-bold\">6.3</span>&middot; You understand as well that User may earn points for their paid bookings. Orders still for confirmation and pending for \n            payment will not entitle User to earn points. Points earned are equivalent to the total worth of their paid order excluding \n            PayPal fee and other charges StreetBy may permit as excluded. \n          </li>\n          <li>\n            <span className=\"txt-bold\">6.4</span>&middot; You understand that User may use points for payment or as deduction from their order payment before delivery charges:  Two \n            hundred (200) points is equal to One Peso (Php 1.00). \n          </li>\n          <li>\n            <span className=\"txt-bold\">6.5</span>&middot; You understand that StreetBy allows User to use their StreetBy Wallet credits (i.e. Gift card credits) as payment for their \n            orders. \n          </li>\n          <li>\n            <span className=\"txt-bold\">6.6</span>&middot; You understand that User will only pay the total amount indicated on the application - Gross price less the StreetBy Pay \n            (Discounts, Promos, Wallet, and Points) if any. In case of cash payment and the delivery is done by the Provider, as provided in \n            Sections 8.2 and 8.3, the total amount (including the Delivery fee)  indicated on the StreetBy Mobile App  should be collected \n            by you or your staff-in-charge, unless additional charges are agreed between User and Provider.\n          </li>\n        </ul>\n      </>\n    );\n  }\n\n  renderStep7() {\n    return(\n      <>\n        <h3 id=\"step7\">7&middot; Other Charges</h3>\n        <ul>\n          <li>\n            <span className=\"txt-bold\">7.1</span>&middot; You are required to accept from three (3) modes of payment for StreetBy Mobile App transactions: (a) cash; (b) credit or \n            debit card through a payment gateway; and (c) PayPal account through PayPal gateway (d) GCash., in accordance with Section 9 \n            hereof. Charges of 3.84% for global pay and paynamics, and 4.4%+15PHP Paypal fee will be charged from the merchant.\n          </li>\n        </ul>\n      </>\n    );\n  }\n\n  renderStep8() {\n    return(\n      <>\n        <h3 id=\"step8\">8&middot; Delivery</h3>\n        <ul>\n          <li>\n            <span className=\"txt-bold\">8.1</span>&middot; StreetBy Delivery Service is a feature of the StreetBy Mobile App enabling Users to book orders and have orders delivered \n            from your business premises to the location entered by the User. \n          </li>\n          <li>\n            <span className=\"txt-bold\">8.2</span>&middot; StreetBy Delivery Service can be operated by StreetBy, operated by a User registering as a partner delivery service (the \n            “partner-rider”), or can be operated by the merchant (as provider) by adding a product as exclusive delivery service.\n          </li>\n          <li>\n            <span className=\"txt-bold\">8.3</span>&middot; When a merchant chooses to deliver, it can only deliver its own products.\n          </li>\n          <li>\n            <span className=\"txt-bold\">8.4</span>&middot; In case of delivery by StreetBy, the order details shall indicate an estimated delivery pick-up time and delivery time. \n            Estimated times may be dependent on the merchant's preparation time and factors such as traffic, delivery service involved in an \n            accident, broken down vehicle, weather conditions, and events caused by external parties or acts of God. StreetBy shall properly \n            notify the User and the Provider in case StreetBy Delivery Service is not available. \n          </li>\n          <li>\n            <span className=\"txt-bold\">8.5</span>&middot; Any damage or loss of product is the responsibility of the delivery service from the time it leaves the merchant’s business \n            premises up to the point it reaches the User provided that the packaging is secured, and the product is in good condition upon \n            pick-up.\n          </li>\n          <li>\n            <span className=\"txt-bold\">8.6</span>&middot; The merchant shall ensure the secured packaging of product to preserve temperature, quality, and avoid spillage. Delivery \n            service should ensure the merchant's responsibility for the packaging once they leave the merchant’s premises. If it is evident \n            that packaging is not secure, delivery service is entitled to return and request for an appropriate and secured packaging.\n          </li>\n          <li>\n            <span className=\"txt-bold\">8.7</span>&middot; Delay or return of delivery may be charged to the merchant due to missing item/s, unsecured packaging, or wrong item/s, \n            except if the same is due to StreetBy’s riders or partner-rider’s fault or negligence. In case of damage or spoilage to the \n            products due to StreetBy’s, or its directors’, officers’, employees’, agents’, assigns’, riders’, or partner-riders’ negligence, \n            fault, or omission, the cost of the damage, including but not limited to the replacement cost of the product, shall be borne by \n            StreetBy.\n          </li>\n        </ul>\n      </>\n    );\n  }\n\n  renderStep9() {\n    return(\n      <>\n        <h3 id=\"step9\">9&middot; StreetBy Commission and Billing</h3>\n        <ul>\n          <li>\n            <span className=\"txt-bold\">9.1</span>&middot; StreetBy will charge [Commission Rate] ([Commission Rate (Text)]) commission on the gross payment (price plus any related \n            charges) of every successful paid transaction, subject to Section 5.4 hereof.\n          </li>\n          <li>  \n            <span className=\"txt-bold\">9.2</span>&middot; Customer payments paid using the online gateway (credit card, debit, PayPal account) shall be credited to StreetBy’s payment \n            gateway account and gross price of Merchant’s product plus any additional charges by the merchant shall be credited every 15th \n            and 30th of the month to the PROVIDER (thru bank account deposit) less the commission, debit/credit card fees and charges, and \n            delivery services, if applicable, provided Merchant’s crediting account details are accurately setup. It is hereby understood \n            that StreetBy holds the sums payable to the Provider in trust, and StreetBy shall remit the same to the Provider without \n            unnecessary delay. The Provider shall be entitled to the full remedies available under this agreement and the law in case of \n            StreetBy’s non-remittance of the sums due to the Provider, including but not limited to, civil, criminal, and administrative \n            civil actions.\n          </li>\n          <li>  \n            <span className=\"txt-bold\">9.3</span>&middot; Cash transactions shall be billed accordingly: (a) for cash-on-delivery transactions, commission shall be deducted upon \n            payment of rider; (b) non-delivery cash transactions, commission shall be billed by StreetBy on a monthly schedule. \n          </li>\n          <li>  \n            <span className=\"txt-bold\">9.4</span>&middot; StreetBy may, at some unforeseen or uncontrolled events, send a billing statement at a later date, the payment of which \n            shall be adjusted accordingly.  \n          </li>\n          <li>  \n            <span className=\"txt-bold\">9.5</span>&middot; Discounts, Promos, Points, and Wallet credits, collectively termed as StreetBy Pay, are accounted for by StreetBy as a \n            promotional tool extended to Users. Therefore, StreetBy should remit back these credits upon billing. StreetBy will remit the \n            total amount accounted as Discounts, Promos, Points, and Wallet credits for the month’s transactions as a deduction from \n            StreetBy’s commission fee. In the case that the total amount accounted as Discounts, Promos, Points, and Wallet credits for the \n            month’s transactions exceeds Provider’s payable to StreetBy, StreetBy shall pay for the excess amount to the Provider.\n          </li>\n        </ul>\n      </>\n    );\n  }\n\n  renderStep10() {\n    return(\n      <>\n        <h3 id=\"step10\">10&middot; Infractions</h3>\n        <ul>\n          <li>\n            <span className=\"txt-bold\">10.1</span>&middot; As a Provider, you are subject to the sanctions indicated on the infraction table which shall be provided by the account \n            manager upon completion of page verification.\n          </li>\n          <li>   \n            <span className=\"txt-bold\">10.2</span>&middot; You understand that StreetBy may temporarily deactivate your page in accordance to any infraction committed on the table. \n          </li>\n          <li>   \n            <span className=\"txt-bold\">10.3</span>&middot; The infractions and corresponding sanctions are subject to change with prior notice and may be disseminated through any of \n            these channels: email, sms or push notification, or on-site visit.\n          </li>\n        </ul>\n      </>\n    );\n  }\n\n  renderStep11() {\n    return(\n      <>\n        <h3 id=\"step11\">11&middot; App Limitations</h3>\n        <ul>\n          <li>\n            <span className=\"txt-bold\">11.1</span>&middot; Due to the nature of the Internet, StreetBy Mobile App cannot guarantee the uninterrupted availability and accessibility of \n            the StreetBy Provider Solution. It can only be accessed through a validated distribution mobile application store and can only \n            be downloaded and updated from the Apple App Store and Google Playstore. StreetBy warrants any damages from accessing any non \n            verified website aside from the mentioned mobile application store.\n          </li>\n          <li>  \n            <span className=\"txt-bold\">11.2</span>&middot; There may be smartphone models whose specifications are not supported by StreetBy due to incompatibility or app \n            limitations. \n          </li>\n        </ul>\n      </>\n    );\n  }\n\n  renderStep12() {\n    return(\n      <>\n        <h3 id=\"step12\">12&middot; Version Updates</h3>\n        <ul>\n          <li>\n            <span className=\"txt-bold\">12.1</span>&middot;  StreetBy shall advise Provider for any version updates through any of these methods: email, application feed, social \n            media, and push notifications. It is your responsibility to update to the latest required version for the application features \n            to function properly.\n          </li>\n        </ul>\n      </>\n    );\n  }\n\n  renderStep13() {\n    return(\n      <>\n        <h3 id=\"step13\">13&middot; Termination</h3>\n        <ul>\n          <li>\n            <span className=\"txt-bold\">13.1</span>&middot; A party has the right to terminate this agreement at anytime for whatever cause upon a prior thirty (30) day notice to the other \n            party. In case of any breach of the terms thereof which remain unremedied for a period of fifteen (15) days from the receipt of \n            the written notice from the aggrieved party, the aggrieved party may terminate this agreement immediately upon a prior written \n            notice to the erring party.\n          </li>\n        </ul>\n      </>\n    );\n  }\n\n  renderStep14() {\n    return(\n      <>\n        <h3 id=\"step14\">14&middot; Amendments</h3>\n        <ul>\n          <li>\n            <span className=\"txt-bold\">14.1</span>&middot; This agreement may be amended by the parties upon their mutual written agreement.\n          </li>\n          <li>\n            <span className=\"txt-bold\">14.2</span>&middot; This agreement is between the company and the provider only. StreetBy will not be liable for any agreement between the provider and it’s sub-merchants. \n          </li>\n        </ul>\n      </>\n    );\n  }\n        \n  renderPageVerified() {\n    return(\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"success\">\n                  <h4 className=\"alert-heading\">Already Agreed with our Terms & Policies</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    Please update your store information. Click {\" \"} <Link to=\"/page\">here</Link> {\" \"} to proceed your store.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  renderNoPageAdded() {\n    return (\n      <div className=\"content\">\n        <div className=\"react-notification-alert-container\">\n          <NotificationAlert ref=\"notify\" />\n        </div>\n        <Row>\n          <Col sm=\"12\" md=\"12\" lg=\"12\">\n            <Card>\n              <CardBody>\n                <Alert color=\"danger\">\n                  <h4 className=\"alert-heading\">No Page Added</h4>\n                  <hr />\n                  <p className=\"mb-0\">\n                    You have not added a page yet. Click{\" \"} <Link to=\"/add-page\">here</Link> {\" \"}to add a new page.\n                  </p>\n                </Alert>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n\n  render() {\n    const pageInfo = JSON.parse(getSession(\"pageInfo\"));\n    if(this.state.isLoading) {\n      return (\n        <>\n          <div className=\"content\">\n            <div className=\"react-notification-alert-container\">\n              <NotificationAlert ref=\"notify\" />\n            </div>\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h3 className=\"title text-navy\">Statement of Agreement</h3>\n                  </CardHeader>\n                  <CardBody>\n                    <PulseLoader\n                      sizeUnit={\"px\"}\n                      size={15}\n                      color={'#1d8cf8'}\n                      loading={this.state.isLoading}\n                    />\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </>\n      );\n    } else {\n      if(pageInfo && pageInfo._id) {\n        if(pageInfo.isVerified !== true) {\n          return (\n            <>\n              <div className=\"content\" style={{paddingBottom:'unset'}}>\n                <div className=\"react-notification-alert-container\">\n                  <NotificationAlert ref=\"notify\" />\n                </div>\n                <Row>\n                  <Col md=\"12\">\n                    <Card style={{marginBottom:'unset'}}>\n                      <CardHeader>\n                        <h2 className=\"title text-navy\">Statement of Agreement</h2>\n                      </CardHeader>\n                      <CardBody>\n                        <Row>\n                          <Col sm=\"12\" md=\"3\" lg=\"3\">\n                            {this.renderVerticalNavBar()}\n                          </Col>\n                          <Col sm=\"12\" md=\"9\" lg=\"9\" style={{ lineHeight: '1.5rem' }}>\n                            <Row>\n                              <Col sm=\"12\" className=\"soa\">\n                                {this.renderStep0()}\n                                {this.renderStep1()}\n                                {this.renderStep2()}\n                                {this.renderStep3()}\n                                {this.renderStep4()}\n                                {this.renderStep5()}\n                                {this.renderStep6()}\n                                {this.renderStep7()}\n                                {this.renderStep8()}\n                                {this.renderStep9()}\n                                {this.renderStep10()}\n                                {this.renderStep11()}\n                                {this.renderStep12()}\n                                {this.renderStep13()}\n                                {this.renderStep14()}\n                              </Col>\n                            </Row>\n                          </Col>\n                        </Row>\n                        <Row>\n                          <Col md=\"12\" style={{ marginTop: '15px', borderTop: '2px solid #004085' }}>\n                            <Form>\n                              <FormGroup>\n                                <label style={{ marginTop: '15px' }}>\n                                  <Input\n                                    type=\"checkbox\"\n                                    className=\"enable-disable-checkbox\"\n                                    id=\"iAgree\"\n                                    name=\"iAgree\"\n                                    checked={this.state.iAgree}\n                                    onChange={this.handleCheckAgree}\n                                  />\n                                  <span className=\"form-check-sign\">\n                                    <span className=\"check\" />\n                                  </span>\n                                  <span className=\"txt-semi-bold\">I agree with the Statement of Agrement</span>\n                                </label>\n                              </FormGroup>\n                              <FormGroup>\n                                <Button className=\"btn-fill btn-round\" color=\"info\" type=\"submit\" onClick={this.handleSubmit}>\n                                  SUBMIT\n                                </Button>\n                              </FormGroup>\n                            </Form>\n                          </Col>\n                        </Row>\n                      </CardBody>\n                    </Card>\n                  </Col>\n                </Row>\n              </div>\n              <LoadingOverlay\n                active={this.state.isSaving}\n                spinner\n                text='Saving...'\n                >\n              </LoadingOverlay>\n            </>\n          );\n        } else {\n          return(this.renderPageVerified());\n        }\n      } else {\n        return (this.renderNoPageAdded());\n      }\n    }\n  }\n}\n\nconst mapStateToProps = () => ({});\n\n//export default UserProfile;\nexport default connect(mapStateToProps,{getPageById, updatePage})(Agreement);","import React from \"react\";\nimport { getSession } from \"../../config/session\";\nimport { connect } from \"react-redux\";\nimport api from \"../../config/api\";\nimport { getPageById } from \"../../layouts/Admin/actions/PageActions\";\nimport NotificationAlert from \"react-notification-alert\";\nimport { PulseLoader } from \"react-spinners\";\nimport LoadingOverlay from 'react-loading-overlay';\nimport XLSX from 'xlsx';\nimport Select from 'react-select'\nimport { format } from 'date-fns';\nimport queryString from \"query-string\";\nimport QRCode from 'qrcode.react';\nimport Pagination from \"react-js-pagination\";\nimport { getProductsByPageId } from \"../../layouts/Admin/actions/ProductActions\";\n\nimport {\n  Badge,\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  FormGroup,\n  Form,\n  Input,\n  Row,\n  Table,\n  Col\n} from \"reactstrap\";\n\nclass ProductVouchers extends React.Component {\n  constructor(props) {\n    const userData = JSON.parse(getSession(\"userData\"));\n    super(props);\n    this.state = {\n      userExist: false,\n      payload: \"\",\n      invalidJsonText: \"\",\n      vouchers: [],\n      file: {},\n      totalItems: 0,\n      isLoading: true,\n      submitted: false,\n      isUploading: false,\n      userData: userData,\n      voucherCodes: [],\n      pagination: {},\n      activePage: 1,\n      size: 50,\n      keyword: \"\",\n      filterStatus: \"all\",\n      statusList: [\n        {\n          value: \"all\",\n          label: \"Select status\",\n        },\n        {\n          value: \"used\",\n          label: \"Used\",\n        },\n        {\n          value: \"notUsed\",\n          label: \"Not Used\",\n        }\n      ],\n      filterProduct: \"all\",\n      productList: []\n    };\n  }\n\n  componentDidMount() {\n    let pageId = JSON.parse(getSession(\"defaultPage\"))\n    const userData = JSON.parse(getSession(\"userData\"))\n    const { sessionToken } = userData\n    this.props.getProductsByPageId(\n      pageId,\n      {\n        size: 100\n      },\n      sessionToken,\n      (error, result) => {\n        if (!error && result) {\n          let productsArr = [\n            {\n              value: \"all\",\n              label: \"Select product\",\n            }\n          ]\n          const { products } = result\n          if(products && products.length > 0) {\n            products.forEach(item => {\n              const product ={\n                value: item._id,\n                label: item.name,\n              }\n              productsArr = [...productsArr,product]\n            })\n          }\n          this.setState({\n            productList: productsArr\n          });\n        }\n      }\n    );\n\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    let activePage = query.page ? Number(query.page) : 1;\n    this.setState({\n      filterProduct: query.product ? query.product : \"all\",\n      keyword: query.keyword ? query.keyword : \"\",\n      filterStatus: query.status ? query.status : \"all\",\n      activePage: activePage\n    });\n    if(query.status && query.status === \"all\") {\n      delete query.status;\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.refreshProductVouchers(queryStr);\n  }\n\n  showNotification(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"success\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      if(notification && this.refs.notify && this.refs.notify.notificationAlert) {\n        this.refs.notify.notificationAlert(notification);\n      }\n    }\n  }\n\n  showNotificationError(message) {\n    if(message) {\n      const notification = {\n        place: 'tc',\n        message: (\n          <div>\n            <div>\n              {message}\n            </div>\n          </div>\n        ),\n        type: \"danger\",\n        icon: \"\",\n        autoDismiss: 5\n      }\n      if(notification && this.refs.notify && this.refs.notify.notificationAlert) {\n        this.refs.notify.notificationAlert(notification);\n      }\n    }\n  }\n\n  handleFileSelect = (e) => {\n    const file = e.target.files[0];\n    this.setState({file:file});\n  }\n\n  handleFileUpload = (e) => {\n    if (!window.confirm(\"Do you want to continue uploading the voucher codes?\")){\n      return false;\n    }\n    this.setState({isUploading:true});\n    const userData = JSON.parse(getSession(\"userData\"));\n    const pageId = JSON.parse(getSession(\"defaultPage\"));\n    let sessionToken = \"\";\n    if(userData) {\n      sessionToken = userData.sessionToken;\n    } else {\n      this.props.history.push(\"/login\");\n      window.location.reload();\n    }\n    const { file } = this.state;\n    if(file && file instanceof File) {\n      if(file.type === \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" || file.type === \"application/vnd.ms-excel\") {\n        const fileReader = new FileReader();\n        fileReader.onload = function(event) {\n          const data = event.target.result;\n          const workbook = XLSX.read(data, {\n            type: \"binary\"\n          });\n          workbook.SheetNames.forEach(sheet => {\n            let rowObject = XLSX.utils.sheet_to_row_object_array(\n              workbook.Sheets[sheet]\n            );\n            let jsonObject = JSON.stringify(rowObject);\n            const vouchersArr = JSON.parse(jsonObject)\n            const body = {\n              vouchers: vouchersArr\n            }\n            if(sessionToken && vouchersArr && vouchersArr instanceof Array && vouchersArr.length > 0 ) {\n              api(sessionToken).post(`/product-vouchers/${pageId}/import-product-vouchers-from-excel`,body)\n                .then(resp => {\n                  if (resp.data) {\n                    if(resp.statusText === 'OK' && resp.data && resp.data.length > 0) {\n                      alert(`You successfully added ${resp.data.length} vouchers codes!`);\n                    }\n                  } else {\n                    alert('There is an error uploading the vouchers. No response from server.');\n                  }\n                })\n                .catch(error => {\n                  console.error({error});\n                  if(typeof error === 'string') {\n                    alert(error);\n                  } else {\n                    if(error.response && error.response.data && error.response.data.message && typeof error.response.data.message === 'string') {\n                      alert(error.response.data.message);\n                    } else {\n                      alert('There is an error uploading the vouchers. Please try again.');\n                    }\n                  }\n                });\n            }\n          });\n        };\n        fileReader.readAsBinaryString(this.state.file);\n        this.setState({\n          isUploading: false,\n          file: {}\n        });\n        setTimeout(() => {\n          const url = this.props.location.search;\n          const query = queryString.parse(url);\n          const queryStr = \"?\" + queryString.stringify(query);\n          this.refreshProductVouchers(queryStr);\n          document.getElementById('fileUploader').value = null\n        },1500)\n      } else {\n        this.setState({\n          isUploading:false,\n          file:{}\n        });\n        setTimeout(() => {\n          document.getElementById('fileUploader').value = null\n        },2000)\n        this.showNotificationError('Invalid Excel file. Please select an .xls or .xlsx file only.');\n      }\n    } else {\n      this.setState({isUploading:false});\n      this.showNotificationError('No file selected. Please select an excel file.');\n    }\n  }\n\n  handlePageChange = (pageNumber) => {\n    this.setState({ isLoading: true });\n    const defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    if(query.status && query.status === \"all\") {\n      delete query.status;\n    }\n    query.page = pageNumber;\n    query.place = defaultPage;\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({ activePage: pageNumber });\n    this.refreshProductVouchers(queryStr);\n  }\n\n  handleChangePerPage = (e) => {\n    this.setState({isLoading:true});\n    let { value } = e.target;\n    const defaultPage = JSON.parse(getSession(\"defaultPage\"));\n    let url = this.props.location.search;\n    let query = queryString.parse(url);\n    delete query.message;\n    if(query.status && query.status === \"all\") {\n      delete query.status;\n    }\n    query.place = defaultPage;\n    if (value !== \"\") {\n      query.size = value;\n    } else {\n      delete query.size;\n    }\n    let queryStr = \"?\" + queryString.stringify(query);\n    this.setState({ size: value });\n    this.refreshProductVouchers(queryStr);\n  }\n\n  handleChangeStatus = (e) => {\n    if(e && e.value && e.value.length) {\n      const { value } = e\n      this.setState({filterStatus: value})\n      const url = this.props.location.search\n      const query = queryString.parse(url);\n      query.status = value\n      const queryStr = \"?\" + queryString.stringify(query)\n      this.refreshProductVouchers(queryStr);\n    }\n  }\n\n  handleSelectProduct = (e) => {\n    if(e && e.value && e.value.length) {\n      const { value } = e\n      this.setState({filterProduct: value})\n      const url = this.props.location.search\n      const query = queryString.parse(url);\n      query.product = value\n      const queryStr = \"?\" + queryString.stringify(query)\n      this.refreshProductVouchers(queryStr);\n    }\n  }\n  \n  handleChangeKeyword = (e) => {\n    const value = e.target && e.target.value ? e.target.value : \"\"\n    this.setState({keyword: value})\n  }\n\n  handleEnter = (e) => {\n    let { key } = e;\n    if (key === 'Enter') {\n      this.setState({ isLoading:true, activePage:1 });\n      let { keyword } = this.state;\n      let url = this.props.location.search;\n      let query = queryString.parse(url);\n      delete query.page;\n      if(query.status && query.status === \"all\") {\n        delete query.status;\n      }\n      if (keyword !== \"\") {\n        query.keyword = keyword.trim();\n      } else {\n        delete query.keyword;\n      }\n      let queryStr = \"?\" + queryString.stringify(query);\n      this.refreshProductVouchers(queryStr);\n    }\n  }\n\n  refreshProductVouchers(queryStr) {\n    const query = queryString.parse(queryStr);\n    const message = query.message\n    if(message) {\n      delete query.message;\n      this.showNotification(message);\n    }\n    \n    this.props.history.push(\"/product-vouchers\" + queryStr);\n    const userData = JSON.parse(getSession(\"userData\"));\n    const placeId = JSON.parse(getSession(\"defaultPage\"));\n    const { sessionToken } = userData;\n\n    if (userData !== null) {\n      if(sessionToken && placeId) {\n        query.place = placeId\n        api(sessionToken).get(`/product-vouchers`,{ params:query})\n          .then(resp => {\n            if(resp && resp.data) {\n              const vouchers = resp.data.docs\n              const pagination = {\n                total: resp.data.total,\n                limit: resp.data.limit,\n                offset: resp.data.page\n              }\n              this.setState({\n                voucherCodes: vouchers,\n                pagination: pagination\n              }, function(){\n                this.setState({isLoading:false})\n              });\n            }\n          })\n          .catch(error => {\n            console.error({error});\n          });\n      }\n    }\n  } \n\n  render() {\n    if(this.state.isLoading) {\n      return (\n        <>\n          <div className=\"content\">\n            <div className=\"react-notification-alert-container\">\n              <NotificationAlert ref=\"notify\" />\n            </div>\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h3 className=\"title\">Voucher Codes</h3>\n                  </CardHeader>\n                  <CardBody>\n                    <Row>\n                      <Col className=\"pr-md-1\" sm=\"12\">\n                        <PulseLoader\n                          sizeUnit={\"px\"}\n                          size={15}\n                          color={'#1d8cf8'}\n                          loading={this.state.isLoading}\n                        />\n                      </Col>\n                    </Row>\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n        </>\n      );\n    } else {\n      const { voucherCodes, pagination, activePage } = this.state\n      return (\n        <>\n          <div className=\"content\">\n            <div className=\"react-notification-alert-container\">\n              <NotificationAlert ref=\"notify\" />\n            </div>\n            <Row>\n              <Col sm=\"12\" md=\"12\" lg=\"12\">\n                <Card>\n                  <CardHeader>\n                    <h3 className=\"title\">Voucher Codes</h3>\n                  </CardHeader>\n                  <CardBody>\n                    <Row>\n                      <Col className=\"pr-md-1\" sm=\"12\">\n                        <Form>  \n                          <Row>\n                            <Col md=\"12\" sm=\"12\">\n                              <FormGroup\n                                className={\n                                  this.state.submitted &&\n                                  !this.state.payload\n                                    ? \" has-danger\"\n                                    : \"\"\n                                }\n                              >\n                                <label htmlFor=\"payload\" className=\"control-label\">Upload Voucher Codes. Select Excel file to upload</label>\n                                <p className=\"text-danger\">{this.state.invalidJsonText}</p>\n                                <input type=\"file\" id=\"fileUploader\" name=\"fileUploader\" onChange={this.handleFileSelect} accept=\".xls, .xlsx\" style={{width:'auto', opacity:1, position:'relative'}}/>\n                              </FormGroup>\n                            </Col>\n                          </Row>\n                          <Row>\n                            <Col md=\"12\" sm=\"12\">\n                              <Button className=\"btn-fill btn-round btn-sm\" color=\"info\" type=\"button\" onClick={this.handleFileUpload}>\n                                Upload Vouchers\n                              </Button>\n                              <a rel=\"noopener noreferrer\" target=\"_blank\" className=\"btn btn-fill btn-round btn-info btn-sm\" href=\"https://drive.google.com/file/d/1dPZzfp5oPROcV8M_UK5iSj3zSAbaAVb0/view?usp=sharing\">Download Template</a> \n                            </Col>\n                          </Row>\n                        </Form>          \n                      </Col>\n                    </Row>\n                    <Row>\n                      <Col className=\"pr-md-1\" sm=\"12\">\n                        <h4>List of Voucher Codes</h4>\n                        <Row>\n                          <Col md=\"4\">\n                            <FormGroup>\n                              <Input\n                                id=\"keyword\"\n                                name=\"keyword\"\n                                type=\"text\"\n                                placeholder=\"Search...\"\n                                onChange={this.handleChangeKeyword}\n                                onKeyPress={this.handleEnter}\n                                value={this.state.keyword}\n                              >\n                              </Input>\n                            </FormGroup>\n                          </Col>\n                          <Col md=\"4\">\n                            <FormGroup>\n                              <Select\n                                className=\"react-select\"\n                                styles={{fontSize:'13px !important'}}\n                                options={this.state.statusList}\n                                onChange={this.handleChangeStatus}\n                                placeholder=\"Select status\"\n                                value={this.state.statusList.filter(item => item.value === this.state.filterStatus)}\n                              />\n                            </FormGroup>\n                          </Col>\n                          <Col md=\"4\">\n                            <FormGroup>\n                              <Select\n                                className=\"react-select\"\n                                styles={{fontSize:'13px !important'}}\n                                options={this.state.productList}\n                                onChange={this.handleSelectProduct}\n                                placeholder=\"Select product\"\n                                value={this.state.productList.filter(item => item.value === this.state.filterProduct)}\n                              />\n                            </FormGroup>\n                          </Col>\n                        </Row>\n                        {voucherCodes && voucherCodes.length > 0 ?\n                          (\n                            <Table className=\"product-vouchers table-striped responsive\" responsive>\n                              <thead>\n                                <tr>\n                                  <th>&nbsp;</th>\n                                  <th colSpan=\"2\">Code</th>\n                                  <th>Product</th>\n                                  <th>Used</th>\n                                  <th>From</th>\n                                  <th>Order No.</th>\n                                  <th>Customer</th>\n                                  <th>Added</th>\n                                </tr>\n                              </thead>\n                              <tbody>\n                                {voucherCodes.map((item,index) =>\n                                  <tr key={item._id}>\n                                    <td>{index+1}.</td>\n                                    <td>\n                                      <QRCode \n                                        size={50}\n                                        value={item.code} \n                                      />\n                                    </td>\n                                    <td>\n                                      <strong style={{ fontFamily:'monospace'}}>{item.code}</strong>\n                                    </td>\n                                    <td>{item.product.name}</td>\n                                    <td>\n                                      {item.isUsed ? \n                                        <Badge color=\"secondary\">YES</Badge> :\n                                        <Badge color=\"success\">NO</Badge> }<br />\n                                      <em style={{ fontSize:'85%'}}>{item.dateUsed && item.dateUsed.length > 0 ? format(new Date(item.dateUsed),\"yyyy-MM-dd hh:mm a\") : \"\"}</em>\n                                    </td>\n                                    <td>\n                                      {item.claimedFrom && item.claimedFrom.length && item.claimedFrom.toUpperCase()}\n                                    </td>\n                                    <td>\n                                      <strong style={{ fontFamily:'monospace'}}>{item.order && item.order.length > 0 ? lastSixDigits(item.order) : \"\"}</strong>\n                                    </td>\n                                    <td>\n                                      {item.customer && item.customer.firstName &&\n                                        `${item.customer.firstName} ` }\n                                      {item.customer && item.customer.lastName &&\n                                        item.customer.lastName}<br />\n                                      {item.customer && item.customer.email &&\n                                        <em style={{ fontSize:'85%'}}>({item.customer.email})</em>}\n                                    </td>\n                                    <td>{format(new Date(item.createdAt),\"MMM dd, yyyy hh:mm a\")}</td>\n                                  </tr>\n                                )}\n                              </tbody>\n                            </Table>\n                          )\n                          :\n                          (<p><em className=\"text-danger\">No vouchers added.</em></p>)\n                        }\n                      </Col>\n                    </Row>\n                  </CardBody>\n                  <CardFooter>\n                    <Row>\n                      <Col md=\"12\">\n                        <Row className=\"pull-right\">\n                          <Col md=\"4\" lg=\"4\">\n                            <FormGroup>\n                              {this.state.pagination && this.state.pagination.total > 0 &&\n                                <Input\n                                  style={{marginBottom:'5px'}}\n                                  id=\"perPage\"\n                                  name=\"perPage\"\n                                  type=\"select\"\n                                  onChange={this.handleChangePerPage}\n                                  value={this.state.size}\n                                >\n                                  <option value=\"10\">10 / page</option>\n                                  <option value=\"25\">25 / page</option>\n                                  <option value=\"50\">50 / page</option>\n                                  <option value=\"100\">100 / page</option>\n                                </Input>\n                              }\n                            </FormGroup>\n                          </Col>\n                          <Col md=\"8\" lg=\"8\">\n                            {pagination && pagination.total > 0 &&\n                              <>\n                                <Pagination\n                                  innerClass=\"pagination\"\n                                  activePage={activePage}\n                                  itemsCountPerPage={pagination.limit}\n                                  totalItemsCount={pagination.total}\n                                  pageRangeDisplayed={3}\n                                  onChange={this.handlePageChange}\n                                />\n                                <p>Page <em>{activePage}</em> of <em>{Math.ceil(pagination.total/pagination.limit)}</em> of <em>{numberWithCommasOnly(pagination.total)}</em> vouchers.</p>\n                              </>\n                            }\n                          </Col>\n                        </Row>\n                      </Col>\n                    </Row>\n                  </CardFooter>\n                </Card>\n              </Col>\n            </Row>\n            <LoadingOverlay\n              active={this.state.isUploading}\n              spinner\n              text='Uploading vouchers...'\n              >\n            </LoadingOverlay>\n          </div>\n        </>\n      );\n    }\n  }\n}\n\nconst numberWithCommasOnly = x => {\n  return priceRound(x,0).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n};\n\nconst priceRound = (price, dec) => {\n  if (dec === undefined) {\n    dec = 2;\n  }\n  if (price !== 0) {\n    if (!price || isNaN(price)) {\n      throw new Error(\"price is not a number\" + price);\n    }\n  }\n  const str = parseFloat(Math.round(price * 100) / 100).toFixed(dec);\n  return str;\n};\n\nconst lastSixDigits = (string) => {\n  let str = string.toString();\n  let sixDigits = new Array(str.length - 6 + 1).join('') + str.slice(-6);\n  return \"...\" + sixDigits;\n}\n\nconst mapStateToProps = () => ({});\n\nexport default connect(mapStateToProps,\n  {\n    getPageById,\n    getProductsByPageId\n  }\n)(ProductVouchers);","//import Dashboard from \"views/Dashboard.jsx\";\nimport Products from \"components/Products/ProductList.js\";\nimport AddProduct from \"components/Products/Add.js\";\nimport EditProduct from \"components/Products/Edit.js\";\nimport TourList from \"components/Tours/TourList.js\";\nimport TourDates from \"components/TourDates/TourDateList.js\";\nimport AddTour from \"components/Tours/AddTour.js\";\nimport EditTour from \"components/Tours/EditTour.js\";\nimport ImportProducts from \"components/Products/ImportProducts.js\";\nimport ImportProductsJson from \"components/Products/ImportProductsJson.js\";\nimport ImportProductsExcel from \"components/Products/ImportProductsExcel.js\";\nimport ProductCategories from \"components/ProductCategory/ProductCategory.js\";\nimport AddProductCategory from \"components/ProductCategory/AddProductCategory.js\";\nimport EditProductCategory from \"components/ProductCategory/EditProductCategory.js\"\nimport AddPage from \"views/AddPage.js\";\nimport EditPage from \"views/EditPage.js\";\nimport Settings from \"views/Settings.js\";\nimport ChangePassword from \"views/ChangePassword.js\";\nimport SalesReports from \"components/Reports/SalesReports.js\";\nimport OrderReports from \"components/Reports/OrderReports.js\";\nimport ProductReports from \"components/Reports/ProductReports.js\";\nimport OrdersList from \"components/Orders/OrdersList.js\";\nimport UploadProductImages from \"components/Products/UploadProductImages.js\";\nimport ImportCategoriesExcel from \"components/ProductCategory/ImportCategoriesExcel.js\";\nimport SyncProductCategories from \"components/ProductCategory/SyncProductCategories.js\";\nimport Activate from \"views/Activate.js\";\nimport Agreement from \"views/Agreement.js\";\nimport ProductVouchers from \"components/Products/ProductVouchers.js\";\n\nvar routes = [\n  {\n    path: \"/add-page\",\n    name: \"Add Store\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-single-copy-04\",\n    component: AddPage,\n    layout: \"/admin\",\n    showOnSidebar: false,\n  },\n  {\n    path: \"/page\",\n    name: \"Setup Store\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-single-copy-04\",\n    component: EditPage,\n    layout: \"/admin\",\n    showOnSidebar: true,\n  },\n  {\n    path: \"/product-categories\",\n    name: \"Categories\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-bullet-list-67\",\n    component: ProductCategories,\n    layout: \"/admin\",\n    showOnSidebar: true,\n  },\n  {\n    path: \"/products\",\n    name: \"Products\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-app\",\n    component: Products,\n    layout: \"/admin\",\n    showOnSidebar: true,\n    collapse: true,\n  },\n  {\n    path: \"/tours\",\n    name: \"Tours\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-app\",\n    component: TourList,\n    layout: \"/admin\",\n    showOnSidebar: true,\n    collapse: true,\n  },\n  {\n    path: \"/tour-dates\",\n    name: \"Tour Dates\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-calendar-60\",\n    component: TourDates,\n    layout: \"/admin\",\n    showOnSidebar: true,\n    collapse: true,\n  },\n  {\n    path: \"/products/new\",\n    name: \"Add Product\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-app\",\n    component: AddProduct,\n    layout: \"/admin\",\n    showOnSidebar: false,\n  },\n  {\n    path: \"/products/:_id/edit\",\n    name: \"Edit Product\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-app\",\n    component: EditProduct,\n    layout: \"/admin\",\n    showOnSidebar: false,\n  },\n  {\n    path: \"/tours/new\",\n    name: \"Add Tour\",\n    rtlName: \"\",\n    icon: \"\",\n    component: AddTour,\n    layout: \"/admin\",\n    showOnSidebar: false,\n  },\n  {\n    path: \"/tours/:_id/edit\",\n    name: \"Edit Tour\",\n    rtlName: \"\",\n    icon: \"\",\n    component: EditTour,\n    layout: \"/admin\",\n    showOnSidebar: false,\n  },\n  {\n    path: \"/order-list\",\n    name: \"Orders\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-notes\",\n    component: OrdersList,\n    layout: \"/admin\",\n    showOnSidebar: true,\n  },\n  {\n    path: \"/product-vouchers\",\n    name: \"Product Vouchers\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-tag\",\n    component: ProductVouchers,\n    layout: \"/admin\",\n    showOnSidebar: true,\n  },\n  {\n    path: \"/import-products\",\n    name: \"Import Products\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-cloud-download-93\",\n    component: ImportProducts,\n    layout: \"/ImportVoucherCodesExcel\",\n    showOnSidebar: true,\n  },\n  {\n    path: \"/import-products-excel\",\n    name: \"Import Products - XLS\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-cloud-download-93\",\n    component: ImportProductsExcel,\n    layout: \"/admin\",\n    showOnSidebar: true,\n  },\n  {\n    path: \"/product-categories/new\",\n    name: \"Add Product Category\",\n    rtlName: \"\",\n    icon: \"\",\n    component: AddProductCategory,\n    layout: \"/admin\",\n    showOnSidebar: false,\n  },\n  {\n    path: \"/product-categories/:_id/edit\",\n    name: \"Edit Product Category\",\n    rtlName: \"\",\n    icon: \"\",\n    component: EditProductCategory,\n    layout: \"/admin\",\n    showOnSidebar: false,\n  },\n  {\n    path: \"/reports/sales\",\n    name: \"Sales Reports\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-coins\",\n    component: SalesReports,\n    layout: \"/admin\",\n    showOnSidebar: true,\n  },\n  {\n    path: \"/reports/order\",\n    name: \"Order Reports\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-cart\",\n    component: OrderReports,\n    layout: \"/admin\",\n    showOnSidebar: true,\n  },\n  {\n    path: \"/reports/product\",\n    name: \"Product Reports\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-chart-bar-32\",\n    component: ProductReports,\n    layout: \"/admin\",\n    showOnSidebar: true,\n  },\n  {\n    path: \"/settings\",\n    name: \"Account Settings\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-settings\",\n    component: Settings,\n    layout: \"/admin\",\n    showOnSidebar: true,\n  },\n  {\n    path: \"/settings/change-password\",\n    name: \"Change Password\",\n    rtlName: \"\",\n    icon: \"\",\n    component: ChangePassword,\n    layout: \"/admin\",\n    showOnSidebar: false,\n  },\n  {\n    path: \"/product-images/bulk-upload\",\n    name: \"Products Images\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-cloud-upload-94\",\n    component: UploadProductImages,\n    layout: \"/admin\",\n    showOnSidebar: false,\n  },\n  {\n    path: \"/import-products-json\",\n    name: \"Import Products - JSON\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-cloud-download-93\",\n    component: ImportProductsJson,\n    layout: \"/admin\",\n    showOnSidebar: false,\n  },\n  {\n    path: \"/import-categories-excel\",\n    name: \"Import Categories - XLS\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-cloud-download-93\",\n    component: ImportCategoriesExcel,\n    layout: \"/admin\",\n    showOnSidebar: false,\n  },\n  {\n    path: \"/sync-product-categories\",\n    name: \"Sync Product Categories\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-cloud-download-93\",\n    component: SyncProductCategories,\n    layout: \"/admin\",\n    showOnSidebar: false,\n  },\n  {\n    path: \"/statement-of-agreement\",\n    name: \"Statement of Agreement\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-paper\",\n    component: Agreement,\n    layout: \"/admin\",\n    showOnSidebar: false,\n  },\n  {\n    path: \"/activate-store\",\n    name: \"Activate Store\",\n    rtlName: \"\",\n    icon: \"tim-icons icon-check-2\",\n    component: Activate,\n    layout: \"/admin\",\n    showOnSidebar: false,\n  }\n];\nexport default routes;","import React from 'react';\nimport { Router, Route, BrowserRouter, Switch, } from \"react-router-dom\";\nimport { Provider } from 'react-redux';\nimport { createBrowserHistory } from \"history\";\nimport store from './config/store';\nimport { getSession } from './config/session';\nimport Login from \"layouts/User/Login.jsx\";\nimport Register from \"layouts/User/Register.js\";\nimport AdminLayout from \"layouts/Admin/Admin.jsx\";\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faIgloo, faEdit, faAdjust, faCog, faCopy, faPlus, faPlusSquare, faMinusSquare, faTrash, faTrashAlt, \n  faTimes, faPrint, faArchive, faTimesCircle, faEyeSlash, faEye, faImage, faImages, faArrowUp, \n  faArrowDown, faChevronUp, faChevronDown, faChevronLeft, faChevronRight, faFile, faFilePdf, faFileAlt, faMap, faMapPin,\n  faCube, faExclamationTriangle, faQuestionCircle, faCalendar, faCalendarAlt, faMobileAlt, faPhoneSquare, faEnvelope,\n  faFileExcel, faMapMarkerAlt, faHome, faFlag, faMonument, faMapMarked, faLock, faCheckCircle\n} from '@fortawesome/free-solid-svg-icons'\nimport { faSquare, faCheckSquare, faFolder, faFolderOpen } from '@fortawesome/free-regular-svg-icons'\n\nimport \"assets/scss/black-dashboard-react.scss\";\nimport \"assets/demo/demo.css\";\nimport \"assets/css/nucleo-icons.css\";\n\nlibrary.add(faIgloo, faEdit, faAdjust, faCog, faCopy, faPlus, faSquare, faCheckSquare, faPlusSquare, faMinusSquare, \n  faTrash, faTrashAlt, faTimes, faFolder, faFolderOpen, faFile, faFileAlt, faFilePdf, faPrint, faArchive, faTimesCircle, \n  faEyeSlash, faEye, faImage, faImages, faArrowUp, faArrowDown, faChevronUp, faChevronDown, faChevronLeft, \n  faChevronRight, faMap, faMapPin, faCube, faExclamationTriangle, faQuestionCircle, faCalendar, faCalendarAlt, faEnvelope, \n  faMobileAlt, faPhoneSquare, faFileExcel, faMapMarkerAlt, faHome, faFlag, faMonument, faMapMarked, faLock, faCheckCircle );\n\nconst hist = createBrowserHistory();\n\nexport default class App extends React.Component {\n\n  state = {\n    loggedIn: false,\n  }\n\n  componentDidMount() {\n    if(getSession('userData') === null) {\n      return this.setState({ loggedIn: false });\n    }\n    this.setState({ loggedIn: true });\n  }\n\n  render() {\n    return (\n      <Provider store={store}>\n        <Router history={hist}>\n          <BrowserRouter>\n            {/* <Switch>\n              {userData &&\n                <Fragment>\n                  <Route path=\"/\" render={props => <AdminLayout {...props} />} />\n                  <Route exact path=\"/\" render={() => <Redirect to=\"/products\"/>}/>\n                  <Route exact path=\"/login\" render={() => <Redirect to=\"/products\"/>}/>\n                </Fragment>\n              }\n              {!userData &&\n                <Fragment>\n                  <Route exact path=\"/\" component={Login} />\n                  <Route exact path=\"/login\" component={Login} />\n                  <Route exact path=\"/register\" component={Register} />\n                </Fragment>\n              }\n            </Switch> */}\n            <Switch>\n              <Route exact path=\"/\" component={Login} />\n              <Route exact path=\"/login\" component={Login} />\n              <Route exact path=\"/register\" component={Register} />\n              <Route path=\"/\" render={props => <AdminLayout {...props} />} />\n            </Switch>\n          </BrowserRouter>\n        </Router>\n      </Provider>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./app.js\";\n\nimport './react-datetime.css';\nimport './react-input-tags.css';\nimport '../node_modules/react-toggle-switch/dist/css/switch.min.css';\n\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById(\"root\")\n);\n","module.exports = __webpack_public_path__ + \"static/media/sb-pin-logo-blu.877f4495.png\";"],"sourceRoot":""}